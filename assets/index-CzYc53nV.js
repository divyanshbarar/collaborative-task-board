(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function $S(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var rd={exports:{}},Lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function JS(){if(Py)return Lr;Py=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Lr.Fragment=t,Lr.jsx=s,Lr.jsxs=s,Lr}var Fy;function eE(){return Fy||(Fy=1,rd.exports=JS()),rd.exports}var k=eE(),ad={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function tE(){if(Zy)return ce;Zy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,z={};function L(E,j,K){this.props=E,this.context=j,this.refs=z,this.updater=K||T}L.prototype.isReactComponent={},L.prototype.setState=function(E,j){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,j,"setState")},L.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function X(){}X.prototype=L.prototype;function F(E,j,K){this.props=E,this.context=j,this.refs=z,this.updater=K||T}var G=F.prototype=new X;G.constructor=F,O(G,L.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function Z(E,j,K,P,te,he){return K=he.ref,{$$typeof:i,type:E,key:j,ref:K!==void 0?K:null,props:he}}function $(E,j){return Z(E.type,j,void 0,void 0,void 0,E.props)}function ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function W(E){var j={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(K){return j[K]})}var ue=/\/+/g;function ye(E,j){return typeof E=="object"&&E!==null&&E.key!=null?W(""+E.key):j.toString(36)}function Ce(){}function Ue(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ce,Ce):(E.status="pending",E.then(function(j){E.status==="pending"&&(E.status="fulfilled",E.value=j)},function(j){E.status==="pending"&&(E.status="rejected",E.reason=j)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function De(E,j,K,P,te){var he=typeof E;(he==="undefined"||he==="boolean")&&(E=null);var ne=!1;if(E===null)ne=!0;else switch(he){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(E.$$typeof){case i:case t:ne=!0;break;case y:return ne=E._init,De(ne(E._payload),j,K,P,te)}}if(ne)return te=te(E),ne=P===""?"."+ye(E,0):P,Y(te)?(K="",ne!=null&&(K=ne.replace(ue,"$&/")+"/"),De(te,j,K,"",function(dt){return dt})):te!=null&&(ee(te)&&(te=$(te,K+(te.key==null||E&&E.key===te.key?"":(""+te.key).replace(ue,"$&/")+"/")+ne)),j.push(te)),1;ne=0;var ft=P===""?".":P+":";if(Y(E))for(var Te=0;Te<E.length;Te++)P=E[Te],he=ft+ye(P,Te),ne+=De(P,j,K,he,te);else if(Te=b(E),typeof Te=="function")for(E=Te.call(E),Te=0;!(P=E.next()).done;)P=P.value,he=ft+ye(P,Te++),ne+=De(P,j,K,he,te);else if(he==="object"){if(typeof E.then=="function")return De(Ue(E),j,K,P,te);throw j=String(E),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ne}function M(E,j,K){if(E==null)return E;var P=[],te=0;return De(E,P,"","",function(he){return j.call(K,he,te++)}),P}function V(E){if(E._status===-1){var j=E._result;j=j(),j.then(function(K){(E._status===0||E._status===-1)&&(E._status=1,E._result=K)},function(K){(E._status===0||E._status===-1)&&(E._status=2,E._result=K)}),E._status===-1&&(E._status=0,E._result=j)}if(E._status===1)return E._result.default;throw E._result}var se=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function ve(){}return ce.Children={map:M,forEach:function(E,j,K){M(E,function(){j.apply(this,arguments)},K)},count:function(E){var j=0;return M(E,function(){j++}),j},toArray:function(E){return M(E,function(j){return j})||[]},only:function(E){if(!ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ce.Component=L,ce.Fragment=s,ce.Profiler=o,ce.PureComponent=F,ce.StrictMode=r,ce.Suspense=m,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ce.__COMPILER_RUNTIME={__proto__:null,c:function(E){return H.H.useMemoCache(E)}},ce.cache=function(E){return function(){return E.apply(null,arguments)}},ce.cloneElement=function(E,j,K){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var P=O({},E.props),te=E.key,he=void 0;if(j!=null)for(ne in j.ref!==void 0&&(he=void 0),j.key!==void 0&&(te=""+j.key),j)!q.call(j,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&j.ref===void 0||(P[ne]=j[ne]);var ne=arguments.length-2;if(ne===1)P.children=K;else if(1<ne){for(var ft=Array(ne),Te=0;Te<ne;Te++)ft[Te]=arguments[Te+2];P.children=ft}return Z(E.type,te,void 0,void 0,he,P)},ce.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},ce.createElement=function(E,j,K){var P,te={},he=null;if(j!=null)for(P in j.key!==void 0&&(he=""+j.key),j)q.call(j,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(te[P]=j[P]);var ne=arguments.length-2;if(ne===1)te.children=K;else if(1<ne){for(var ft=Array(ne),Te=0;Te<ne;Te++)ft[Te]=arguments[Te+2];te.children=ft}if(E&&E.defaultProps)for(P in ne=E.defaultProps,ne)te[P]===void 0&&(te[P]=ne[P]);return Z(E,he,void 0,void 0,null,te)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(E){return{$$typeof:h,render:E}},ce.isValidElement=ee,ce.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:V}},ce.memo=function(E,j){return{$$typeof:g,type:E,compare:j===void 0?null:j}},ce.startTransition=function(E){var j=H.T,K={};H.T=K;try{var P=E(),te=H.S;te!==null&&te(K,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(ve,se)}catch(he){se(he)}finally{H.T=j}},ce.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ce.use=function(E){return H.H.use(E)},ce.useActionState=function(E,j,K){return H.H.useActionState(E,j,K)},ce.useCallback=function(E,j){return H.H.useCallback(E,j)},ce.useContext=function(E){return H.H.useContext(E)},ce.useDebugValue=function(){},ce.useDeferredValue=function(E,j){return H.H.useDeferredValue(E,j)},ce.useEffect=function(E,j,K){var P=H.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(E,j)},ce.useId=function(){return H.H.useId()},ce.useImperativeHandle=function(E,j,K){return H.H.useImperativeHandle(E,j,K)},ce.useInsertionEffect=function(E,j){return H.H.useInsertionEffect(E,j)},ce.useLayoutEffect=function(E,j){return H.H.useLayoutEffect(E,j)},ce.useMemo=function(E,j){return H.H.useMemo(E,j)},ce.useOptimistic=function(E,j){return H.H.useOptimistic(E,j)},ce.useReducer=function(E,j,K){return H.H.useReducer(E,j,K)},ce.useRef=function(E){return H.H.useRef(E)},ce.useState=function(E){return H.H.useState(E)},ce.useSyncExternalStore=function(E,j,K){return H.H.useSyncExternalStore(E,j,K)},ce.useTransition=function(){return H.H.useTransition()},ce.version="19.1.0",ce}var Wy;function Au(){return Wy||(Wy=1,ad.exports=tE()),ad.exports}var A=Au();const Ke=$S(A);var od={exports:{}},Br={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function nE(){return $y||($y=1,function(i){function t(M,V){var se=M.length;M.push(V);e:for(;0<se;){var ve=se-1>>>1,E=M[ve];if(0<o(E,V))M[ve]=V,M[se]=E,se=ve;else break e}}function s(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var V=M[0],se=M.pop();if(se!==V){M[0]=se;e:for(var ve=0,E=M.length,j=E>>>1;ve<j;){var K=2*(ve+1)-1,P=M[K],te=K+1,he=M[te];if(0>o(P,se))te<E&&0>o(he,P)?(M[ve]=he,M[te]=se,ve=te):(M[ve]=P,M[K]=se,ve=K);else if(te<E&&0>o(he,se))M[ve]=he,M[te]=se,ve=te;else break e}}return V}function o(M,V){var se=M.sortIndex-V.sortIndex;return se!==0?se:M.id-V.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var m=[],g=[],y=1,v=null,b=3,T=!1,O=!1,z=!1,L=!1,X=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function Y(M){for(var V=s(g);V!==null;){if(V.callback===null)r(g);else if(V.startTime<=M)r(g),V.sortIndex=V.expirationTime,t(m,V);else break;V=s(g)}}function H(M){if(z=!1,Y(M),!O)if(s(m)!==null)O=!0,q||(q=!0,ye());else{var V=s(g);V!==null&&De(H,V.startTime-M)}}var q=!1,Z=-1,$=5,ee=-1;function W(){return L?!0:!(i.unstable_now()-ee<$)}function ue(){if(L=!1,q){var M=i.unstable_now();ee=M;var V=!0;try{e:{O=!1,z&&(z=!1,F(Z),Z=-1),T=!0;var se=b;try{t:{for(Y(M),v=s(m);v!==null&&!(v.expirationTime>M&&W());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,b=v.priorityLevel;var E=ve(v.expirationTime<=M);if(M=i.unstable_now(),typeof E=="function"){v.callback=E,Y(M),V=!0;break t}v===s(m)&&r(m),Y(M)}else r(m);v=s(m)}if(v!==null)V=!0;else{var j=s(g);j!==null&&De(H,j.startTime-M),V=!1}}break e}finally{v=null,b=se,T=!1}V=void 0}}finally{V?ye():q=!1}}}var ye;if(typeof G=="function")ye=function(){G(ue)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ue=Ce.port2;Ce.port1.onmessage=ue,ye=function(){Ue.postMessage(null)}}else ye=function(){X(ue,0)};function De(M,V){Z=X(function(){M(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(M){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var se=b;b=V;try{return M()}finally{b=se}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var se=b;b=M;try{return V()}finally{b=se}},i.unstable_scheduleCallback=function(M,V,se){var ve=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ve+se:ve):se=ve,M){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=se+E,M={id:y++,callback:V,priorityLevel:M,startTime:se,expirationTime:E,sortIndex:-1},se>ve?(M.sortIndex=se,t(g,M),s(m)===null&&M===s(g)&&(z?(F(Z),Z=-1):z=!0,De(H,se-ve))):(M.sortIndex=E,t(m,M),O||T||(O=!0,q||(q=!0,ye()))),M},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(M){var V=b;return function(){var se=b;b=V;try{return M.apply(this,arguments)}finally{b=se}}}}(cd)),cd}var Jy;function iE(){return Jy||(Jy=1,ud.exports=nE()),ud.exports}var fd={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function sE(){if(ev)return Mt;ev=1;var i=Au();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mt.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,y)},Mt.flushSync=function(m){var g=d.T,y=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=g,r.p=y,r.d.f()}},Mt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Mt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Mt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:T}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Mt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Mt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=h(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Mt.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Mt.requestFormReset=function(m){r.d.r(m)},Mt.unstable_batchedUpdates=function(m,g){return m(g)},Mt.useFormState=function(m,g,y){return d.H.useFormState(m,g,y)},Mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Mt.version="19.1.0",Mt}var tv;function w_(){if(tv)return fd.exports;tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),fd.exports=sE(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function lE(){if(nv)return Br;nv=1;var i=iE(),t=Au(),s=w_();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(c(e)!==e)throw Error(r(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var l=e,a=n;;){var u=l.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){l=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===l)return h(u),e;if(f===a)return h(u),n;f=f.sibling}throw Error(r(188))}if(l.return!==a.return)l=u,a=f;else{for(var p=!1,_=u.child;_;){if(_===l){p=!0,l=u,a=f;break}if(_===a){p=!0,a=u,l=f;break}_=_.sibling}if(!p){for(_=f.child;_;){if(_===l){p=!0,l=f,a=u;break}if(_===a){p=!0,a=f,l=u;break}_=_.sibling}if(!p)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),G=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case L:return"Profiler";case z:return"StrictMode";case H:return"Suspense";case q:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case G:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case Y:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case $:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}var De=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},ve=[],E=-1;function j(e){return{current:e}}function K(e){0>E||(e.current=ve[E],ve[E]=null,E--)}function P(e,n){E++,ve[E]=e.current,e.current=n}var te=j(null),he=j(null),ne=j(null),ft=j(null);function Te(e,n){switch(P(ne,n),P(he,e),P(te,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ey(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ey(n),e=Cy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(te),P(te,e)}function dt(){K(te),K(he),K(ne)}function we(e){e.memoizedState!==null&&P(ft,e);var n=te.current,l=Cy(n,e.type);n!==l&&(P(he,e),P(te,l))}function Nn(e){he.current===e&&(K(te),K(he)),ft.current===e&&(K(ft),Mr._currentValue=se)}var Bt=Object.prototype.hasOwnProperty,On=i.unstable_scheduleCallback,Xt=i.unstable_cancelCallback,di=i.unstable_shouldYield,hi=i.unstable_requestPaint,Kt=i.unstable_now,Ca=i.unstable_getCurrentPriorityLevel,Ds=i.unstable_ImmediatePriority,yn=i.unstable_UserBlockingPriority,qn=i.unstable_NormalPriority,Ns=i.unstable_LowPriority,Yl=i.unstable_IdlePriority,Ta=i.log,Wu=i.unstable_setDisableYieldValue,Fi=null,nt=null;function kt(e){if(typeof Ta=="function"&&Wu(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Fi,e)}catch{}}var lt=Math.clz32?Math.clz32:xa,wa=Math.log,Mn=Math.LN2;function xa(e){return e>>>=0,e===0?32:31-(wa(e)/Mn|0)|0}var Os=256,Ms=4194304;function vn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zi(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var u=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~f,a!==0?u=vn(a):(p&=_,p!==0?u=vn(p):l||(l=_&~e,l!==0&&(u=vn(l))))):(_=a&~f,_!==0?u=vn(_):p!==0?u=vn(p):l||(l=a&~e,l!==0&&(u=vn(l)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,l=n&-n,f>=l||f===32&&(l&4194048)!==0)?n:u}function Wi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Aa(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var e=Os;return Os<<=1,(Os&4194048)===0&&(Os=256),e}function Da(){var e=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),e}function Gl(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Ze(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function It(e,n,l,a,u,f){var p=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(l=p&~l;0<l;){var I=31-lt(l),B=1<<I;_[I]=0,S[I]=-1;var D=R[I];if(D!==null)for(R[I]=null,I=0;I<D.length;I++){var N=D[I];N!==null&&(N.lane&=-536870913)}l&=~B}a!==0&&Rt(e,a,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Rt(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-lt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194090}function _n(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-lt(l),u=1<<a;u&n|e[a]&n&&(e[a]|=n),l&=~u}}function Dt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ct(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pt(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:Yy(e.type))}function gi(e,n){var l=V.p;try{return V.p=e,n()}finally{V.p=l}}var je=Math.random().toString(36).slice(2),Ge="__reactFiber$"+je,Ve="__reactProps$"+je,Nt="__reactContainer$"+je,Yn="__reactEvents$"+je,$i="__reactListeners$"+je,kn="__reactHandles$"+je,mi="__reactResources$"+je,Gn="__reactMarker$"+je;function $u(e){delete e[Ge],delete e[Ve],delete e[Yn],delete e[$i],delete e[kn]}function ks(e){var n=e[Ge];if(n)return n;for(var l=e.parentNode;l;){if(n=l[Nt]||l[Ge]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Ay(e);e!==null;){if(l=e[Ge])return l;e=Ay(e)}return n}e=l,l=e.parentNode}return null}function Is(e){if(e=e[Ge]||e[Nt]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Vl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function zs(e){var n=e[mi];return n||(n=e[mi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ht(e){e[Gn]=!0}var fg=new Set,dg={};function Ji(e,n){Us(e,n),Us(e+"Capture",n)}function Us(e,n){for(dg[e]=n,e=0;e<n.length;e++)fg.add(n[e])}var V0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hg={},gg={};function Q0(e){return Bt.call(gg,e)?!0:Bt.call(hg,e)?!1:V0.test(e)?gg[e]=!0:(hg[e]=!0,!1)}function Na(e,n,l){if(Q0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Oa(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Vn(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}var Ju,mg;function Ls(e){if(Ju===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ju=n&&n[1]||"",mg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ju+e+mg}var ec=!1;function tc(e,n){if(!e||ec)return"";ec=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(N){var D=N}Reflect.construct(e,[],B)}else{try{B.call()}catch(N){D=N}e.call(B.prototype)}}else{try{throw Error()}catch(N){D=N}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(N){if(N&&D&&typeof N.stack=="string")return[N.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),p=f[0],_=f[1];if(p&&_){var S=p.split(`
`),R=_.split(`
`);for(u=a=0;a<S.length&&!S[a].includes("DetermineComponentFrameRoot");)a++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(a===S.length||u===R.length)for(a=S.length-1,u=R.length-1;1<=a&&0<=u&&S[a]!==R[u];)u--;for(;1<=a&&0<=u;a--,u--)if(S[a]!==R[u]){if(a!==1||u!==1)do if(a--,u--,0>u||S[a]!==R[u]){var I=`
`+S[a].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=a&&0<=u);break}}}finally{ec=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ls(l):""}function X0(e){switch(e.tag){case 26:case 27:case 5:return Ls(e.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 15:return tc(e.type,!1);case 11:return tc(e.type.render,!1);case 1:return tc(e.type,!0);case 31:return Ls("Activity");default:return""}}function pg(e){try{var n="";do n+=X0(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function K0(e){var n=yg(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ma(e){e._valueTracker||(e._valueTracker=K0(e))}function vg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=yg(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var P0=/[\n"\\]/g;function rn(e){return e.replace(P0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nc(e,n,l,a,u,f,p,_){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ln(n)):e.value!==""+ln(n)&&(e.value=""+ln(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?ic(e,p,ln(n)):l!=null?ic(e,p,ln(l)):a!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+ln(_):e.removeAttribute("name")}function _g(e,n,l,a,u,f,p,_){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||l!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;l=l!=null?""+ln(l):"",n=n!=null?""+ln(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function ic(e,n,l){n==="number"&&ka(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Bs(e,n,l,a){if(e=e.options,n){n={};for(var u=0;u<l.length;u++)n["$"+l[u]]=!0;for(l=0;l<e.length;l++)u=n.hasOwnProperty("$"+e[l].value),e[l].selected!==u&&(e[l].selected=u),u&&a&&(e[l].defaultSelected=!0)}else{for(l=""+ln(l),n=null,u=0;u<e.length;u++){if(e[u].value===l){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function bg(e,n,l){if(n!=null&&(n=""+ln(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+ln(l):""}function Sg(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(r(92));if(De(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=ln(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function js(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var F0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eg(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||F0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Cg(e,n,l){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in n)a=n[u],n.hasOwnProperty(u)&&l[u]!==a&&Eg(e,u,a)}else for(var f in n)n.hasOwnProperty(f)&&Eg(e,f,n[f])}function sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(e){return W0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var lc=null;function rc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,qs=null;function Tg(e){var n=Is(e);if(n&&(e=n.stateNode)){var l=e[Ve]||null;e:switch(e=n.stateNode,n.type){case"input":if(nc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var u=a[Ve]||null;if(!u)throw Error(r(90));nc(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&vg(a)}break e;case"textarea":bg(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Bs(e,!!l.multiple,n,!1)}}}var ac=!1;function wg(e,n,l){if(ac)return e(n,l);ac=!0;try{var a=e(n);return a}finally{if(ac=!1,(Hs!==null||qs!==null)&&(bo(),Hs&&(n=Hs,e=qs,qs=Hs=null,Tg(n),e)))for(n=0;n<e.length;n++)Tg(e[n])}}function Ql(e,n){var l=e.stateNode;if(l===null)return null;var a=l[Ve]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oc=!1;if(Qn)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){oc=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{oc=!1}var pi=null,uc=null,za=null;function xg(){if(za)return za;var e,n=uc,l=n.length,a,u="value"in pi?pi.value:pi.textContent,f=u.length;for(e=0;e<l&&n[e]===u[e];e++);var p=l-e;for(a=1;a<=p&&n[l-a]===u[f-a];a++);return za=u.slice(e,1<a?1-a:void 0)}function Ua(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function La(){return!0}function Ag(){return!1}function jt(e){function n(l,a,u,f,p){this._reactName=l,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?La:Ag,this.isPropagationStopped=Ag,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=jt(es),Kl=y({},es,{view:0,detail:0}),$0=jt(Kl),cc,fc,Pl,ja=y({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(cc=e.screenX-Pl.screenX,fc=e.screenY-Pl.screenY):fc=cc=0,Pl=e),cc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),Rg=jt(ja),J0=y({},ja,{dataTransfer:0}),e1=jt(J0),t1=y({},Kl,{relatedTarget:0}),dc=jt(t1),n1=y({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),i1=jt(n1),s1=y({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l1=jt(s1),r1=y({},es,{data:0}),Dg=jt(r1),a1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=u1[e])?!!n[e]:!1}function hc(){return c1}var f1=y({},Kl,{key:function(e){if(e.key){var n=a1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(e){return e.type==="keypress"?Ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d1=jt(f1),h1=y({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=jt(h1),g1=y({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),m1=jt(g1),p1=y({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),y1=jt(p1),v1=y({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_1=jt(v1),b1=y({},es,{newState:0,oldState:0}),S1=jt(b1),E1=[9,13,27,32],gc=Qn&&"CompositionEvent"in window,Fl=null;Qn&&"documentMode"in document&&(Fl=document.documentMode);var C1=Qn&&"TextEvent"in window&&!Fl,Og=Qn&&(!gc||Fl&&8<Fl&&11>=Fl),Mg=" ",kg=!1;function Ig(e,n){switch(e){case"keyup":return E1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function T1(e,n){switch(e){case"compositionend":return zg(n);case"keypress":return n.which!==32?null:(kg=!0,Mg);case"textInput":return e=n.data,e===Mg&&kg?null:e;default:return null}}function w1(e,n){if(Ys)return e==="compositionend"||!gc&&Ig(e,n)?(e=xg(),za=uc=pi=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Og&&n.locale!=="ko"?null:n.data;default:return null}}var x1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!x1[e.type]:n==="textarea"}function Lg(e,n,l,a){Hs?qs?qs.push(a):qs=[a]:Hs=a,n=xo(n,"onChange"),0<n.length&&(l=new Ba("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var Zl=null,Wl=null;function A1(e){yy(e,0)}function Ha(e){var n=Vl(e);if(vg(n))return e}function Bg(e,n){if(e==="change")return n}var jg=!1;if(Qn){var mc;if(Qn){var pc="oninput"in document;if(!pc){var Hg=document.createElement("div");Hg.setAttribute("oninput","return;"),pc=typeof Hg.oninput=="function"}mc=pc}else mc=!1;jg=mc&&(!document.documentMode||9<document.documentMode)}function qg(){Zl&&(Zl.detachEvent("onpropertychange",Yg),Wl=Zl=null)}function Yg(e){if(e.propertyName==="value"&&Ha(Wl)){var n=[];Lg(n,Wl,e,rc(e)),wg(A1,n)}}function R1(e,n,l){e==="focusin"?(qg(),Zl=n,Wl=l,Zl.attachEvent("onpropertychange",Yg)):e==="focusout"&&qg()}function D1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ha(Wl)}function N1(e,n){if(e==="click")return Ha(n)}function O1(e,n){if(e==="input"||e==="change")return Ha(n)}function M1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ft=typeof Object.is=="function"?Object.is:M1;function $l(e,n){if(Ft(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var u=l[a];if(!Bt.call(n,u)||!Ft(e[u],n[u]))return!1}return!0}function Gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vg(e,n){var l=Gg(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gg(l)}}function Qg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ka(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=ka(e.document)}return n}function yc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var k1=Qn&&"documentMode"in document&&11>=document.documentMode,Gs=null,vc=null,Jl=null,_c=!1;function Kg(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_c||Gs==null||Gs!==ka(a)||(a=Gs,"selectionStart"in a&&yc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Jl&&$l(Jl,a)||(Jl=a,a=xo(vc,"onSelect"),0<a.length&&(n=new Ba("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Gs)))}function ts(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Vs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},bc={},Pg={};Qn&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function ns(e){if(bc[e])return bc[e];if(!Vs[e])return e;var n=Vs[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Pg)return bc[e]=n[l];return e}var Fg=ns("animationend"),Zg=ns("animationiteration"),Wg=ns("animationstart"),I1=ns("transitionrun"),z1=ns("transitionstart"),U1=ns("transitioncancel"),$g=ns("transitionend"),Jg=new Map,Sc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sc.push("scrollEnd");function bn(e,n){Jg.set(e,n),Ji(n,[e])}var em=new WeakMap;function an(e,n){if(typeof e=="object"&&e!==null){var l=em.get(e);return l!==void 0?l:(n={value:e,source:n,stack:pg(n)},em.set(e,n),n)}return{value:e,source:n,stack:pg(n)}}var on=[],Qs=0,Ec=0;function qa(){for(var e=Qs,n=Ec=Qs=0;n<e;){var l=on[n];on[n++]=null;var a=on[n];on[n++]=null;var u=on[n];on[n++]=null;var f=on[n];if(on[n++]=null,a!==null&&u!==null){var p=a.pending;p===null?u.next=u:(u.next=p.next,p.next=u),a.pending=u}f!==0&&tm(l,u,f)}}function Ya(e,n,l,a){on[Qs++]=e,on[Qs++]=n,on[Qs++]=l,on[Qs++]=a,Ec|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cc(e,n,l,a){return Ya(e,n,l,a),Ga(e)}function Xs(e,n){return Ya(e,null,null,n),Ga(e)}function tm(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var u=!1,f=e.return;f!==null;)f.childLanes|=l,a=f.alternate,a!==null&&(a.childLanes|=l),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-lt(l),e=f.hiddenUpdates,a=e[u],a===null?e[u]=[n]:a.push(n),n.lane=l|536870912),f):null}function Ga(e){if(50<Tr)throw Tr=0,Nf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ks={};function L1(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,n,l,a){return new L1(e,n,l,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xn(e,n){var l=e.alternate;return l===null?(l=Zt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function nm(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Va(e,n,l,a,u,f){var p=0;if(a=e,typeof e=="function")Tc(e)&&(p=1);else if(typeof e=="string")p=jS(e,l,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Zt(31,l,n,u),e.elementType=ee,e.lanes=f,e;case O:return is(l.children,u,f,n);case z:p=8,u|=24;break;case L:return e=Zt(12,l,n,u|2),e.elementType=L,e.lanes=f,e;case H:return e=Zt(13,l,n,u),e.elementType=H,e.lanes=f,e;case q:return e=Zt(19,l,n,u),e.elementType=q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case G:p=10;break e;case F:p=9;break e;case Y:p=11;break e;case Z:p=14;break e;case $:p=16,a=null;break e}p=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return n=Zt(p,l,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function is(e,n,l,a){return e=Zt(7,e,a,n),e.lanes=l,e}function wc(e,n,l){return e=Zt(6,e,null,n),e.lanes=l,e}function xc(e,n,l){return n=Zt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ps=[],Fs=0,Qa=null,Xa=0,un=[],cn=0,ss=null,Kn=1,Pn="";function ls(e,n){Ps[Fs++]=Xa,Ps[Fs++]=Qa,Qa=e,Xa=n}function im(e,n,l){un[cn++]=Kn,un[cn++]=Pn,un[cn++]=ss,ss=e;var a=Kn;e=Pn;var u=32-lt(a)-1;a&=~(1<<u),l+=1;var f=32-lt(n)+u;if(30<f){var p=u-u%5;f=(a&(1<<p)-1).toString(32),a>>=p,u-=p,Kn=1<<32-lt(n)+u|l<<u|a,Pn=f+e}else Kn=1<<f|l<<u|a,Pn=e}function Ac(e){e.return!==null&&(ls(e,1),im(e,1,0))}function Rc(e){for(;e===Qa;)Qa=Ps[--Fs],Ps[Fs]=null,Xa=Ps[--Fs],Ps[Fs]=null;for(;e===ss;)ss=un[--cn],un[cn]=null,Pn=un[--cn],un[cn]=null,Kn=un[--cn],un[cn]=null}var zt=null,We=null,Ae=!1,rs=null,In=!1,Dc=Error(r(519));function as(e){var n=Error(r(418,""));throw nr(an(n,e)),Dc}function sm(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[Ge]=e,n[Ve]=a,l){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(l=0;l<xr.length;l++)be(xr[l],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),_g(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ma(n);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),Sg(n,a.value,a.defaultValue,a.children),Ma(n)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||Sy(n.textContent,l)?(a.popover!=null&&(be("beforetoggle",n),be("toggle",n)),a.onScroll!=null&&be("scroll",n),a.onScrollEnd!=null&&be("scrollend",n),a.onClick!=null&&(n.onclick=Ao),n=!0):n=!1,n||as(e)}function lm(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 13:In=!1;return;case 27:case 3:In=!0;return;default:zt=zt.return}}function er(e){if(e!==zt)return!1;if(!Ae)return lm(e),Ae=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Xf(e.type,e.memoizedProps)),l=!l),l&&We&&as(e),lm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){We=En(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}We=null}}else n===27?(n=We,Mi(e.type)?(e=Zf,Zf=null,We=e):We=n):We=zt?En(e.stateNode.nextSibling):null;return!0}function tr(){We=zt=null,Ae=!1}function rm(){var e=rs;return e!==null&&(Yt===null?Yt=e:Yt.push.apply(Yt,e),rs=null),e}function nr(e){rs===null?rs=[e]:rs.push(e)}var Nc=j(null),os=null,Fn=null;function yi(e,n,l){P(Nc,n._currentValue),n._currentValue=l}function Zn(e){e._currentValue=Nc.current,K(Nc)}function Oc(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Mc(e,n,l,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;e:for(;f!==null;){var _=f;f=u;for(var S=0;S<n.length;S++)if(_.context===n[S]){f.lanes|=l,_=f.alternate,_!==null&&(_.lanes|=l),Oc(f.return,l,e),a||(p=null);break e}f=_.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(r(341));p.lanes|=l,f=p.alternate,f!==null&&(f.lanes|=l),Oc(p,l,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function ir(e,n,l,a){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var _=u.type;Ft(u.pendingProps.value,p.value)||(e!==null?e.push(_):e=[_])}}else if(u===ft.current){if(p=u.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Mr):e=[Mr])}u=u.return}e!==null&&Mc(n,e,l,a),n.flags|=262144}function Ka(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function us(e){os=e,Fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return am(os,e)}function Pa(e,n){return os===null&&us(e),am(e,n)}function am(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Fn===null){if(e===null)throw Error(r(308));Fn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fn=Fn.next=n;return l}var B1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},j1=i.unstable_scheduleCallback,H1=i.unstable_NormalPriority,rt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new B1,data:new Map,refCount:0}}function sr(e){e.refCount--,e.refCount===0&&j1(H1,function(){e.controller.abort()})}var lr=null,Ic=0,Zs=0,Ws=null;function q1(e,n){if(lr===null){var l=lr=[];Ic=0,Zs=Lf(),Ws={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ic++,n.then(om,om),n}function om(){if(--Ic===0&&lr!==null){Ws!==null&&(Ws.status="fulfilled");var e=lr;lr=null,Zs=0,Ws=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Y1(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(u){l.push(u)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var u=0;u<l.length;u++)(0,l[u])(n)},function(u){for(a.status="rejected",a.reason=u,u=0;u<l.length;u++)(0,l[u])(void 0)}),a}var um=M.S;M.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&q1(e,n),um!==null&&um(e,n)};var cs=j(null);function zc(){var e=cs.current;return e!==null?e:He.pooledCache}function Fa(e,n){n===null?P(cs,cs.current):P(cs,n.pool)}function cm(){var e=zc();return e===null?null:{parent:rt._currentValue,pool:e}}var rr=Error(r(460)),fm=Error(r(474)),Za=Error(r(542)),Uc={then:function(){}};function dm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wa(){}function hm(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Wa,Wa),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mm(e),e;default:if(typeof n.status=="string")n.then(Wa,Wa);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=a}},function(a){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mm(e),e}throw ar=n,rr}}var ar=null;function gm(){if(ar===null)throw Error(r(459));var e=ar;return ar=null,e}function mm(e){if(e===rr||e===Za)throw Error(r(483))}var vi=!1;function Lc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ne&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,n=Ga(e),tm(e,null,l),n}return Ya(e,a,n,l),Ga(e)}function or(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,_n(e,l)}}function jc(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var u=null,f=null;if(l=l.firstBaseUpdate,l!==null){do{var p={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,l=l.next}while(l!==null);f===null?u=f=n:f=f.next=n}else u=f=n;l={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Hc=!1;function ur(){if(Hc){var e=Ws;if(e!==null)throw e}}function cr(e,n,l,a){Hc=!1;var u=e.updateQueue;vi=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,R=S.next;S.next=null,p===null?f=R:p.next=R,p=S;var I=e.alternate;I!==null&&(I=I.updateQueue,_=I.lastBaseUpdate,_!==p&&(_===null?I.firstBaseUpdate=R:_.next=R,I.lastBaseUpdate=S))}if(f!==null){var B=u.baseState;p=0,I=R=S=null,_=f;do{var D=_.lane&-536870913,N=D!==_.lane;if(N?(Ee&D)===D:(a&D)===D){D!==0&&D===Zs&&(Hc=!0),I!==null&&(I=I.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ae=e,le=_;D=n;var ze=l;switch(le.tag){case 1:if(ae=le.payload,typeof ae=="function"){B=ae.call(ze,B,D);break e}B=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,D=typeof ae=="function"?ae.call(ze,B,D):ae,D==null)break e;B=y({},B,D);break e;case 2:vi=!0}}D=_.callback,D!==null&&(e.flags|=64,N&&(e.flags|=8192),N=u.callbacks,N===null?u.callbacks=[D]:N.push(D))}else N={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},I===null?(R=I=N,S=B):I=I.next=N,p|=D;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;N=_,_=N.next,N.next=null,u.lastBaseUpdate=N,u.shared.pending=null}}while(!0);I===null&&(S=B),u.baseState=S,u.firstBaseUpdate=R,u.lastBaseUpdate=I,f===null&&(u.shared.lanes=0),Ri|=p,e.lanes=p,e.memoizedState=B}}function pm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function ym(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)pm(l[e],n)}var $s=j(null),$a=j(0);function vm(e,n){e=ii,P($a,e),P($s,n),ii=e|n.baseLanes}function qc(){P($a,ii),P($s,$s.current)}function Yc(){ii=$a.current,K($s),K($a)}var Si=0,fe=null,ke=null,it=null,Ja=!1,Js=!1,fs=!1,eo=0,fr=0,el=null,G1=0;function Je(){throw Error(r(321))}function Gc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Ft(e[l],n[l]))return!1;return!0}function Vc(e,n,l,a,u,f){return Si=f,fe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=e===null||e.memoizedState===null?tp:np,fs=!1,f=l(a,u),fs=!1,Js&&(f=bm(n,l,a,u)),_m(e),f}function _m(e){M.H=ro;var n=ke!==null&&ke.next!==null;if(Si=0,it=ke=fe=null,Ja=!1,fr=0,el=null,n)throw Error(r(300));e===null||gt||(e=e.dependencies,e!==null&&Ka(e)&&(gt=!0))}function bm(e,n,l,a){fe=e;var u=0;do{if(Js&&(el=null),fr=0,Js=!1,25<=u)throw Error(r(301));if(u+=1,it=ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}M.H=Z1,f=n(l,a)}while(Js);return f}function V1(){var e=M.H,n=e.useState()[0];return n=typeof n.then=="function"?dr(n):n,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),n}function Qc(){var e=eo!==0;return eo=0,e}function Xc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Kc(e){if(Ja){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ja=!1}Si=0,it=ke=fe=null,Js=!1,fr=eo=0,el=null}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?fe.memoizedState=it=e:it=it.next=e,it}function st(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var n=it===null?fe.memoizedState:it.next;if(n!==null)it=n,ke=e;else{if(e===null)throw fe.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},it===null?fe.memoizedState=it=e:it=it.next=e}return it}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dr(e){var n=fr;return fr+=1,el===null&&(el=[]),e=hm(el,e,n),n=fe,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?tp:np),e}function to(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dr(e);if(e.$$typeof===G)return Ot(e)}throw Error(r(438,String(e)))}function Fc(e){var n=null,l=fe.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Pc(),fe.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=W;return n.index++,l}function Wn(e,n){return typeof n=="function"?n(e):n}function no(e){var n=st();return Zc(n,ke,e)}function Zc(e,n,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var u=e.baseQueue,f=a.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}n.baseQueue=u=f,a.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var _=p=null,S=null,R=n,I=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(Ee&B)===B:(Si&B)===B){var D=R.revertLane;if(D===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===Zs&&(I=!0);else if((Si&D)===D){R=R.next,D===Zs&&(I=!0);continue}else B={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=B,p=f):S=S.next=B,fe.lanes|=D,Ri|=D;B=R.action,fs&&l(f,B),f=R.hasEagerState?R.eagerState:l(f,B)}else D={lane:B,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(_=S=D,p=f):S=S.next=D,fe.lanes|=B,Ri|=B;R=R.next}while(R!==null&&R!==n);if(S===null?p=f:S.next=_,!Ft(f,e.memoizedState)&&(gt=!0,I&&(l=Ws,l!==null)))throw l;e.memoizedState=f,e.baseState=p,e.baseQueue=S,a.lastRenderedState=f}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Wc(e){var n=st(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,u=l.pending,f=n.memoizedState;if(u!==null){l.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);Ft(f,n.memoizedState)||(gt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),l.lastRenderedState=f}return[f,a]}function Sm(e,n,l){var a=fe,u=st(),f=Ae;if(f){if(l===void 0)throw Error(r(407));l=l()}else l=n();var p=!Ft((ke||u).memoizedState,l);p&&(u.memoizedState=l,gt=!0),u=u.queue;var _=Tm.bind(null,a,u,e);if(hr(2048,8,_,[e]),u.getSnapshot!==n||p||it!==null&&it.memoizedState.tag&1){if(a.flags|=2048,tl(9,io(),Cm.bind(null,a,u,l,n),null),He===null)throw Error(r(349));f||(Si&124)!==0||Em(a,n,l)}return l}function Em(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=fe.updateQueue,n===null?(n=Pc(),fe.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Cm(e,n,l,a){n.value=l,n.getSnapshot=a,wm(n)&&xm(e)}function Tm(e,n,l){return l(function(){wm(n)&&xm(e)})}function wm(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Ft(e,l)}catch{return!0}}function xm(e){var n=Xs(e,2);n!==null&&tn(n,e,2)}function $c(e){var n=Ht();if(typeof e=="function"){var l=e;if(e=l(),fs){kt(!0);try{l()}finally{kt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:e},n}function Am(e,n,l,a){return e.baseState=l,Zc(e,ke,typeof a=="function"?a:Wn)}function Q1(e,n,l,a,u){if(lo(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};M.T!==null?l(!0):f.isTransition=!1,a(f),l=n.pending,l===null?(f.next=n.pending=f,Rm(n,f)):(f.next=l.next,n.pending=l.next=f)}}function Rm(e,n){var l=n.action,a=n.payload,u=e.state;if(n.isTransition){var f=M.T,p={};M.T=p;try{var _=l(u,a),S=M.S;S!==null&&S(p,_),Dm(e,n,_)}catch(R){Jc(e,n,R)}finally{M.T=f}}else try{f=l(u,a),Dm(e,n,f)}catch(R){Jc(e,n,R)}}function Dm(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Nm(e,n,a)},function(a){return Jc(e,n,a)}):Nm(e,n,l)}function Nm(e,n,l){n.status="fulfilled",n.value=l,Om(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Rm(e,l)))}function Jc(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Om(n),n=n.next;while(n!==a)}e.action=null}function Om(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mm(e,n){return n}function km(e,n){if(Ae){var l=He.formState;if(l!==null){e:{var a=fe;if(Ae){if(We){t:{for(var u=We,f=In;u.nodeType!==8;){if(!f){u=null;break t}if(u=En(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){We=En(u.nextSibling),a=u.data==="F!";break e}}as(a)}a=!1}a&&(n=l[0])}}return l=Ht(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mm,lastRenderedState:n},l.queue=a,l=$m.bind(null,fe,a),a.dispatch=l,a=$c(!1),f=lf.bind(null,fe,!1,a.queue),a=Ht(),u={state:n,dispatch:null,action:e,pending:null},a.queue=u,l=Q1.bind(null,fe,u,f,l),u.dispatch=l,a.memoizedState=e,[n,l,!1]}function Im(e){var n=st();return zm(n,ke,e)}function zm(e,n,l){if(n=Zc(e,n,Mm)[0],e=no(Wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=dr(n)}catch(p){throw p===rr?Za:p}else a=n;n=st();var u=n.queue,f=u.dispatch;return l!==n.memoizedState&&(fe.flags|=2048,tl(9,io(),X1.bind(null,u,l),null)),[a,f,e]}function X1(e,n){e.action=n}function Um(e){var n=st(),l=ke;if(l!==null)return zm(n,l,e);st(),n=n.memoizedState,l=st();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function tl(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=fe.updateQueue,n===null&&(n=Pc(),fe.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function io(){return{destroy:void 0,resource:void 0}}function Lm(){return st().memoizedState}function so(e,n,l,a){var u=Ht();a=a===void 0?null:a,fe.flags|=e,u.memoizedState=tl(1|n,io(),l,a)}function hr(e,n,l,a){var u=st();a=a===void 0?null:a;var f=u.memoizedState.inst;ke!==null&&a!==null&&Gc(a,ke.memoizedState.deps)?u.memoizedState=tl(n,f,l,a):(fe.flags|=e,u.memoizedState=tl(1|n,f,l,a))}function Bm(e,n){so(8390656,8,e,n)}function jm(e,n){hr(2048,8,e,n)}function Hm(e,n){return hr(4,2,e,n)}function qm(e,n){return hr(4,4,e,n)}function Ym(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Gm(e,n,l){l=l!=null?l.concat([e]):null,hr(4,4,Ym.bind(null,n,e),l)}function ef(){}function Vm(e,n){var l=st();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&Gc(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function Qm(e,n){var l=st();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&Gc(n,a[1]))return a[0];if(a=e(),fs){kt(!0);try{e()}finally{kt(!1)}}return l.memoizedState=[a,n],a}function tf(e,n,l){return l===void 0||(Si&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=Pp(),fe.lanes|=e,Ri|=e,l)}function Xm(e,n,l,a){return Ft(l,n)?l:$s.current!==null?(e=tf(e,l,a),Ft(e,n)||(gt=!0),e):(Si&42)===0?(gt=!0,e.memoizedState=l):(e=Pp(),fe.lanes|=e,Ri|=e,n)}function Km(e,n,l,a,u){var f=V.p;V.p=f!==0&&8>f?f:8;var p=M.T,_={};M.T=_,lf(e,!1,n,l);try{var S=u(),R=M.S;if(R!==null&&R(_,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var I=Y1(S,a);gr(e,n,I,en(e))}else gr(e,n,a,en(e))}catch(B){gr(e,n,{then:function(){},status:"rejected",reason:B},en())}finally{V.p=f,M.T=p}}function K1(){}function nf(e,n,l,a){if(e.tag!==5)throw Error(r(476));var u=Pm(e).queue;Km(e,u,n,se,l===null?K1:function(){return Fm(e),l(a)})}function Pm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:se},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fm(e){var n=Pm(e).next.queue;gr(e,n,{},en())}function sf(){return Ot(Mr)}function Zm(){return st().memoizedState}function Wm(){return st().memoizedState}function P1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=en();e=_i(l);var a=bi(n,e,l);a!==null&&(tn(a,n,l),or(a,n,l)),n={cache:kc()},e.payload=n;return}n=n.return}}function F1(e,n,l){var a=en();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},lo(e)?Jm(n,l):(l=Cc(e,n,l,a),l!==null&&(tn(l,e,a),ep(l,n,a)))}function $m(e,n,l){var a=en();gr(e,n,l,a)}function gr(e,n,l,a){var u={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(lo(e))Jm(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,_=f(p,l);if(u.hasEagerState=!0,u.eagerState=_,Ft(_,p))return Ya(e,n,u,0),He===null&&qa(),!1}catch{}finally{}if(l=Cc(e,n,u,a),l!==null)return tn(l,e,a),ep(l,n,a),!0}return!1}function lf(e,n,l,a){if(a={lane:2,revertLane:Lf(),action:a,hasEagerState:!1,eagerState:null,next:null},lo(e)){if(n)throw Error(r(479))}else n=Cc(e,l,a,2),n!==null&&tn(n,e,2)}function lo(e){var n=e.alternate;return e===fe||n!==null&&n===fe}function Jm(e,n){Js=Ja=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function ep(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,_n(e,l)}}var ro={readContext:Ot,use:to,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je},tp={readContext:Ot,use:to,useCallback:function(e,n){return Ht().memoizedState=[e,n===void 0?null:n],e},useContext:Ot,useEffect:Bm,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,so(4194308,4,Ym.bind(null,n,e),l)},useLayoutEffect:function(e,n){return so(4194308,4,e,n)},useInsertionEffect:function(e,n){so(4,2,e,n)},useMemo:function(e,n){var l=Ht();n=n===void 0?null:n;var a=e();if(fs){kt(!0);try{e()}finally{kt(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=Ht();if(l!==void 0){var u=l(n);if(fs){kt(!0);try{l(n)}finally{kt(!1)}}}else u=n;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=F1.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var n=Ht();return e={current:e},n.memoizedState=e},useState:function(e){e=$c(e);var n=e.queue,l=$m.bind(null,fe,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:ef,useDeferredValue:function(e,n){var l=Ht();return tf(l,e,n)},useTransition:function(){var e=$c(!1);return e=Km.bind(null,fe,e.queue,!0,!1),Ht().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=fe,u=Ht();if(Ae){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),He===null)throw Error(r(349));(Ee&124)!==0||Em(a,n,l)}u.memoizedState=l;var f={value:l,getSnapshot:n};return u.queue=f,Bm(Tm.bind(null,a,f,e),[e]),a.flags|=2048,tl(9,io(),Cm.bind(null,a,f,l,n),null),l},useId:function(){var e=Ht(),n=He.identifierPrefix;if(Ae){var l=Pn,a=Kn;l=(a&~(1<<32-lt(a)-1)).toString(32)+l,n=""+n+"R"+l,l=eo++,0<l&&(n+="H"+l.toString(32)),n+=""}else l=G1++,n=""+n+"r"+l.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:sf,useFormState:km,useActionState:km,useOptimistic:function(e){var n=Ht();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=lf.bind(null,fe,!0,l),l.dispatch=n,[e,n]},useMemoCache:Fc,useCacheRefresh:function(){return Ht().memoizedState=P1.bind(null,fe)}},np={readContext:Ot,use:to,useCallback:Vm,useContext:Ot,useEffect:jm,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:qm,useMemo:Qm,useReducer:no,useRef:Lm,useState:function(){return no(Wn)},useDebugValue:ef,useDeferredValue:function(e,n){var l=st();return Xm(l,ke.memoizedState,e,n)},useTransition:function(){var e=no(Wn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:dr(e),n]},useSyncExternalStore:Sm,useId:Zm,useHostTransitionStatus:sf,useFormState:Im,useActionState:Im,useOptimistic:function(e,n){var l=st();return Am(l,ke,e,n)},useMemoCache:Fc,useCacheRefresh:Wm},Z1={readContext:Ot,use:to,useCallback:Vm,useContext:Ot,useEffect:jm,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:qm,useMemo:Qm,useReducer:Wc,useRef:Lm,useState:function(){return Wc(Wn)},useDebugValue:ef,useDeferredValue:function(e,n){var l=st();return ke===null?tf(l,e,n):Xm(l,ke.memoizedState,e,n)},useTransition:function(){var e=Wc(Wn)[0],n=st().memoizedState;return[typeof e=="boolean"?e:dr(e),n]},useSyncExternalStore:Sm,useId:Zm,useHostTransitionStatus:sf,useFormState:Um,useActionState:Um,useOptimistic:function(e,n){var l=st();return ke!==null?Am(l,ke,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:Wm},nl=null,mr=0;function ao(e){var n=mr;return mr+=1,nl===null&&(nl=[]),hm(nl,e,n)}function pr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function oo(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ip(e){var n=e._init;return n(e._payload)}function sp(e){function n(w,C){if(e){var x=w.deletions;x===null?(w.deletions=[C],w.flags|=16):x.push(C)}}function l(w,C){if(!e)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function a(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function u(w,C){return w=Xn(w,C),w.index=0,w.sibling=null,w}function f(w,C,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<C?(w.flags|=67108866,C):x):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function p(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function _(w,C,x,U){return C===null||C.tag!==6?(C=wc(x,w.mode,U),C.return=w,C):(C=u(C,x),C.return=w,C)}function S(w,C,x,U){var J=x.type;return J===O?I(w,C,x.props.children,U,x.key):C!==null&&(C.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&ip(J)===C.type)?(C=u(C,x.props),pr(C,x),C.return=w,C):(C=Va(x.type,x.key,x.props,null,w.mode,U),pr(C,x),C.return=w,C)}function R(w,C,x,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=xc(x,w.mode,U),C.return=w,C):(C=u(C,x.children||[]),C.return=w,C)}function I(w,C,x,U,J){return C===null||C.tag!==7?(C=is(x,w.mode,U,J),C.return=w,C):(C=u(C,x),C.return=w,C)}function B(w,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=wc(""+C,w.mode,x),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return x=Va(C.type,C.key,C.props,null,w.mode,x),pr(x,C),x.return=w,x;case T:return C=xc(C,w.mode,x),C.return=w,C;case $:var U=C._init;return C=U(C._payload),B(w,C,x)}if(De(C)||ye(C))return C=is(C,w.mode,x,null),C.return=w,C;if(typeof C.then=="function")return B(w,ao(C),x);if(C.$$typeof===G)return B(w,Pa(w,C),x);oo(w,C)}return null}function D(w,C,x,U){var J=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return J!==null?null:_(w,C,""+x,U);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case b:return x.key===J?S(w,C,x,U):null;case T:return x.key===J?R(w,C,x,U):null;case $:return J=x._init,x=J(x._payload),D(w,C,x,U)}if(De(x)||ye(x))return J!==null?null:I(w,C,x,U,null);if(typeof x.then=="function")return D(w,C,ao(x),U);if(x.$$typeof===G)return D(w,C,Pa(w,x),U);oo(w,x)}return null}function N(w,C,x,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return w=w.get(x)||null,_(C,w,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return w=w.get(U.key===null?x:U.key)||null,S(C,w,U,J);case T:return w=w.get(U.key===null?x:U.key)||null,R(C,w,U,J);case $:var ge=U._init;return U=ge(U._payload),N(w,C,x,U,J)}if(De(U)||ye(U))return w=w.get(x)||null,I(C,w,U,J,null);if(typeof U.then=="function")return N(w,C,x,ao(U),J);if(U.$$typeof===G)return N(w,C,x,Pa(C,U),J);oo(C,U)}return null}function ae(w,C,x,U){for(var J=null,ge=null,ie=C,re=C=0,pt=null;ie!==null&&re<x.length;re++){ie.index>re?(pt=ie,ie=null):pt=ie.sibling;var xe=D(w,ie,x[re],U);if(xe===null){ie===null&&(ie=pt);break}e&&ie&&xe.alternate===null&&n(w,ie),C=f(xe,C,re),ge===null?J=xe:ge.sibling=xe,ge=xe,ie=pt}if(re===x.length)return l(w,ie),Ae&&ls(w,re),J;if(ie===null){for(;re<x.length;re++)ie=B(w,x[re],U),ie!==null&&(C=f(ie,C,re),ge===null?J=ie:ge.sibling=ie,ge=ie);return Ae&&ls(w,re),J}for(ie=a(ie);re<x.length;re++)pt=N(ie,w,re,x[re],U),pt!==null&&(e&&pt.alternate!==null&&ie.delete(pt.key===null?re:pt.key),C=f(pt,C,re),ge===null?J=pt:ge.sibling=pt,ge=pt);return e&&ie.forEach(function(Li){return n(w,Li)}),Ae&&ls(w,re),J}function le(w,C,x,U){if(x==null)throw Error(r(151));for(var J=null,ge=null,ie=C,re=C=0,pt=null,xe=x.next();ie!==null&&!xe.done;re++,xe=x.next()){ie.index>re?(pt=ie,ie=null):pt=ie.sibling;var Li=D(w,ie,xe.value,U);if(Li===null){ie===null&&(ie=pt);break}e&&ie&&Li.alternate===null&&n(w,ie),C=f(Li,C,re),ge===null?J=Li:ge.sibling=Li,ge=Li,ie=pt}if(xe.done)return l(w,ie),Ae&&ls(w,re),J;if(ie===null){for(;!xe.done;re++,xe=x.next())xe=B(w,xe.value,U),xe!==null&&(C=f(xe,C,re),ge===null?J=xe:ge.sibling=xe,ge=xe);return Ae&&ls(w,re),J}for(ie=a(ie);!xe.done;re++,xe=x.next())xe=N(ie,w,re,xe.value,U),xe!==null&&(e&&xe.alternate!==null&&ie.delete(xe.key===null?re:xe.key),C=f(xe,C,re),ge===null?J=xe:ge.sibling=xe,ge=xe);return e&&ie.forEach(function(WS){return n(w,WS)}),Ae&&ls(w,re),J}function ze(w,C,x,U){if(typeof x=="object"&&x!==null&&x.type===O&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case b:e:{for(var J=x.key;C!==null;){if(C.key===J){if(J=x.type,J===O){if(C.tag===7){l(w,C.sibling),U=u(C,x.props.children),U.return=w,w=U;break e}}else if(C.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===$&&ip(J)===C.type){l(w,C.sibling),U=u(C,x.props),pr(U,x),U.return=w,w=U;break e}l(w,C);break}else n(w,C);C=C.sibling}x.type===O?(U=is(x.props.children,w.mode,U,x.key),U.return=w,w=U):(U=Va(x.type,x.key,x.props,null,w.mode,U),pr(U,x),U.return=w,w=U)}return p(w);case T:e:{for(J=x.key;C!==null;){if(C.key===J)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){l(w,C.sibling),U=u(C,x.children||[]),U.return=w,w=U;break e}else{l(w,C);break}else n(w,C);C=C.sibling}U=xc(x,w.mode,U),U.return=w,w=U}return p(w);case $:return J=x._init,x=J(x._payload),ze(w,C,x,U)}if(De(x))return ae(w,C,x,U);if(ye(x)){if(J=ye(x),typeof J!="function")throw Error(r(150));return x=J.call(x),le(w,C,x,U)}if(typeof x.then=="function")return ze(w,C,ao(x),U);if(x.$$typeof===G)return ze(w,C,Pa(w,x),U);oo(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(l(w,C.sibling),U=u(C,x),U.return=w,w=U):(l(w,C),U=wc(x,w.mode,U),U.return=w,w=U),p(w)):l(w,C)}return function(w,C,x,U){try{mr=0;var J=ze(w,C,x,U);return nl=null,J}catch(ie){if(ie===rr||ie===Za)throw ie;var ge=Zt(29,ie,null,w.mode);return ge.lanes=U,ge.return=w,ge}finally{}}}var il=sp(!0),lp=sp(!1),fn=j(null),zn=null;function Ei(e){var n=e.alternate;P(at,at.current&1),P(fn,e),zn===null&&(n===null||$s.current!==null||n.memoizedState!==null)&&(zn=e)}function rp(e){if(e.tag===22){if(P(at,at.current),P(fn,e),zn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(zn=e)}}else Ci()}function Ci(){P(at,at.current),P(fn,fn.current)}function $n(e){K(fn),zn===e&&(zn=null),K(at)}var at=j(0);function uo(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Ff(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rf(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:y({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var af={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=en(),u=_i(a);u.payload=n,l!=null&&(u.callback=l),n=bi(e,u,a),n!==null&&(tn(n,e,a),or(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=en(),u=_i(a);u.tag=1,u.payload=n,l!=null&&(u.callback=l),n=bi(e,u,a),n!==null&&(tn(n,e,a),or(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=en(),a=_i(l);a.tag=2,n!=null&&(a.callback=n),n=bi(e,a,l),n!==null&&(tn(n,e,l),or(n,e,l))}};function ap(e,n,l,a,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,p):n.prototype&&n.prototype.isPureReactComponent?!$l(l,a)||!$l(u,f):!0}function op(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&af.enqueueReplaceState(n,n.state,null)}function ds(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=y({},l));for(var u in e)l[u]===void 0&&(l[u]=e[u])}return l}var co=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function up(e){co(e)}function cp(e){console.error(e)}function fp(e){co(e)}function fo(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function dp(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function of(e,n,l){return l=_i(l),l.tag=3,l.payload={element:null},l.callback=function(){fo(e,n)},l}function hp(e){return e=_i(e),e.tag=3,e}function gp(e,n,l,a){var u=l.type.getDerivedStateFromError;if(typeof u=="function"){var f=a.value;e.payload=function(){return u(f)},e.callback=function(){dp(n,l,a)}}var p=l.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){dp(n,l,a),typeof u!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function W1(e,n,l,a,u){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&ir(n,l,u,!0),l=fn.current,l!==null){switch(l.tag){case 13:return zn===null?Mf():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=u,a===Uc?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),If(e,a,u)),!1;case 22:return l.flags|=65536,a===Uc?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),If(e,a,u)),!1}throw Error(r(435,l.tag))}return If(e,a,u),Mf(),!1}if(Ae)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,a!==Dc&&(e=Error(r(422),{cause:a}),nr(an(e,l)))):(a!==Dc&&(n=Error(r(423),{cause:a}),nr(an(n,l))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=an(a,l),u=of(e.stateNode,a,u),jc(e,u),$e!==4&&($e=2)),!1;var f=Error(r(520),{cause:a});if(f=an(f,l),Cr===null?Cr=[f]:Cr.push(f),$e!==4&&($e=2),n===null)return!0;a=an(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=u&-u,l.lanes|=e,e=of(l.stateNode,a,e),jc(l,e),!1;case 1:if(n=l.type,f=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Di===null||!Di.has(f))))return l.flags|=65536,u&=-u,l.lanes|=u,u=hp(u),gp(u,e,l,a),jc(l,u),!1}l=l.return}while(l!==null);return!1}var mp=Error(r(461)),gt=!1;function Tt(e,n,l,a){n.child=e===null?lp(n,null,l,a):il(n,e.child,l,a)}function pp(e,n,l,a,u){l=l.render;var f=n.ref;if("ref"in a){var p={};for(var _ in a)_!=="ref"&&(p[_]=a[_])}else p=a;return us(n),a=Vc(e,n,l,p,f,u),_=Qc(),e!==null&&!gt?(Xc(e,n,u),Jn(e,n,u)):(Ae&&_&&Ac(n),n.flags|=1,Tt(e,n,a,u),n.child)}function yp(e,n,l,a,u){if(e===null){var f=l.type;return typeof f=="function"&&!Tc(f)&&f.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=f,vp(e,n,f,a,u)):(e=Va(l.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!pf(e,u)){var p=f.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(p,a)&&e.ref===n.ref)return Jn(e,n,u)}return n.flags|=1,e=Xn(f,a),e.ref=n.ref,e.return=n,n.child=e}function vp(e,n,l,a,u){if(e!==null){var f=e.memoizedProps;if($l(f,a)&&e.ref===n.ref)if(gt=!1,n.pendingProps=a=f,pf(e,u))(e.flags&131072)!==0&&(gt=!0);else return n.lanes=e.lanes,Jn(e,n,u)}return uf(e,n,l,a,u)}function _p(e,n,l){var a=n.pendingProps,u=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden"){if((n.flags&128)!==0){if(a=f!==null?f.baseLanes|l:l,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~a}else n.childLanes=0,n.child=null;return bp(e,n,a,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fa(n,f!==null?f.cachePool:null),f!==null?vm(n,f):qc(),rp(n);else return n.lanes=n.childLanes=536870912,bp(e,n,f!==null?f.baseLanes|l:l,l)}else f!==null?(Fa(n,f.cachePool),vm(n,f),Ci(),n.memoizedState=null):(e!==null&&Fa(n,null),qc(),Ci());return Tt(e,n,u,l),n.child}function bp(e,n,l,a){var u=zc();return u=u===null?null:{parent:rt._currentValue,pool:u},n.memoizedState={baseLanes:l,cachePool:u},e!==null&&Fa(n,null),qc(),rp(n),e!==null&&ir(e,n,a,!0),null}function ho(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function uf(e,n,l,a,u){return us(n),l=Vc(e,n,l,a,void 0,u),a=Qc(),e!==null&&!gt?(Xc(e,n,u),Jn(e,n,u)):(Ae&&a&&Ac(n),n.flags|=1,Tt(e,n,l,u),n.child)}function Sp(e,n,l,a,u,f){return us(n),n.updateQueue=null,l=bm(n,a,l,u),_m(e),a=Qc(),e!==null&&!gt?(Xc(e,n,f),Jn(e,n,f)):(Ae&&a&&Ac(n),n.flags|=1,Tt(e,n,l,f),n.child)}function Ep(e,n,l,a,u){if(us(n),n.stateNode===null){var f=Ks,p=l.contextType;typeof p=="object"&&p!==null&&(f=Ot(p)),f=new l(a,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=a,f.state=n.memoizedState,f.refs={},Lc(n),p=l.contextType,f.context=typeof p=="object"&&p!==null?Ot(p):Ks,f.state=n.memoizedState,p=l.getDerivedStateFromProps,typeof p=="function"&&(rf(n,l,p,a),f.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&af.enqueueReplaceState(f,f.state,null),cr(n,a,f,u),ur(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){f=n.stateNode;var _=n.memoizedProps,S=ds(l,_);f.props=S;var R=f.context,I=l.contextType;p=Ks,typeof I=="object"&&I!==null&&(p=Ot(I));var B=l.getDerivedStateFromProps;I=typeof B=="function"||typeof f.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,I||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_||R!==p)&&op(n,f,a,p),vi=!1;var D=n.memoizedState;f.state=D,cr(n,a,f,u),ur(),R=n.memoizedState,_||D!==R||vi?(typeof B=="function"&&(rf(n,l,B,a),R=n.memoizedState),(S=vi||ap(n,l,S,a,D,R,p))?(I||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=R),f.props=a,f.state=R,f.context=p,a=S):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{f=n.stateNode,Bc(e,n),p=n.memoizedProps,I=ds(l,p),f.props=I,B=n.pendingProps,D=f.context,R=l.contextType,S=Ks,typeof R=="object"&&R!==null&&(S=Ot(R)),_=l.getDerivedStateFromProps,(R=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==B||D!==S)&&op(n,f,a,S),vi=!1,D=n.memoizedState,f.state=D,cr(n,a,f,u),ur();var N=n.memoizedState;p!==B||D!==N||vi||e!==null&&e.dependencies!==null&&Ka(e.dependencies)?(typeof _=="function"&&(rf(n,l,_,a),N=n.memoizedState),(I=vi||ap(n,l,I,a,D,N,S)||e!==null&&e.dependencies!==null&&Ka(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,N,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,N,S)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=N),f.props=a,f.state=N,f.context=S,a=I):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),a=!1)}return f=a,ho(e,n),a=(n.flags&128)!==0,f||a?(f=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&a?(n.child=il(n,e.child,null,u),n.child=il(n,null,l,u)):Tt(e,n,l,u),n.memoizedState=f.state,e=n.child):e=Jn(e,n,u),e}function Cp(e,n,l,a){return tr(),n.flags|=256,Tt(e,n,l,a),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ff(e){return{baseLanes:e,cachePool:cm()}}function df(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=dn),e}function Tp(e,n,l){var a=n.pendingProps,u=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),p&&(u=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ae){if(u?Ei(n):Ci(),Ae){var _=We,S;if(S=_){e:{for(S=_,_=In;S.nodeType!==8;){if(!_){_=null;break e}if(S=En(S.nextSibling),S===null){_=null;break e}}_=S}_!==null?(n.memoizedState={dehydrated:_,treeContext:ss!==null?{id:Kn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},S=Zt(18,null,null,0),S.stateNode=_,S.return=n,n.child=S,zt=n,We=null,S=!0):S=!1}S||as(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Ff(_)?n.lanes=32:n.lanes=536870912,null;$n(n)}return _=a.children,a=a.fallback,u?(Ci(),u=n.mode,_=go({mode:"hidden",children:_},u),a=is(a,u,l,null),_.return=n,a.return=n,_.sibling=a,n.child=_,u=n.child,u.memoizedState=ff(l),u.childLanes=df(e,p,l),n.memoizedState=cf,a):(Ei(n),hf(n,_))}if(S=e.memoizedState,S!==null&&(_=S.dehydrated,_!==null)){if(f)n.flags&256?(Ei(n),n.flags&=-257,n=gf(e,n,l)):n.memoizedState!==null?(Ci(),n.child=e.child,n.flags|=128,n=null):(Ci(),u=a.fallback,_=n.mode,a=go({mode:"visible",children:a.children},_),u=is(u,_,l,null),u.flags|=2,a.return=n,u.return=n,a.sibling=u,n.child=a,il(n,e.child,null,l),a=n.child,a.memoizedState=ff(l),a.childLanes=df(e,p,l),n.memoizedState=cf,n=u);else if(Ei(n),Ff(_)){if(p=_.nextSibling&&_.nextSibling.dataset,p)var R=p.dgst;p=R,a=Error(r(419)),a.stack="",a.digest=p,nr({value:a,source:null,stack:null}),n=gf(e,n,l)}else if(gt||ir(e,n,l,!1),p=(l&e.childLanes)!==0,gt||p){if(p=He,p!==null&&(a=l&-l,a=(a&42)!==0?1:Dt(a),a=(a&(p.suspendedLanes|l))!==0?0:a,a!==0&&a!==S.retryLane))throw S.retryLane=a,Xs(e,a),tn(p,e,a),mp;_.data==="$?"||Mf(),n=gf(e,n,l)}else _.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=S.treeContext,We=En(_.nextSibling),zt=n,Ae=!0,rs=null,In=!1,e!==null&&(un[cn++]=Kn,un[cn++]=Pn,un[cn++]=ss,Kn=e.id,Pn=e.overflow,ss=n),n=hf(n,a.children),n.flags|=4096);return n}return u?(Ci(),u=a.fallback,_=n.mode,S=e.child,R=S.sibling,a=Xn(S,{mode:"hidden",children:a.children}),a.subtreeFlags=S.subtreeFlags&65011712,R!==null?u=Xn(R,u):(u=is(u,_,l,null),u.flags|=2),u.return=n,a.return=n,a.sibling=u,n.child=a,a=u,u=n.child,_=e.child.memoizedState,_===null?_=ff(l):(S=_.cachePool,S!==null?(R=rt._currentValue,S=S.parent!==R?{parent:R,pool:R}:S):S=cm(),_={baseLanes:_.baseLanes|l,cachePool:S}),u.memoizedState=_,u.childLanes=df(e,p,l),n.memoizedState=cf,a):(Ei(n),l=e.child,e=l.sibling,l=Xn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=l,n.memoizedState=null,l)}function hf(e,n){return n=go({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function go(e,n){return e=Zt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function gf(e,n,l){return il(n,e.child,null,l),e=hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Oc(e.return,n,l)}function mf(e,n,l,a,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=l,f.tailMode=u)}function xp(e,n,l){var a=n.pendingProps,u=a.revealOrder,f=a.tail;if(Tt(e,n,a.children,l),a=at.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,l,n);else if(e.tag===19)wp(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(P(at,a),u){case"forwards":for(l=n.child,u=null;l!==null;)e=l.alternate,e!==null&&uo(e)===null&&(u=l),l=l.sibling;l=u,l===null?(u=n.child,n.child=null):(u=l.sibling,l.sibling=null),mf(n,!1,u,l,f);break;case"backwards":for(l=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&uo(e)===null){n.child=u;break}e=u.sibling,u.sibling=l,l=u,u=e}mf(n,!0,l,null,f);break;case"together":mf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Jn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Ri|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ir(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,l=Xn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Xn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ka(e)))}function $1(e,n,l){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),yi(n,rt,e.memoizedState.cache),tr();break;case 27:case 5:we(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:yi(n,n.type,n.memoizedProps.value);break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Ei(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Tp(e,n,l):(Ei(n),e=Jn(e,n,l),e!==null?e.sibling:null);Ei(n);break;case 19:var u=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(ir(e,n,l,!1),a=(l&n.childLanes)!==0),u){if(a)return xp(e,n,l);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P(at,at.current),a)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,l);case 24:yi(n,rt,e.memoizedState.cache)}return Jn(e,n,l)}function Ap(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)gt=!0;else{if(!pf(e,l)&&(n.flags&128)===0)return gt=!1,$1(e,n,l);gt=(e.flags&131072)!==0}else gt=!1,Ae&&(n.flags&1048576)!==0&&im(n,Xa,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var a=n.elementType,u=a._init;if(a=u(a._payload),n.type=a,typeof a=="function")Tc(a)?(e=ds(a,e),n.tag=1,n=Ep(null,n,a,e,l)):(n.tag=0,n=uf(null,n,a,e,l));else{if(a!=null){if(u=a.$$typeof,u===Y){n.tag=11,n=pp(null,n,a,e,l);break e}else if(u===Z){n.tag=14,n=yp(null,n,a,e,l);break e}}throw n=Ue(a)||a,Error(r(306,n,""))}}return n;case 0:return uf(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,u=ds(a,n.pendingProps),Ep(e,n,a,u,l);case 3:e:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(r(387));a=n.pendingProps;var f=n.memoizedState;u=f.element,Bc(e,n),cr(n,a,null,l);var p=n.memoizedState;if(a=p.cache,yi(n,rt,a),a!==f.cache&&Mc(n,[rt],l,!0),ur(),a=p.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,a,l);break e}else if(a!==u){u=an(Error(r(424)),n),nr(u),n=Cp(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(We=En(e.firstChild),zt=n,Ae=!0,rs=null,In=!0,l=lp(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(tr(),a===u){n=Jn(e,n,l);break e}Tt(e,n,a,l)}n=n.child}return n;case 26:return ho(e,n),e===null?(l=Oy(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ae||(l=n.type,e=n.pendingProps,a=Ro(ne.current).createElement(l),a[Ge]=n,a[Ve]=e,xt(a,l,e),ht(a),n.stateNode=a):n.memoizedState=Oy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return we(n),e===null&&Ae&&(a=n.stateNode=Ry(n.type,n.pendingProps,ne.current),zt=n,In=!0,u=We,Mi(n.type)?(Zf=u,We=En(a.firstChild)):We=u),Tt(e,n,n.pendingProps.children,l),ho(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ae&&((u=a=We)&&(a=xS(a,n.type,n.pendingProps,In),a!==null?(n.stateNode=a,zt=n,We=En(a.firstChild),In=!1,u=!0):u=!1),u||as(n)),we(n),u=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,a=f.children,Xf(u,f)?a=null:p!==null&&Xf(u,p)&&(n.flags|=32),n.memoizedState!==null&&(u=Vc(e,n,V1,null,null,l),Mr._currentValue=u),ho(e,n),Tt(e,n,a,l),n.child;case 6:return e===null&&Ae&&((e=l=We)&&(l=AS(l,n.pendingProps,In),l!==null?(n.stateNode=l,zt=n,We=null,e=!0):e=!1),e||as(n)),null;case 13:return Tp(e,n,l);case 4:return Te(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=il(n,null,a,l):Tt(e,n,a,l),n.child;case 11:return pp(e,n,n.type,n.pendingProps,l);case 7:return Tt(e,n,n.pendingProps,l),n.child;case 8:return Tt(e,n,n.pendingProps.children,l),n.child;case 12:return Tt(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,yi(n,n.type,a.value),Tt(e,n,a.children,l),n.child;case 9:return u=n.type._context,a=n.pendingProps.children,us(n),u=Ot(u),a=a(u),n.flags|=1,Tt(e,n,a,l),n.child;case 14:return yp(e,n,n.type,n.pendingProps,l);case 15:return vp(e,n,n.type,n.pendingProps,l);case 19:return xp(e,n,l);case 31:return a=n.pendingProps,l=n.mode,a={mode:a.mode,children:a.children},e===null?(l=go(a,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=Xn(e.child,a),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return _p(e,n,l);case 24:return us(n),a=Ot(rt),e===null?(u=zc(),u===null&&(u=He,f=kc(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=l),u=f),n.memoizedState={parent:a,cache:u},Lc(n),yi(n,rt,u)):((e.lanes&l)!==0&&(Bc(e,n),cr(n,null,null,l),ur()),u=e.memoizedState,f=n.memoizedState,u.parent!==a?(u={parent:a,cache:a},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),yi(n,rt,a)):(a=f.cache,yi(n,rt,a),a!==u.cache&&Mc(n,[rt],l,!0))),Tt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ei(e){e.flags|=4}function Rp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Uy(n)){if(n=fn.current,n!==null&&((Ee&4194048)===Ee?zn!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||n!==zn))throw ar=Uc,fm;e.flags|=8192}}function mo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Da():536870912,e.lanes|=n,al|=n)}function yr(e,n){if(!Ae)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var u=e.child;u!==null;)l|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)l|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function J1(e,n,l){var a=n.pendingProps;switch(Rc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return Xe(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Zn(rt),dt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(er(n)?ei(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rm())),Xe(n),null;case 26:return l=n.memoizedState,e===null?(ei(n),l!==null?(Xe(n),Rp(n,l)):(Xe(n),n.flags&=-16777217)):l?l!==e.memoizedState?(ei(n),Xe(n),Rp(n,l)):(Xe(n),n.flags&=-16777217):(e.memoizedProps!==a&&ei(n),Xe(n),n.flags&=-16777217),null;case 27:Nn(n),l=ne.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==a&&ei(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Xe(n),null}e=te.current,er(n)?sm(n):(e=Ry(u,a,l),n.stateNode=e,ei(n))}return Xe(n),null;case 5:if(Nn(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&ei(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return Xe(n),null}if(e=te.current,er(n))sm(n);else{switch(u=Ro(ne.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?u.createElement(l,{is:a.is}):u.createElement(l)}}e[Ge]=n,e[Ve]=a;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(xt(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ei(n)}}return Xe(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&ei(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(e=ne.current,er(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,u=zt,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[Ge]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Sy(e.nodeValue,l)),e||as(n)}else e=Ro(e).createTextNode(a),e[Ge]=n,n.stateNode=e}return Xe(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=er(n),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Ge]=n}else tr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Xe(n),u=!1}else u=rm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?($n(n),n):($n(n),null)}if($n(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=n.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool);var f=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),mo(n,n.updateQueue),Xe(n),null;case 4:return dt(),e===null&&qf(n.stateNode.containerInfo),Xe(n),null;case 10:return Zn(n.type),Xe(n),null;case 19:if(K(at),u=n.memoizedState,u===null)return Xe(n),null;if(a=(n.flags&128)!==0,f=u.rendering,f===null)if(a)yr(u,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=uo(e),f!==null){for(n.flags|=128,yr(u,!1),e=f.updateQueue,n.updateQueue=e,mo(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)nm(l,e),l=l.sibling;return P(at,at.current&1|2),n.child}e=e.sibling}u.tail!==null&&Kt()>vo&&(n.flags|=128,a=!0,yr(u,!1),n.lanes=4194304)}else{if(!a)if(e=uo(f),e!==null){if(n.flags|=128,a=!0,e=e.updateQueue,n.updateQueue=e,mo(n,e),yr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!Ae)return Xe(n),null}else 2*Kt()-u.renderingStartTime>vo&&l!==536870912&&(n.flags|=128,a=!0,yr(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Kt(),n.sibling=null,e=at.current,P(at,a?e&1|2:e&1),n):(Xe(n),null);case 22:case 23:return $n(n),Yc(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),l=n.updateQueue,l!==null&&mo(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&K(cs),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zn(rt),Xe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function eS(e,n){switch(Rc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zn(rt),dt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Nn(n),null;case 13:if($n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));tr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(at),null;case 4:return dt(),null;case 10:return Zn(n.type),null;case 22:case 23:return $n(n),Yc(),e!==null&&K(cs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zn(rt),null;case 25:return null;default:return null}}function Dp(e,n){switch(Rc(n),n.tag){case 3:Zn(rt),dt();break;case 26:case 27:case 5:Nn(n);break;case 4:dt();break;case 13:$n(n);break;case 19:K(at);break;case 10:Zn(n.type);break;case 22:case 23:$n(n),Yc(),e!==null&&K(cs);break;case 24:Zn(rt)}}function vr(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var u=a.next;l=u;do{if((l.tag&e)===e){a=void 0;var f=l.create,p=l.inst;a=f(),p.destroy=a}l=l.next}while(l!==u)}}catch(_){Le(n,n.return,_)}}function Ti(e,n,l){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){var p=a.inst,_=p.destroy;if(_!==void 0){p.destroy=void 0,u=n;var S=l,R=_;try{R()}catch(I){Le(u,S,I)}}}a=a.next}while(a!==f)}}catch(I){Le(n,n.return,I)}}function Np(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{ym(n,l)}catch(a){Le(e,e.return,a)}}}function Op(e,n,l){l.props=ds(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Le(e,n,a)}}function _r(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(u){Le(e,n,u)}}function Un(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(u){Le(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(u){Le(e,n,u)}else l.current=null}function Mp(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(u){Le(e,e.return,u)}}function yf(e,n,l){try{var a=e.stateNode;SS(a,e.type,l,n),a[Ve]=n}catch(u){Le(e,e.return,u)}}function kp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Mi(e.type)||e.tag===4}function vf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _f(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Ao));else if(a!==4&&(a===27&&Mi(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(_f(e,n,l),e=e.sibling;e!==null;)_f(e,n,l),e=e.sibling}function po(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Mi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(po(e,n,l),e=e.sibling;e!==null;)po(e,n,l),e=e.sibling}function Ip(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);xt(n,a,l),n[Ge]=e,n[Ve]=l}catch(f){Le(e,e.return,f)}}var ti=!1,et=!1,bf=!1,zp=typeof WeakSet=="function"?WeakSet:Set,mt=null;function tS(e,n){if(e=e.containerInfo,Vf=Io,e=Xg(e),yc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{l.nodeType,f.nodeType}catch{l=null;break e}var p=0,_=-1,S=-1,R=0,I=0,B=e,D=null;t:for(;;){for(var N;B!==l||u!==0&&B.nodeType!==3||(_=p+u),B!==f||a!==0&&B.nodeType!==3||(S=p+a),B.nodeType===3&&(p+=B.nodeValue.length),(N=B.firstChild)!==null;)D=B,B=N;for(;;){if(B===e)break t;if(D===l&&++R===u&&(_=p),D===f&&++I===a&&(S=p),(N=B.nextSibling)!==null)break;B=D,D=B.parentNode}B=N}l=_===-1||S===-1?null:{start:_,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qf={focusedElem:e,selectionRange:l},Io=!1,mt=n;mt!==null;)if(n=mt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,mt=e;else for(;mt!==null;){switch(n=mt,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,l=n,u=f.memoizedProps,f=f.memoizedState,a=l.stateNode;try{var ae=ds(l.type,u,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(ae,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(le){Le(l,l.return,le)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Pf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,mt=e;break}mt=n.return}}function Up(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:wi(e,l),a&4&&vr(5,l);break;case 1:if(wi(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(p){Le(l,l.return,p)}else{var u=ds(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Le(l,l.return,p)}}a&64&&Np(l),a&512&&_r(l,l.return);break;case 3:if(wi(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{ym(e,n)}catch(p){Le(l,l.return,p)}}break;case 27:n===null&&a&4&&Ip(l);case 26:case 5:wi(e,l),n===null&&a&4&&Mp(l),a&512&&_r(l,l.return);break;case 12:wi(e,l);break;case 13:wi(e,l),a&4&&jp(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=cS.bind(null,l),RS(e,l))));break;case 22:if(a=l.memoizedState!==null||ti,!a){n=n!==null&&n.memoizedState!==null||et,u=ti;var f=et;ti=a,(et=n)&&!f?xi(e,l,(l.subtreeFlags&8772)!==0):wi(e,l),ti=u,et=f}break;case 30:break;default:wi(e,l)}}function Lp(e){var n=e.alternate;n!==null&&(e.alternate=null,Lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$u(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,qt=!1;function ni(e,n,l){for(l=l.child;l!==null;)Bp(e,n,l),l=l.sibling}function Bp(e,n,l){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Fi,l)}catch{}switch(l.tag){case 26:et||Un(l,n),ni(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:et||Un(l,n);var a=Qe,u=qt;Mi(l.type)&&(Qe=l.stateNode,qt=!1),ni(e,n,l),Rr(l.stateNode),Qe=a,qt=u;break;case 5:et||Un(l,n);case 6:if(a=Qe,u=qt,Qe=null,ni(e,n,l),Qe=a,qt=u,Qe!==null)if(qt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(f){Le(l,n,f)}else try{Qe.removeChild(l.stateNode)}catch(f){Le(l,n,f)}break;case 18:Qe!==null&&(qt?(e=Qe,xy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ur(e)):xy(Qe,l.stateNode));break;case 4:a=Qe,u=qt,Qe=l.stateNode.containerInfo,qt=!0,ni(e,n,l),Qe=a,qt=u;break;case 0:case 11:case 14:case 15:et||Ti(2,l,n),et||Ti(4,l,n),ni(e,n,l);break;case 1:et||(Un(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Op(l,n,a)),ni(e,n,l);break;case 21:ni(e,n,l);break;case 22:et=(a=et)||l.memoizedState!==null,ni(e,n,l),et=a;break;default:ni(e,n,l)}}function jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ur(e)}catch(l){Le(n,n.return,l)}}function nS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zp),n;default:throw Error(r(435,e.tag))}}function Sf(e,n){var l=nS(e);n.forEach(function(a){var u=fS.bind(null,e,a);l.has(a)||(l.add(a),a.then(u,u))})}function Wt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var u=l[a],f=e,p=n,_=p;e:for(;_!==null;){switch(_.tag){case 27:if(Mi(_.type)){Qe=_.stateNode,qt=!1;break e}break;case 5:Qe=_.stateNode,qt=!1;break e;case 3:case 4:Qe=_.stateNode.containerInfo,qt=!0;break e}_=_.return}if(Qe===null)throw Error(r(160));Bp(f,p,u),Qe=null,qt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hp(n,e),n=n.sibling}var Sn=null;function Hp(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wt(n,e),$t(e),a&4&&(Ti(3,e,e.return),vr(3,e),Ti(5,e,e.return));break;case 1:Wt(n,e),$t(e),a&512&&(et||l===null||Un(l,l.return)),a&64&&ti&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var u=Sn;if(Wt(n,e),$t(e),a&512&&(et||l===null||Un(l,l.return)),a&4){var f=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Gn]||f[Ge]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(a),u.head.insertBefore(f,u.querySelector("head > title"))),xt(f,a,l),f[Ge]=e,ht(f),a=f;break e;case"link":var p=Iy("link","href",u).get(a+(l.href||""));if(p){for(var _=0;_<p.length;_++)if(f=p[_],f.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&f.getAttribute("rel")===(l.rel==null?null:l.rel)&&f.getAttribute("title")===(l.title==null?null:l.title)&&f.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){p.splice(_,1);break t}}f=u.createElement(a),xt(f,a,l),u.head.appendChild(f);break;case"meta":if(p=Iy("meta","content",u).get(a+(l.content||""))){for(_=0;_<p.length;_++)if(f=p[_],f.getAttribute("content")===(l.content==null?null:""+l.content)&&f.getAttribute("name")===(l.name==null?null:l.name)&&f.getAttribute("property")===(l.property==null?null:l.property)&&f.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&f.getAttribute("charset")===(l.charSet==null?null:l.charSet)){p.splice(_,1);break t}}f=u.createElement(a),xt(f,a,l),u.head.appendChild(f);break;default:throw Error(r(468,a))}f[Ge]=e,ht(f),a=f}e.stateNode=a}else zy(u,e.type,e.stateNode);else e.stateNode=ky(u,a,e.memoizedProps);else f!==a?(f===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):f.count--,a===null?zy(u,e.type,e.stateNode):ky(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&yf(e,e.memoizedProps,l.memoizedProps)}break;case 27:Wt(n,e),$t(e),a&512&&(et||l===null||Un(l,l.return)),l!==null&&a&4&&yf(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Wt(n,e),$t(e),a&512&&(et||l===null||Un(l,l.return)),e.flags&32){u=e.stateNode;try{js(u,"")}catch(N){Le(e,e.return,N)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,yf(e,u,l!==null?l.memoizedProps:u)),a&1024&&(bf=!0);break;case 6:if(Wt(n,e),$t(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(N){Le(e,e.return,N)}}break;case 3:if(Oo=null,u=Sn,Sn=Do(n.containerInfo),Wt(n,e),Sn=u,$t(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Ur(n.containerInfo)}catch(N){Le(e,e.return,N)}bf&&(bf=!1,qp(e));break;case 4:a=Sn,Sn=Do(e.stateNode.containerInfo),Wt(n,e),$t(e),Sn=a;break;case 12:Wt(n,e),$t(e);break;case 13:Wt(n,e),$t(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Af=Kt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sf(e,a)));break;case 22:u=e.memoizedState!==null;var S=l!==null&&l.memoizedState!==null,R=ti,I=et;if(ti=R||u,et=I||S,Wt(n,e),et=I,ti=R,$t(e),a&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(l===null||S||ti||et||hs(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){S=l=n;try{if(f=S.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=S.stateNode;var B=S.memoizedProps.style,D=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(N){Le(S,S.return,N)}}}else if(n.tag===6){if(l===null){S=n;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(N){Le(S,S.return,N)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Sf(e,l))));break;case 19:Wt(n,e),$t(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sf(e,a)));break;case 30:break;case 21:break;default:Wt(n,e),$t(e)}}function $t(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(kp(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var u=l.stateNode,f=vf(e);po(e,f,u);break;case 5:var p=l.stateNode;l.flags&32&&(js(p,""),l.flags&=-33);var _=vf(e);po(e,_,p);break;case 3:case 4:var S=l.stateNode.containerInfo,R=vf(e);_f(e,R,S);break;default:throw Error(r(161))}}catch(I){Le(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Up(e,n.alternate,n),n=n.sibling}function hs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ti(4,n,n.return),hs(n);break;case 1:Un(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Op(n,n.return,l),hs(n);break;case 27:Rr(n.stateNode);case 26:case 5:Un(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}e=e.sibling}}function xi(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,u=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:xi(u,f,l),vr(4,f);break;case 1:if(xi(u,f,l),a=f,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Le(a,a.return,R)}if(a=f,u=a.updateQueue,u!==null){var _=a.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)pm(S[u],_)}catch(R){Le(a,a.return,R)}}l&&p&64&&Np(f),_r(f,f.return);break;case 27:Ip(f);case 26:case 5:xi(u,f,l),l&&a===null&&p&4&&Mp(f),_r(f,f.return);break;case 12:xi(u,f,l);break;case 13:xi(u,f,l),l&&p&4&&jp(u,f);break;case 22:f.memoizedState===null&&xi(u,f,l),_r(f,f.return);break;case 30:break;default:xi(u,f,l)}n=n.sibling}}function Ef(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&sr(l))}function Cf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sr(e))}function Ln(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yp(e,n,l,a),n=n.sibling}function Yp(e,n,l,a){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ln(e,n,l,a),u&2048&&vr(9,n);break;case 1:Ln(e,n,l,a);break;case 3:Ln(e,n,l,a),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&sr(e)));break;case 12:if(u&2048){Ln(e,n,l,a),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,_=f.onPostCommit;typeof _=="function"&&_(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Le(n,n.return,S)}}else Ln(e,n,l,a);break;case 13:Ln(e,n,l,a);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Ln(e,n,l,a):br(e,n):f._visibility&2?Ln(e,n,l,a):(f._visibility|=2,sl(e,n,l,a,(n.subtreeFlags&10256)!==0)),u&2048&&Ef(p,n);break;case 24:Ln(e,n,l,a),u&2048&&Cf(n.alternate,n);break;default:Ln(e,n,l,a)}}function sl(e,n,l,a,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,p=n,_=l,S=a,R=p.flags;switch(p.tag){case 0:case 11:case 15:sl(f,p,_,S,u),vr(8,p);break;case 23:break;case 22:var I=p.stateNode;p.memoizedState!==null?I._visibility&2?sl(f,p,_,S,u):br(f,p):(I._visibility|=2,sl(f,p,_,S,u)),u&&R&2048&&Ef(p.alternate,p);break;case 24:sl(f,p,_,S,u),u&&R&2048&&Cf(p.alternate,p);break;default:sl(f,p,_,S,u)}n=n.sibling}}function br(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,u=a.flags;switch(a.tag){case 22:br(l,a),u&2048&&Ef(a.alternate,a);break;case 24:br(l,a),u&2048&&Cf(a.alternate,a);break;default:br(l,a)}n=n.sibling}}var Sr=8192;function ll(e){if(e.subtreeFlags&Sr)for(e=e.child;e!==null;)Gp(e),e=e.sibling}function Gp(e){switch(e.tag){case 26:ll(e),e.flags&Sr&&e.memoizedState!==null&&qS(Sn,e.memoizedState,e.memoizedProps);break;case 5:ll(e);break;case 3:case 4:var n=Sn;Sn=Do(e.stateNode.containerInfo),ll(e),Sn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Sr,Sr=16777216,ll(e),Sr=n):ll(e));break;default:ll(e)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Er(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];mt=a,Xp(a,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 0:case 11:case 15:Er(e),e.flags&2048&&Ti(9,e,e.return);break;case 3:Er(e);break;case 12:Er(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,yo(e)):Er(e);break;default:Er(e)}}function yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];mt=a,Xp(a,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ti(8,n,n.return),yo(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,yo(n));break;default:yo(n)}e=e.sibling}}function Xp(e,n){for(;mt!==null;){var l=mt;switch(l.tag){case 0:case 11:case 15:Ti(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:sr(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,mt=a;else e:for(l=e;mt!==null;){a=mt;var u=a.sibling,f=a.return;if(Lp(a),a===l){mt=null;break e}if(u!==null){u.return=f,mt=u;break e}mt=f}}}var iS={getCacheForType:function(e){var n=Ot(rt),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},sS=typeof WeakMap=="function"?WeakMap:Map,Ne=0,He=null,_e=null,Ee=0,Oe=0,Jt=null,Ai=!1,rl=!1,Tf=!1,ii=0,$e=0,Ri=0,gs=0,wf=0,dn=0,al=0,Cr=null,Yt=null,xf=!1,Af=0,vo=1/0,_o=null,Di=null,wt=0,Ni=null,ol=null,ul=0,Rf=0,Df=null,Kp=null,Tr=0,Nf=null;function en(){if((Ne&2)!==0&&Ee!==0)return Ee&-Ee;if(M.T!==null){var e=Zs;return e!==0?e:Lf()}return Pt()}function Pp(){dn===0&&(dn=(Ee&536870912)===0||Ae?Ra():536870912);var e=fn.current;return e!==null&&(e.flags|=32),dn}function tn(e,n,l){(e===He&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(cl(e,0),Oi(e,Ee,dn,!1)),Ze(e,l),((Ne&2)===0||e!==He)&&(e===He&&((Ne&2)===0&&(gs|=l),$e===4&&Oi(e,Ee,dn,!1)),Bn(e))}function Fp(e,n,l){if((Ne&6)!==0)throw Error(r(327));var a=!l&&(n&124)===0&&(n&e.expiredLanes)===0||Wi(e,n),u=a?aS(e,n):kf(e,n,!0),f=a;do{if(u===0){rl&&!a&&Oi(e,n,0,!1);break}else{if(l=e.current.alternate,f&&!lS(l)){u=kf(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var _=e;u=Cr;var S=_.current.memoizedState.isDehydrated;if(S&&(cl(_,p).flags|=256),p=kf(_,p,!1),p!==2){if(Tf&&!S){_.errorRecoveryDisabledLanes|=f,gs|=f,u=4;break e}f=Yt,Yt=u,f!==null&&(Yt===null?Yt=f:Yt.push.apply(Yt,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){cl(e,0),Oi(e,n,0,!0);break}e:{switch(a=e,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Oi(a,n,dn,!Ai);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Af+300-Kt(),10<u)){if(Oi(a,n,dn,!Ai),Zi(a,0,!0)!==0)break e;a.timeoutHandle=Ty(Zp.bind(null,a,l,Yt,_o,xf,n,dn,gs,al,Ai,f,2,-0,0),u);break e}Zp(a,l,Yt,_o,xf,n,dn,gs,al,Ai,f,0,-0,0)}}break}while(!0);Bn(e)}function Zp(e,n,l,a,u,f,p,_,S,R,I,B,D,N){if(e.timeoutHandle=-1,B=n.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(Or={stylesheets:null,count:0,unsuspend:HS},Gp(n),B=YS(),B!==null)){e.cancelPendingCommit=B(iy.bind(null,e,n,f,l,a,u,p,_,S,I,1,D,N)),Oi(e,f,p,!R);return}iy(e,n,f,l,a,u,p,_,S)}function lS(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var u=l[a],f=u.getSnapshot;u=u.value;try{if(!Ft(f(),u))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Oi(e,n,l,a){n&=~wf,n&=~gs,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var u=n;0<u;){var f=31-lt(u),p=1<<f;a[f]=-1,u&=~p}l!==0&&Rt(e,l,n)}function bo(){return(Ne&6)===0?(wr(0),!1):!0}function Of(){if(_e!==null){if(Oe===0)var e=_e.return;else e=_e,Fn=os=null,Kc(e),nl=null,mr=0,e=_e;for(;e!==null;)Dp(e.alternate,e),e=e.return;_e=null}}function cl(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,CS(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Of(),He=e,_e=l=Xn(e.current,null),Ee=n,Oe=0,Jt=null,Ai=!1,rl=Wi(e,n),Tf=!1,al=dn=wf=gs=Ri=$e=0,Yt=Cr=null,xf=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var u=31-lt(a),f=1<<u;n|=e[u],a&=~f}return ii=n,qa(),l}function Wp(e,n){fe=null,M.H=ro,n===rr||n===Za?(n=gm(),Oe=3):n===fm?(n=gm(),Oe=4):Oe=n===mp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jt=n,_e===null&&($e=1,fo(e,an(n,e.current)))}function $p(){var e=M.H;return M.H=ro,e===null?ro:e}function Jp(){var e=M.A;return M.A=iS,e}function Mf(){$e=4,Ai||(Ee&4194048)!==Ee&&fn.current!==null||(rl=!0),(Ri&134217727)===0&&(gs&134217727)===0||He===null||Oi(He,Ee,dn,!1)}function kf(e,n,l){var a=Ne;Ne|=2;var u=$p(),f=Jp();(He!==e||Ee!==n)&&(_o=null,cl(e,n)),n=!1;var p=$e;e:do try{if(Oe!==0&&_e!==null){var _=_e,S=Jt;switch(Oe){case 8:Of(),p=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var R=Oe;if(Oe=0,Jt=null,fl(e,_,S,R),l&&rl){p=0;break e}break;default:R=Oe,Oe=0,Jt=null,fl(e,_,S,R)}}rS(),p=$e;break}catch(I){Wp(e,I)}while(!0);return n&&e.shellSuspendCounter++,Fn=os=null,Ne=a,M.H=u,M.A=f,_e===null&&(He=null,Ee=0,qa()),p}function rS(){for(;_e!==null;)ey(_e)}function aS(e,n){var l=Ne;Ne|=2;var a=$p(),u=Jp();He!==e||Ee!==n?(_o=null,vo=Kt()+500,cl(e,n)):rl=Wi(e,n);e:do try{if(Oe!==0&&_e!==null){n=_e;var f=Jt;t:switch(Oe){case 1:Oe=0,Jt=null,fl(e,n,f,1);break;case 2:case 9:if(dm(f)){Oe=0,Jt=null,ty(n);break}n=function(){Oe!==2&&Oe!==9||He!==e||(Oe=7),Bn(e)},f.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:dm(f)?(Oe=0,Jt=null,ty(n)):(Oe=0,Jt=null,fl(e,n,f,7));break;case 5:var p=null;switch(_e.tag){case 26:p=_e.memoizedState;case 5:case 27:var _=_e;if(!p||Uy(p)){Oe=0,Jt=null;var S=_.sibling;if(S!==null)_e=S;else{var R=_.return;R!==null?(_e=R,So(R)):_e=null}break t}}Oe=0,Jt=null,fl(e,n,f,5);break;case 6:Oe=0,Jt=null,fl(e,n,f,6);break;case 8:Of(),$e=6;break e;default:throw Error(r(462))}}oS();break}catch(I){Wp(e,I)}while(!0);return Fn=os=null,M.H=a,M.A=u,Ne=l,_e!==null?0:(He=null,Ee=0,qa(),$e)}function oS(){for(;_e!==null&&!di();)ey(_e)}function ey(e){var n=Ap(e.alternate,e,ii);e.memoizedProps=e.pendingProps,n===null?So(e):_e=n}function ty(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Sp(l,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=Sp(l,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:Kc(n);default:Dp(l,n),n=_e=nm(n,ii),n=Ap(l,n,ii)}e.memoizedProps=e.pendingProps,n===null?So(e):_e=n}function fl(e,n,l,a){Fn=os=null,Kc(n),nl=null,mr=0;var u=n.return;try{if(W1(e,u,n,l,Ee)){$e=1,fo(e,an(l,e.current)),_e=null;return}}catch(f){if(u!==null)throw _e=u,f;$e=1,fo(e,an(l,e.current)),_e=null;return}n.flags&32768?(Ae||a===1?e=!0:rl||(Ee&536870912)!==0?e=!1:(Ai=e=!0,(a===2||a===9||a===3||a===6)&&(a=fn.current,a!==null&&a.tag===13&&(a.flags|=16384))),ny(n,e)):So(n)}function So(e){var n=e;do{if((n.flags&32768)!==0){ny(n,Ai);return}e=n.return;var l=J1(n.alternate,n,ii);if(l!==null){_e=l;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);$e===0&&($e=5)}function ny(e,n){do{var l=eS(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);$e=6,_e=null}function iy(e,n,l,a,u,f,p,_,S){e.cancelPendingCommit=null;do Eo();while(wt!==0);if((Ne&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ec,It(e,l,f,p,_,S),e===He&&(_e=He=null,Ee=0),ol=n,Ni=e,ul=l,Rf=f,Df=u,Kp=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dS(qn,function(){return oy(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=M.T,M.T=null,u=V.p,V.p=2,p=Ne,Ne|=4;try{tS(e,n,l)}finally{Ne=p,V.p=u,M.T=a}}wt=1,sy(),ly(),ry()}}function sy(){if(wt===1){wt=0;var e=Ni,n=ol,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=M.T,M.T=null;var a=V.p;V.p=2;var u=Ne;Ne|=4;try{Hp(n,e);var f=Qf,p=Xg(e.containerInfo),_=f.focusedElem,S=f.selectionRange;if(p!==_&&_&&_.ownerDocument&&Qg(_.ownerDocument.documentElement,_)){if(S!==null&&yc(_)){var R=S.start,I=S.end;if(I===void 0&&(I=R),"selectionStart"in _)_.selectionStart=R,_.selectionEnd=Math.min(I,_.value.length);else{var B=_.ownerDocument||document,D=B&&B.defaultView||window;if(D.getSelection){var N=D.getSelection(),ae=_.textContent.length,le=Math.min(S.start,ae),ze=S.end===void 0?le:Math.min(S.end,ae);!N.extend&&le>ze&&(p=ze,ze=le,le=p);var w=Vg(_,le),C=Vg(_,ze);if(w&&C&&(N.rangeCount!==1||N.anchorNode!==w.node||N.anchorOffset!==w.offset||N.focusNode!==C.node||N.focusOffset!==C.offset)){var x=B.createRange();x.setStart(w.node,w.offset),N.removeAllRanges(),le>ze?(N.addRange(x),N.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),N.addRange(x))}}}}for(B=[],N=_;N=N.parentNode;)N.nodeType===1&&B.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var U=B[_];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}Io=!!Vf,Qf=Vf=null}finally{Ne=u,V.p=a,M.T=l}}e.current=n,wt=2}}function ly(){if(wt===2){wt=0;var e=Ni,n=ol,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=M.T,M.T=null;var a=V.p;V.p=2;var u=Ne;Ne|=4;try{Up(e,n.alternate,n)}finally{Ne=u,V.p=a,M.T=l}}wt=3}}function ry(){if(wt===4||wt===3){wt=0,hi();var e=Ni,n=ol,l=ul,a=Kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?wt=5:(wt=0,ol=Ni=null,ay(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Di=null),Ct(l),n=n.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Fi,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=M.T,u=V.p,V.p=2,M.T=null;try{for(var f=e.onRecoverableError,p=0;p<a.length;p++){var _=a[p];f(_.value,{componentStack:_.stack})}}finally{M.T=n,V.p=u}}(ul&3)!==0&&Eo(),Bn(e),u=e.pendingLanes,(l&4194090)!==0&&(u&42)!==0?e===Nf?Tr++:(Tr=0,Nf=e):Tr=0,wr(0)}}function ay(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,sr(n)))}function Eo(e){return sy(),ly(),ry(),oy()}function oy(){if(wt!==5)return!1;var e=Ni,n=Rf;Rf=0;var l=Ct(ul),a=M.T,u=V.p;try{V.p=32>l?32:l,M.T=null,l=Df,Df=null;var f=Ni,p=ul;if(wt=0,ol=Ni=null,ul=0,(Ne&6)!==0)throw Error(r(331));var _=Ne;if(Ne|=4,Qp(f.current),Yp(f,f.current,p,l),Ne=_,wr(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Fi,f)}catch{}return!0}finally{V.p=u,M.T=a,ay(e,n)}}function uy(e,n,l){n=an(l,n),n=of(e.stateNode,n,2),e=bi(e,n,2),e!==null&&(Ze(e,2),Bn(e))}function Le(e,n,l){if(e.tag===3)uy(e,e,l);else for(;n!==null;){if(n.tag===3){uy(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Di===null||!Di.has(a))){e=an(l,e),l=hp(2),a=bi(n,l,2),a!==null&&(gp(l,a,n,e),Ze(a,2),Bn(a));break}}n=n.return}}function If(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new sS;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(l)||(Tf=!0,u.add(l),e=uS.bind(null,e,n,l),n.then(e,e))}function uS(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,He===e&&(Ee&l)===l&&($e===4||$e===3&&(Ee&62914560)===Ee&&300>Kt()-Af?(Ne&2)===0&&cl(e,0):wf|=l,al===Ee&&(al=0)),Bn(e)}function cy(e,n){n===0&&(n=Da()),e=Xs(e,n),e!==null&&(Ze(e,n),Bn(e))}function cS(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cy(e,l)}function fS(e,n){var l=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(l=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(n),cy(e,l)}function dS(e,n){return On(e,n)}var Co=null,dl=null,zf=!1,To=!1,Uf=!1,ms=0;function Bn(e){e!==dl&&e.next===null&&(dl===null?Co=dl=e:dl=dl.next=e),To=!0,zf||(zf=!0,gS())}function wr(e,n){if(!Uf&&To){Uf=!0;do for(var l=!1,a=Co;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var f=0;else{var p=a.suspendedLanes,_=a.pingedLanes;f=(1<<31-lt(42|e)+1)-1,f&=u&~(p&~_),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(l=!0,gy(a,f))}else f=Ee,f=Zi(a,a===He?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||Wi(a,f)||(l=!0,gy(a,f));a=a.next}while(l);Uf=!1}}function hS(){fy()}function fy(){To=zf=!1;var e=0;ms!==0&&(ES()&&(e=ms),ms=0);for(var n=Kt(),l=null,a=Co;a!==null;){var u=a.next,f=dy(a,n);f===0?(a.next=null,l===null?Co=u:l.next=u,u===null&&(dl=l)):(l=a,(e!==0||(f&3)!==0)&&(To=!0)),a=u}wr(e)}function dy(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-lt(f),_=1<<p,S=u[p];S===-1?((_&l)===0||(_&a)!==0)&&(u[p]=Aa(_,n)):S<=n&&(e.expiredLanes|=_),f&=~_}if(n=He,l=Ee,l=Zi(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Xt(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Wi(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&Xt(a),Ct(l)){case 2:case 8:l=yn;break;case 32:l=qn;break;case 268435456:l=Yl;break;default:l=qn}return a=hy.bind(null,e),l=On(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&Xt(a),e.callbackPriority=2,e.callbackNode=null,2}function hy(e,n){if(wt!==0&&wt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Eo()&&e.callbackNode!==l)return null;var a=Ee;return a=Zi(e,e===He?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Fp(e,a,n),dy(e,Kt()),e.callbackNode!=null&&e.callbackNode===l?hy.bind(null,e):null)}function gy(e,n){if(Eo())return null;Fp(e,n,!0)}function gS(){TS(function(){(Ne&6)!==0?On(Ds,hS):fy()})}function Lf(){return ms===0&&(ms=Ra()),ms}function my(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ia(""+e)}function py(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function mS(e,n,l,a,u){if(n==="submit"&&l&&l.stateNode===u){var f=my((u[Ve]||null).action),p=a.submitter;p&&(n=(n=p[Ve]||null)?my(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var _=new Ba("action","action",null,a,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ms!==0){var S=p?py(u,p):new FormData(u);nf(l,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(_.preventDefault(),S=p?py(u,p):new FormData(u),nf(l,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var Bf=0;Bf<Sc.length;Bf++){var jf=Sc[Bf],pS=jf.toLowerCase(),yS=jf[0].toUpperCase()+jf.slice(1);bn(pS,"on"+yS)}bn(Fg,"onAnimationEnd"),bn(Zg,"onAnimationIteration"),bn(Wg,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(I1,"onTransitionRun"),bn(z1,"onTransitionStart"),bn(U1,"onTransitionCancel"),bn($g,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xr));function yy(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var p=a.length-1;0<=p;p--){var _=a[p],S=_.instance,R=_.currentTarget;if(_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(I){co(I)}u.currentTarget=null,f=S}else for(p=0;p<a.length;p++){if(_=a[p],S=_.instance,R=_.currentTarget,_=_.listener,S!==f&&u.isPropagationStopped())break e;f=_,u.currentTarget=R;try{f(u)}catch(I){co(I)}u.currentTarget=null,f=S}}}}function be(e,n){var l=n[Yn];l===void 0&&(l=n[Yn]=new Set);var a=e+"__bubble";l.has(a)||(vy(n,e,2,!1),l.add(a))}function Hf(e,n,l){var a=0;n&&(a|=4),vy(l,e,a,n)}var wo="_reactListening"+Math.random().toString(36).slice(2);function qf(e){if(!e[wo]){e[wo]=!0,fg.forEach(function(l){l!=="selectionchange"&&(vS.has(l)||Hf(l,!1,e),Hf(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wo]||(n[wo]=!0,Hf("selectionchange",!1,n))}}function vy(e,n,l,a){switch(Yy(n)){case 2:var u=QS;break;case 8:u=XS;break;default:u=td}l=u.bind(null,n,l,e),u=void 0,!oc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,l,{capture:!0,passive:u}):e.addEventListener(n,l,!0):u!==void 0?e.addEventListener(n,l,{passive:u}):e.addEventListener(n,l,!1)}function Yf(e,n,l,a,u){var f=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var _=a.stateNode.containerInfo;if(_===u)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;_!==null;){if(p=ks(_),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){a=f=p;continue e}_=_.parentNode}}a=a.return}wg(function(){var R=f,I=rc(l),B=[];e:{var D=Jg.get(e);if(D!==void 0){var N=Ba,ae=e;switch(e){case"keypress":if(Ua(l)===0)break e;case"keydown":case"keyup":N=d1;break;case"focusin":ae="focus",N=dc;break;case"focusout":ae="blur",N=dc;break;case"beforeblur":case"afterblur":N=dc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=e1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=m1;break;case Fg:case Zg:case Wg:N=i1;break;case $g:N=y1;break;case"scroll":case"scrollend":N=$0;break;case"wheel":N=_1;break;case"copy":case"cut":case"paste":N=l1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Ng;break;case"toggle":case"beforetoggle":N=S1}var le=(n&4)!==0,ze=!le&&(e==="scroll"||e==="scrollend"),w=le?D!==null?D+"Capture":null:D;le=[];for(var C=R,x;C!==null;){var U=C;if(x=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||x===null||w===null||(U=Ql(C,w),U!=null&&le.push(Ar(C,U,x))),ze)break;C=C.return}0<le.length&&(D=new N(D,ae,null,l,I),B.push({event:D,listeners:le}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",D&&l!==lc&&(ae=l.relatedTarget||l.fromElement)&&(ks(ae)||ae[Nt]))break e;if((N||D)&&(D=I.window===I?I:(D=I.ownerDocument)?D.defaultView||D.parentWindow:window,N?(ae=l.relatedTarget||l.toElement,N=R,ae=ae?ks(ae):null,ae!==null&&(ze=c(ae),le=ae.tag,ae!==ze||le!==5&&le!==27&&le!==6)&&(ae=null)):(N=null,ae=R),N!==ae)){if(le=Rg,U="onMouseLeave",w="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=Ng,U="onPointerLeave",w="onPointerEnter",C="pointer"),ze=N==null?D:Vl(N),x=ae==null?D:Vl(ae),D=new le(U,C+"leave",N,l,I),D.target=ze,D.relatedTarget=x,U=null,ks(I)===R&&(le=new le(w,C+"enter",ae,l,I),le.target=x,le.relatedTarget=ze,U=le),ze=U,N&&ae)t:{for(le=N,w=ae,C=0,x=le;x;x=hl(x))C++;for(x=0,U=w;U;U=hl(U))x++;for(;0<C-x;)le=hl(le),C--;for(;0<x-C;)w=hl(w),x--;for(;C--;){if(le===w||w!==null&&le===w.alternate)break t;le=hl(le),w=hl(w)}le=null}else le=null;N!==null&&_y(B,D,N,le,!1),ae!==null&&ze!==null&&_y(B,ze,ae,le,!0)}}e:{if(D=R?Vl(R):window,N=D.nodeName&&D.nodeName.toLowerCase(),N==="select"||N==="input"&&D.type==="file")var J=Bg;else if(Ug(D))if(jg)J=O1;else{J=D1;var ge=R1}else N=D.nodeName,!N||N.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&sc(R.elementType)&&(J=Bg):J=N1;if(J&&(J=J(e,R))){Lg(B,J,l,I);break e}ge&&ge(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&ic(D,"number",D.value)}switch(ge=R?Vl(R):window,e){case"focusin":(Ug(ge)||ge.contentEditable==="true")&&(Gs=ge,vc=R,Jl=null);break;case"focusout":Jl=vc=Gs=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Kg(B,l,I);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Kg(B,l,I)}var ie;if(gc)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Ys?Ig(e,l)&&(re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(re="onCompositionStart");re&&(Og&&l.locale!=="ko"&&(Ys||re!=="onCompositionStart"?re==="onCompositionEnd"&&Ys&&(ie=xg()):(pi=I,uc="value"in pi?pi.value:pi.textContent,Ys=!0)),ge=xo(R,re),0<ge.length&&(re=new Dg(re,e,null,l,I),B.push({event:re,listeners:ge}),ie?re.data=ie:(ie=zg(l),ie!==null&&(re.data=ie)))),(ie=C1?T1(e,l):w1(e,l))&&(re=xo(R,"onBeforeInput"),0<re.length&&(ge=new Dg("onBeforeInput","beforeinput",null,l,I),B.push({event:ge,listeners:re}),ge.data=ie)),mS(B,e,R,l,I)}yy(B,n)})}function Ar(e,n,l){return{instance:e,listener:n,currentTarget:l}}function xo(e,n){for(var l=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ql(e,l),u!=null&&a.unshift(Ar(e,u,f)),u=Ql(e,n),u!=null&&a.push(Ar(e,u,f))),e.tag===3)return a;e=e.return}return[]}function hl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _y(e,n,l,a,u){for(var f=n._reactName,p=[];l!==null&&l!==a;){var _=l,S=_.alternate,R=_.stateNode;if(_=_.tag,S!==null&&S===a)break;_!==5&&_!==26&&_!==27||R===null||(S=R,u?(R=Ql(l,f),R!=null&&p.unshift(Ar(l,R,S))):u||(R=Ql(l,f),R!=null&&p.push(Ar(l,R,S)))),l=l.return}p.length!==0&&e.push({event:n,listeners:p})}var _S=/\r\n?/g,bS=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(_S,`
`).replace(bS,"")}function Sy(e,n){return n=by(n),by(e)===n}function Ao(){}function Ie(e,n,l,a,u,f){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||js(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&js(e,""+a);break;case"className":Oa(e,"class",a);break;case"tabIndex":Oa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(e,l,a);break;case"style":Cg(e,a,f);break;case"data":if(n!=="object"){Oa(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ia(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(l==="formAction"?(n!=="input"&&Ie(e,n,"name",u.name,u,null),Ie(e,n,"formEncType",u.formEncType,u,null),Ie(e,n,"formMethod",u.formMethod,u,null),Ie(e,n,"formTarget",u.formTarget,u,null)):(Ie(e,n,"encType",u.encType,u,null),Ie(e,n,"method",u.method,u,null),Ie(e,n,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ia(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Ao);break;case"onScroll":a!=null&&be("scroll",e);break;case"onScrollEnd":a!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ia(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":be("beforetoggle",e),be("toggle",e),Na(e,"popover",a);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Na(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Z0.get(l)||l,Na(e,l,a))}}function Gf(e,n,l,a,u,f){switch(l){case"style":Cg(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?js(e,a):(typeof a=="number"||typeof a=="bigint")&&js(e,""+a);break;case"onScroll":a!=null&&be("scroll",e);break;case"onScrollEnd":a!=null&&be("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(u=l.endsWith("Capture"),n=l.slice(2,u?l.length-7:void 0),f=e[Ve]||null,f=f!=null?f[l]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof a=="function")){typeof f!="function"&&f!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,u);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Na(e,l,a)}}}function xt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var a=!1,u=!1,f;for(f in l)if(l.hasOwnProperty(f)){var p=l[f];if(p!=null)switch(f){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ie(e,n,f,p,l,null)}}u&&Ie(e,n,"srcSet",l.srcSet,l,null),a&&Ie(e,n,"src",l.src,l,null);return;case"input":be("invalid",e);var _=f=p=u=null,S=null,R=null;for(a in l)if(l.hasOwnProperty(a)){var I=l[a];if(I!=null)switch(a){case"name":u=I;break;case"type":p=I;break;case"checked":S=I;break;case"defaultChecked":R=I;break;case"value":f=I;break;case"defaultValue":_=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Ie(e,n,a,I,l,null)}}_g(e,f,_,S,R,p,u,!1),Ma(e);return;case"select":be("invalid",e),a=p=f=null;for(u in l)if(l.hasOwnProperty(u)&&(_=l[u],_!=null))switch(u){case"value":f=_;break;case"defaultValue":p=_;break;case"multiple":a=_;default:Ie(e,n,u,_,l,null)}n=f,l=p,e.multiple=!!a,n!=null?Bs(e,!!a,n,!1):l!=null&&Bs(e,!!a,l,!0);return;case"textarea":be("invalid",e),f=u=a=null;for(p in l)if(l.hasOwnProperty(p)&&(_=l[p],_!=null))switch(p){case"value":a=_;break;case"defaultValue":u=_;break;case"children":f=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ie(e,n,p,_,l,null)}Sg(e,a,u,f),Ma(e);return;case"option":for(S in l)if(l.hasOwnProperty(S)&&(a=l[S],a!=null))switch(S){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ie(e,n,S,a,l,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(a=0;a<xr.length;a++)be(xr[a],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in l)if(l.hasOwnProperty(R)&&(a=l[R],a!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ie(e,n,R,a,l,null)}return;default:if(sc(n)){for(I in l)l.hasOwnProperty(I)&&(a=l[I],a!==void 0&&Gf(e,n,I,a,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null&&Ie(e,n,_,a,l,null))}function SS(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,_=null,S=null,R=null,I=null;for(N in l){var B=l[N];if(l.hasOwnProperty(N)&&B!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":S=B;default:a.hasOwnProperty(N)||Ie(e,n,N,null,a,B)}}for(var D in a){var N=a[D];if(B=l[D],a.hasOwnProperty(D)&&(N!=null||B!=null))switch(D){case"type":f=N;break;case"name":u=N;break;case"checked":R=N;break;case"defaultChecked":I=N;break;case"value":p=N;break;case"defaultValue":_=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,n));break;default:N!==B&&Ie(e,n,D,N,a,B)}}nc(e,p,_,S,R,I,f,u);return;case"select":N=p=_=D=null;for(f in l)if(S=l[f],l.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":N=S;default:a.hasOwnProperty(f)||Ie(e,n,f,null,a,S)}for(u in a)if(f=a[u],S=l[u],a.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":D=f;break;case"defaultValue":_=f;break;case"multiple":p=f;default:f!==S&&Ie(e,n,u,f,a,S)}n=_,l=p,a=N,D!=null?Bs(e,!!l,D,!1):!!a!=!!l&&(n!=null?Bs(e,!!l,n,!0):Bs(e,!!l,l?[]:"",!1));return;case"textarea":N=D=null;for(_ in l)if(u=l[_],l.hasOwnProperty(_)&&u!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ie(e,n,_,null,a,u)}for(p in a)if(u=a[p],f=l[p],a.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":D=u;break;case"defaultValue":N=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Ie(e,n,p,u,a,f)}bg(e,D,N);return;case"option":for(var ae in l)if(D=l[ae],l.hasOwnProperty(ae)&&D!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ie(e,n,ae,null,a,D)}for(S in a)if(D=a[S],N=l[S],a.hasOwnProperty(S)&&D!==N&&(D!=null||N!=null))switch(S){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ie(e,n,S,D,a,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)D=l[le],l.hasOwnProperty(le)&&D!=null&&!a.hasOwnProperty(le)&&Ie(e,n,le,null,a,D);for(R in a)if(D=a[R],N=l[R],a.hasOwnProperty(R)&&D!==N&&(D!=null||N!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,n));break;default:Ie(e,n,R,D,a,N)}return;default:if(sc(n)){for(var ze in l)D=l[ze],l.hasOwnProperty(ze)&&D!==void 0&&!a.hasOwnProperty(ze)&&Gf(e,n,ze,void 0,a,D);for(I in a)D=a[I],N=l[I],!a.hasOwnProperty(I)||D===N||D===void 0&&N===void 0||Gf(e,n,I,D,a,N);return}}for(var w in l)D=l[w],l.hasOwnProperty(w)&&D!=null&&!a.hasOwnProperty(w)&&Ie(e,n,w,null,a,D);for(B in a)D=a[B],N=l[B],!a.hasOwnProperty(B)||D===N||D==null&&N==null||Ie(e,n,B,D,a,N)}var Vf=null,Qf=null;function Ro(e){return e.nodeType===9?e:e.ownerDocument}function Ey(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Xf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Kf=null;function ES(){var e=window.event;return e&&e.type==="popstate"?e===Kf?!1:(Kf=e,!0):(Kf=null,!1)}var Ty=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,TS=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(e){return wy.resolve(null).then(e).catch(wS)}:Ty;function wS(e){setTimeout(function(){throw e})}function Mi(e){return e==="head"}function xy(e,n){var l=n,a=0,u=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(0<a&&8>a){l=a;var p=e.ownerDocument;if(l&1&&Rr(p.documentElement),l&2&&Rr(p.body),l&4)for(l=p.head,Rr(l),p=l.firstChild;p;){var _=p.nextSibling,S=p.nodeName;p[Gn]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=_}}if(u===0){e.removeChild(f),Ur(n);return}u--}else l==="$"||l==="$?"||l==="$!"?u++:a=l.charCodeAt(0)-48;else a=0;l=f}while(l);Ur(n)}function Pf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Pf(l),$u(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function xS(e,n,l,a){for(;e.nodeType===1;){var u=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Gn])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=En(e.nextSibling),e===null)break}return null}function AS(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=En(e.nextSibling),e===null))return null;return e}function Ff(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function RS(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function En(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Zf=null;function Ay(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function Ry(e,n,l){switch(n=Ro(l),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Rr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$u(e)}var hn=new Map,Dy=new Set;function Do(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=V.d;V.d={f:DS,r:NS,D:OS,C:MS,L:kS,m:IS,X:US,S:zS,M:LS};function DS(){var e=si.f(),n=bo();return e||n}function NS(e){var n=Is(e);n!==null&&n.tag===5&&n.type==="form"?Fm(n):si.r(e)}var gl=typeof document>"u"?null:document;function Ny(e,n,l){var a=gl;if(a&&typeof n=="string"&&n){var u=rn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof l=="string"&&(u+='[crossorigin="'+l+'"]'),Dy.has(u)||(Dy.add(u),e={rel:e,crossOrigin:l,href:n},a.querySelector(u)===null&&(n=a.createElement("link"),xt(n,"link",e),ht(n),a.head.appendChild(n)))}}function OS(e){si.D(e),Ny("dns-prefetch",e,null)}function MS(e,n){si.C(e,n),Ny("preconnect",e,n)}function kS(e,n,l){si.L(e,n,l);var a=gl;if(a&&e&&n){var u='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&l&&l.imageSrcSet?(u+='[imagesrcset="'+rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(u+='[imagesizes="'+rn(l.imageSizes)+'"]')):u+='[href="'+rn(e)+'"]';var f=u;switch(n){case"style":f=ml(e);break;case"script":f=pl(e)}hn.has(f)||(e=y({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),hn.set(f,e),a.querySelector(u)!==null||n==="style"&&a.querySelector(Dr(f))||n==="script"&&a.querySelector(Nr(f))||(n=a.createElement("link"),xt(n,"link",e),ht(n),a.head.appendChild(n)))}}function IS(e,n){si.m(e,n);var l=gl;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+rn(a)+'"][href="'+rn(e)+'"]',f=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pl(e)}if(!hn.has(f)&&(e=y({rel:"modulepreload",href:e},n),hn.set(f,e),l.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Nr(f)))return}a=l.createElement("link"),xt(a,"link",e),ht(a),l.head.appendChild(a)}}}function zS(e,n,l){si.S(e,n,l);var a=gl;if(a&&e){var u=zs(a).hoistableStyles,f=ml(e);n=n||"default";var p=u.get(f);if(!p){var _={loading:0,preload:null};if(p=a.querySelector(Dr(f)))_.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},l),(l=hn.get(f))&&Wf(e,l);var S=p=a.createElement("link");ht(S),xt(S,"link",e),S._p=new Promise(function(R,I){S.onload=R,S.onerror=I}),S.addEventListener("load",function(){_.loading|=1}),S.addEventListener("error",function(){_.loading|=2}),_.loading|=4,No(p,n,a)}p={type:"stylesheet",instance:p,count:1,state:_},u.set(f,p)}}}function US(e,n){si.X(e,n);var l=gl;if(l&&e){var a=zs(l).hoistableScripts,u=pl(e),f=a.get(u);f||(f=l.querySelector(Nr(u)),f||(e=y({src:e,async:!0},n),(n=hn.get(u))&&$f(e,n),f=l.createElement("script"),ht(f),xt(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function LS(e,n){si.M(e,n);var l=gl;if(l&&e){var a=zs(l).hoistableScripts,u=pl(e),f=a.get(u);f||(f=l.querySelector(Nr(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=hn.get(u))&&$f(e,n),f=l.createElement("script"),ht(f),xt(f,"link",e),l.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function Oy(e,n,l,a){var u=(u=ne.current)?Do(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ml(l.href),l=zs(u).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ml(l.href);var f=zs(u).hoistableStyles,p=f.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=u.querySelector(Dr(e)))&&!f._p&&(p.instance=f,p.state.loading=5),hn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hn.set(e,l),f||BS(u,e,l,p.state))),n&&a===null)throw Error(r(528,""));return p}if(n&&a!==null)throw Error(r(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pl(l),l=zs(u).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ml(e){return'href="'+rn(e)+'"'}function Dr(e){return'link[rel="stylesheet"]['+e+"]"}function My(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function BS(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),xt(n,"link",l),ht(n),e.head.appendChild(n))}function pl(e){return'[src="'+rn(e)+'"]'}function Nr(e){return"script[async]"+e}function ky(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+rn(l.href)+'"]');if(a)return n.instance=a,ht(a),a;var u=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ht(a),xt(a,"style",u),No(a,l.precedence,e),n.instance=a;case"stylesheet":u=ml(l.href);var f=e.querySelector(Dr(u));if(f)return n.state.loading|=4,n.instance=f,ht(f),f;a=My(l),(u=hn.get(u))&&Wf(a,u),f=(e.ownerDocument||e).createElement("link"),ht(f);var p=f;return p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),xt(f,"link",a),n.state.loading|=4,No(f,l.precedence,e),n.instance=f;case"script":return f=pl(l.src),(u=e.querySelector(Nr(f)))?(n.instance=u,ht(u),u):(a=l,(u=hn.get(f))&&(a=y({},l),$f(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),ht(u),xt(u,"link",a),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,No(a,l.precedence,e));return n.instance}function No(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,f=u,p=0;p<a.length;p++){var _=a[p];if(_.dataset.precedence===n)f=_;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $f(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Oo=null;function Iy(e,n,l){if(Oo===null){var a=new Map,u=Oo=new Map;u.set(l,a)}else u=Oo,a=u.get(l),a||(a=new Map,u.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),u=0;u<l.length;u++){var f=l[u];if(!(f[Gn]||f[Ge]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var _=a.get(p);_?_.push(f):a.set(p,[f])}}return a}function zy(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function jS(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Uy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Or=null;function HS(){}function qS(e,n,l){if(Or===null)throw Error(r(475));var a=Or;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=ml(l.href),f=e.querySelector(Dr(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Mo.bind(a),e.then(a,a)),n.state.loading|=4,n.instance=f,ht(f);return}f=e.ownerDocument||e,l=My(l),(u=hn.get(u))&&Wf(l,u),f=f.createElement("link"),ht(f);var p=f;p._p=new Promise(function(_,S){p.onload=_,p.onerror=S}),xt(f,"link",l),n.instance=f}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(a.count++,n=Mo.bind(a),e.addEventListener("load",n),e.addEventListener("error",n))}}function YS(){if(Or===null)throw Error(r(475));var e=Or;return e.stylesheets&&e.count===0&&Jf(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&Jf(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Mo(){if(this.count--,this.count===0){if(this.stylesheets)Jf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ko=null;function Jf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ko=new Map,n.forEach(GS,e),ko=null,Mo.call(e))}function GS(e,n){if(!(n.state.loading&4)){var l=ko.get(e);if(l)var a=l.get(null);else{l=new Map,ko.set(e,l);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(l.set(p.dataset.precedence,p),a=p)}a&&l.set(null,a)}u=n.instance,p=u.getAttribute("data-precedence"),f=l.get(p)||a,f===a&&l.set(null,u),l.set(p,u),this.count++,a=Mo.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Mr={$$typeof:G,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function VS(e,n,l,a,u,f,p,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.hiddenUpdates=Gl(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function Ly(e,n,l,a,u,f,p,_,S,R,I,B){return e=new VS(e,n,l,p,_,S,R,B),n=1,f===!0&&(n|=24),f=Zt(3,null,null,n),e.current=f,f.stateNode=e,n=kc(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:a,isDehydrated:l,cache:n},Lc(f),e}function By(e){return e?(e=Ks,e):Ks}function jy(e,n,l,a,u,f){u=By(u),a.context===null?a.context=u:a.pendingContext=u,a=_i(n),a.payload={element:l},f=f===void 0?null:f,f!==null&&(a.callback=f),l=bi(e,a,n),l!==null&&(tn(l,e,n),or(l,e,n))}function Hy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function ed(e,n){Hy(e,n),(e=e.alternate)&&Hy(e,n)}function qy(e){if(e.tag===13){var n=Xs(e,67108864);n!==null&&tn(n,e,67108864),ed(e,67108864)}}var Io=!0;function QS(e,n,l,a){var u=M.T;M.T=null;var f=V.p;try{V.p=2,td(e,n,l,a)}finally{V.p=f,M.T=u}}function XS(e,n,l,a){var u=M.T;M.T=null;var f=V.p;try{V.p=8,td(e,n,l,a)}finally{V.p=f,M.T=u}}function td(e,n,l,a){if(Io){var u=nd(a);if(u===null)Yf(e,n,a,zo,l),Gy(e,a);else if(PS(u,e,n,l,a))a.stopPropagation();else if(Gy(e,a),n&4&&-1<KS.indexOf(e)){for(;u!==null;){var f=Is(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=vn(f.pendingLanes);if(p!==0){var _=f;for(_.pendingLanes|=2,_.entangledLanes|=2;p;){var S=1<<31-lt(p);_.entanglements[1]|=S,p&=~S}Bn(f),(Ne&6)===0&&(vo=Kt()+500,wr(0))}}break;case 13:_=Xs(f,2),_!==null&&tn(_,f,2),bo(),ed(f,2)}if(f=nd(a),f===null&&Yf(e,n,a,zo,l),f===u)break;u=f}u!==null&&a.stopPropagation()}else Yf(e,n,a,null,l)}}function nd(e){return e=rc(e),id(e)}var zo=null;function id(e){if(zo=null,e=ks(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=d(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zo=e,null}function Yy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ca()){case Ds:return 2;case yn:return 8;case qn:case Ns:return 32;case Yl:return 268435456;default:return 32}default:return 32}}var sd=!1,ki=null,Ii=null,zi=null,kr=new Map,Ir=new Map,Ui=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(e,n){switch(e){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(n.pointerId)}}function zr(e,n,l,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Is(n),n!==null&&qy(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function PS(e,n,l,a,u){switch(n){case"focusin":return ki=zr(ki,e,n,l,a,u),!0;case"dragenter":return Ii=zr(Ii,e,n,l,a,u),!0;case"mouseover":return zi=zr(zi,e,n,l,a,u),!0;case"pointerover":var f=u.pointerId;return kr.set(f,zr(kr.get(f)||null,e,n,l,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Ir.set(f,zr(Ir.get(f)||null,e,n,l,a,u)),!0}return!1}function Vy(e){var n=ks(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=d(l),n!==null){e.blockedOn=n,gi(e.priority,function(){if(l.tag===13){var a=en();a=Dt(a);var u=Xs(l,a);u!==null&&tn(u,l,a),ed(l,a)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=nd(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);lc=a,l.target.dispatchEvent(a),lc=null}else return n=Is(l),n!==null&&qy(n),e.blockedOn=l,!1;n.shift()}return!0}function Qy(e,n,l){Uo(e)&&l.delete(n)}function FS(){sd=!1,ki!==null&&Uo(ki)&&(ki=null),Ii!==null&&Uo(Ii)&&(Ii=null),zi!==null&&Uo(zi)&&(zi=null),kr.forEach(Qy),Ir.forEach(Qy)}function Lo(e,n){e.blockedOn===n&&(e.blockedOn=null,sd||(sd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,FS)))}var Bo=null;function Xy(e){Bo!==e&&(Bo=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bo===e&&(Bo=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],u=e[n+2];if(typeof a!="function"){if(id(a||l)===null)continue;break}var f=Is(l);f!==null&&(e.splice(n,3),n-=3,nf(f,{pending:!0,data:u,method:l.method,action:a},a,u))}}))}function Ur(e){function n(S){return Lo(S,e)}ki!==null&&Lo(ki,e),Ii!==null&&Lo(Ii,e),zi!==null&&Lo(zi,e),kr.forEach(n),Ir.forEach(n);for(var l=0;l<Ui.length;l++){var a=Ui[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ui.length&&(l=Ui[0],l.blockedOn===null);)Vy(l),l.blockedOn===null&&Ui.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var u=l[a],f=l[a+1],p=u[Ve]||null;if(typeof f=="function")p||Xy(l);else if(p){var _=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[Ve]||null)_=p.formAction;else if(id(u)!==null)continue}else _=p.action;typeof _=="function"?l[a+1]=_:(l.splice(a,3),a-=3),Xy(l)}}}function ld(e){this._internalRoot=e}jo.prototype.render=ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var l=n.current,a=en();jy(l,a,e,n,null,null)},jo.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;jy(e.current,2,null,e,null,null),bo(),n[Nt]=null}};function jo(e){this._internalRoot=e}jo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Pt();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Ui.length&&n!==0&&n<Ui[l].priority;l++);Ui.splice(l,0,e),l===0&&Vy(e)}};var Ky=t.version;if(Ky!=="19.1.0")throw Error(r(527,Ky,"19.1.0"));V.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=m(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var ZS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{Fi=Ho.inject(ZS),nt=Ho}catch{}}return Br.createRoot=function(e,n){if(!o(e))throw Error(r(299));var l=!1,a="",u=up,f=cp,p=fp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=Ly(e,1,!1,null,null,l,a,u,f,p,_,null),e[Nt]=n.current,qf(e),new ld(n)},Br.hydrateRoot=function(e,n,l){if(!o(e))throw Error(r(299));var a=!1,u="",f=up,p=cp,_=fp,S=null,R=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(f=l.onUncaughtError),l.onCaughtError!==void 0&&(p=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(S=l.unstable_transitionCallbacks),l.formState!==void 0&&(R=l.formState)),n=Ly(e,1,!0,n,l??null,a,u,f,p,_,S,R),n.context=By(null),l=n.current,a=en(),a=Dt(a),u=_i(a),u.callback=null,bi(l,u,a),l=a,n.current.lanes=l,Ze(n,l),Bn(n),e[Nt]=n.current,qf(e),new jo(n)},Br.version="19.1.0",Br}var iv;function rE(){if(iv)return od.exports;iv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),od.exports=lE(),od.exports}var aE=rE(),dd={exports:{}},hd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function oE(){if(sv)return hd;sv=1;var i=Au();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var s=typeof Object.is=="function"?Object.is:t,r=i.useSyncExternalStore,o=i.useRef,c=i.useEffect,d=i.useMemo,h=i.useDebugValue;return hd.useSyncExternalStoreWithSelector=function(m,g,y,v,b){var T=o(null);if(T.current===null){var O={hasValue:!1,value:null};T.current=O}else O=T.current;T=d(function(){function L(H){if(!X){if(X=!0,F=H,H=v(H),b!==void 0&&O.hasValue){var q=O.value;if(b(q,H))return G=q}return G=H}if(q=G,s(F,H))return q;var Z=v(H);return b!==void 0&&b(q,Z)?(F=H,q):(F=H,G=Z)}var X=!1,F,G,Y=y===void 0?null:y;return[function(){return L(g())},Y===null?void 0:function(){return L(Y())}]},[g,y,v,b]);var z=r(m,T[0],T[1]);return c(function(){O.hasValue=!0,O.value=z},[z]),h(z),z},hd}var lv;function uE(){return lv||(lv=1,dd.exports=oE()),dd.exports}var cE=uE();function fE(i){i()}function dE(){let i=null,t=null;return{clear(){i=null,t=null},notify(){fE(()=>{let s=i;for(;s;)s.callback(),s=s.next})},get(){const s=[];let r=i;for(;r;)s.push(r),r=r.next;return s},subscribe(s){let r=!0;const o=t={callback:s,next:null,prev:t};return o.prev?o.prev.next=o:i=o,function(){!r||i===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var rv={notify(){},get:()=>[]};function hE(i,t){let s,r=rv,o=0,c=!1;function d(z){y();const L=r.subscribe(z);let X=!1;return()=>{X||(X=!0,L(),v())}}function h(){r.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return c}function y(){o++,s||(s=i.subscribe(m),r=dE())}function v(){o--,s&&o===0&&(s(),s=void 0,r.clear(),r=rv)}function b(){c||(c=!0,y())}function T(){c&&(c=!1,v())}const O={addNestedSub:d,notifyNestedSubs:h,handleChangeWrapper:m,isSubscribed:g,trySubscribe:b,tryUnsubscribe:T,getListeners:()=>r};return O}var gE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mE=gE(),pE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yE=pE(),vE=()=>mE||yE?A.useLayoutEffect:A.useEffect,_E=vE(),gd=Symbol.for("react-redux-context"),md=typeof globalThis<"u"?globalThis:{};function bE(){if(!A.createContext)return{};const i=md[gd]??(md[gd]=new Map);let t=i.get(A.createContext);return t||(t=A.createContext(null),i.set(A.createContext,t)),t}var Gi=bE();function SE(i){const{children:t,context:s,serverState:r,store:o}=i,c=A.useMemo(()=>{const m=hE(o);return{store:o,subscription:m,getServerState:r?()=>r:void 0}},[o,r]),d=A.useMemo(()=>o.getState(),[o]);_E(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const h=s||Gi;return A.createElement(h.Provider,{value:c},t)}var EE=SE;function mh(i=Gi){return function(){return A.useContext(i)}}var x_=mh();function A_(i=Gi){const t=i===Gi?x_:mh(i),s=()=>{const{store:r}=t();return r};return Object.assign(s,{withTypes:()=>s}),s}var CE=A_();function TE(i=Gi){const t=i===Gi?CE:A_(i),s=()=>t().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var R_=TE(),wE=(i,t)=>i===t;function xE(i=Gi){const t=i===Gi?x_:mh(i),s=(r,o={})=>{const{equalityFn:c=wE}=typeof o=="function"?{equalityFn:o}:o,d=t(),{store:h,subscription:m,getServerState:g}=d;A.useRef(!0);const y=A.useCallback({[r.name](b){return r(b)}}[r.name],[r]),v=cE.useSyncExternalStoreWithSelector(m.addNestedSub,h.getState,g||h.getState,y,c);return A.useDebugValue(v),v};return Object.assign(s,{withTypes:()=>s}),s}var Wo=xE();function At(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var AE=typeof Symbol=="function"&&Symbol.observable||"@@observable",av=AE,pd=()=>Math.random().toString(36).substring(7).split("").join("."),RE={INIT:`@@redux/INIT${pd()}`,REPLACE:`@@redux/REPLACE${pd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pd()}`},$o=RE;function ph(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function D_(i,t,s){if(typeof i!="function")throw new Error(At(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(At(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(At(1));return s(D_)(i,t)}let r=i,o=t,c=new Map,d=c,h=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((L,X)=>{d.set(X,L)}))}function y(){if(m)throw new Error(At(3));return o}function v(L){if(typeof L!="function")throw new Error(At(4));if(m)throw new Error(At(5));let X=!0;g();const F=h++;return d.set(F,L),function(){if(X){if(m)throw new Error(At(6));X=!1,g(),d.delete(F),c=null}}}function b(L){if(!ph(L))throw new Error(At(7));if(typeof L.type>"u")throw new Error(At(8));if(typeof L.type!="string")throw new Error(At(17));if(m)throw new Error(At(9));try{m=!0,o=r(o,L)}finally{m=!1}return(c=d).forEach(F=>{F()}),L}function T(L){if(typeof L!="function")throw new Error(At(10));r=L,b({type:$o.REPLACE})}function O(){const L=v;return{subscribe(X){if(typeof X!="object"||X===null)throw new Error(At(11));function F(){const Y=X;Y.next&&Y.next(y())}return F(),{unsubscribe:L(F)}},[av](){return this}}}return b({type:$o.INIT}),{dispatch:b,subscribe:v,getState:y,replaceReducer:T,[av]:O}}function DE(i){Object.keys(i).forEach(t=>{const s=i[t];if(typeof s(void 0,{type:$o.INIT})>"u")throw new Error(At(12));if(typeof s(void 0,{type:$o.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(At(13))})}function NE(i){const t=Object.keys(i),s={};for(let c=0;c<t.length;c++){const d=t[c];typeof i[d]=="function"&&(s[d]=i[d])}const r=Object.keys(s);let o;try{DE(s)}catch(c){o=c}return function(d={},h){if(o)throw o;let m=!1;const g={};for(let y=0;y<r.length;y++){const v=r[y],b=s[v],T=d[v],O=b(T,h);if(typeof O>"u")throw h&&h.type,new Error(At(14));g[v]=O,m=m||O!==T}return m=m||r.length!==Object.keys(d).length,m?g:d}}function Jo(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,s)=>(...r)=>t(s(...r)))}function OE(...i){return t=>(s,r)=>{const o=t(s,r);let c=()=>{throw new Error(At(15))};const d={getState:o.getState,dispatch:(m,...g)=>c(m,...g)},h=i.map(m=>m(d));return c=Jo(...h)(o.dispatch),{...o,dispatch:c}}}function ME(i){return ph(i)&&"type"in i&&typeof i.type=="string"}var N_=Symbol.for("immer-nothing"),ov=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function Cn(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var wl=Object.getPrototypeOf;function bs(i){return!!i&&!!i[nn]}function ui(i){var t;return i?O_(i)||Array.isArray(i)||!!i[ov]||!!((t=i.constructor)!=null&&t[ov])||Du(i)||Nu(i):!1}var kE=Object.prototype.constructor.toString();function O_(i){if(!i||typeof i!="object")return!1;const t=wl(i);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===kE}function eu(i,t){Ru(i)===0?Reflect.ownKeys(i).forEach(s=>{t(s,i[s],i)}):i.forEach((s,r)=>t(r,s,i))}function Ru(i){const t=i[nn];return t?t.type_:Array.isArray(i)?1:Du(i)?2:Nu(i)?3:0}function zd(i,t){return Ru(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function M_(i,t,s){const r=Ru(i);r===2?i.set(t,s):r===3?i.add(s):i[t]=s}function IE(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function Du(i){return i instanceof Map}function Nu(i){return i instanceof Set}function ps(i){return i.copy_||i.base_}function Ud(i,t){if(Du(i))return new Map(i);if(Nu(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const s=O_(i);if(t===!0||t==="class_only"&&!s){const r=Object.getOwnPropertyDescriptors(i);delete r[nn];let o=Reflect.ownKeys(r);for(let c=0;c<o.length;c++){const d=o[c],h=r[d];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[d]={configurable:!0,writable:!0,enumerable:h.enumerable,value:i[d]})}return Object.create(wl(i),r)}else{const r=wl(i);if(r!==null&&s)return{...i};const o=Object.create(r);return Object.assign(o,i)}}function yh(i,t=!1){return Ou(i)||bs(i)||!ui(i)||(Ru(i)>1&&(i.set=i.add=i.clear=i.delete=zE),Object.freeze(i),t&&Object.entries(i).forEach(([s,r])=>yh(r,!0))),i}function zE(){Cn(2)}function Ou(i){return Object.isFrozen(i)}var UE={};function Ss(i){const t=UE[i];return t||Cn(0,i),t}var ea;function k_(){return ea}function LE(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uv(i,t){t&&(Ss("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function Ld(i){Bd(i),i.drafts_.forEach(BE),i.drafts_=null}function Bd(i){i===ea&&(ea=i.parent_)}function cv(i){return ea=LE(ea,i)}function BE(i){const t=i[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fv(i,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return i!==void 0&&i!==s?(s[nn].modified_&&(Ld(t),Cn(4)),ui(i)&&(i=tu(t,i),t.parent_||nu(t,i)),t.patches_&&Ss("Patches").generateReplacementPatches_(s[nn].base_,i,t.patches_,t.inversePatches_)):i=tu(t,s,[]),Ld(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==N_?i:void 0}function tu(i,t,s){if(Ou(t))return t;const r=t[nn];if(!r)return eu(t,(o,c)=>dv(i,r,t,o,c,s)),t;if(r.scope_!==i)return t;if(!r.modified_)return nu(i,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let c=o,d=!1;r.type_===3&&(c=new Set(o),o.clear(),d=!0),eu(c,(h,m)=>dv(i,r,o,h,m,s,d)),nu(i,o,!1),s&&i.patches_&&Ss("Patches").generatePatches_(r,s,i.patches_,i.inversePatches_)}return r.copy_}function dv(i,t,s,r,o,c,d){if(bs(o)){const h=c&&t&&t.type_!==3&&!zd(t.assigned_,r)?c.concat(r):void 0,m=tu(i,o,h);if(M_(s,r,m),bs(m))i.canAutoFreeze_=!1;else return}else d&&s.add(o);if(ui(o)&&!Ou(o)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;tu(i,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(s,r)&&nu(i,o)}}function nu(i,t,s=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&yh(t,s)}function jE(i,t){const s=Array.isArray(i),r={type_:s?1:0,scope_:t?t.scope_:k_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,c=vh;s&&(o=[r],c=ta);const{revoke:d,proxy:h}=Proxy.revocable(o,c);return r.draft_=h,r.revoke_=d,h}var vh={get(i,t){if(t===nn)return i;const s=ps(i);if(!zd(s,t))return HE(i,s,t);const r=s[t];return i.finalized_||!ui(r)?r:r===yd(i.base_,t)?(vd(i),i.copy_[t]=Hd(r,i)):r},has(i,t){return t in ps(i)},ownKeys(i){return Reflect.ownKeys(ps(i))},set(i,t,s){const r=I_(ps(i),t);if(r!=null&&r.set)return r.set.call(i.draft_,s),!0;if(!i.modified_){const o=yd(ps(i),t),c=o==null?void 0:o[nn];if(c&&c.base_===s)return i.copy_[t]=s,i.assigned_[t]=!1,!0;if(IE(s,o)&&(s!==void 0||zd(i.base_,t)))return!0;vd(i),jd(i)}return i.copy_[t]===s&&(s!==void 0||t in i.copy_)||Number.isNaN(s)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=s,i.assigned_[t]=!0),!0},deleteProperty(i,t){return yd(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,vd(i),jd(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const s=ps(i),r=Reflect.getOwnPropertyDescriptor(s,t);return r&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:r.enumerable,value:s[t]}},defineProperty(){Cn(11)},getPrototypeOf(i){return wl(i.base_)},setPrototypeOf(){Cn(12)}},ta={};eu(vh,(i,t)=>{ta[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ta.deleteProperty=function(i,t){return ta.set.call(this,i,t,void 0)};ta.set=function(i,t,s){return vh.set.call(this,i[0],t,s,i[0])};function yd(i,t){const s=i[nn];return(s?ps(s):i)[t]}function HE(i,t,s){var o;const r=I_(t,s);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(i.draft_):void 0}function I_(i,t){if(!(t in i))return;let s=wl(i);for(;s;){const r=Object.getOwnPropertyDescriptor(s,t);if(r)return r;s=wl(s)}}function jd(i){i.modified_||(i.modified_=!0,i.parent_&&jd(i.parent_))}function vd(i){i.copy_||(i.copy_=Ud(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var qE=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,r)=>{if(typeof t=="function"&&typeof s!="function"){const c=s;s=t;const d=this;return function(m=c,...g){return d.produce(m,y=>s.call(this,y,...g))}}typeof s!="function"&&Cn(6),r!==void 0&&typeof r!="function"&&Cn(7);let o;if(ui(t)){const c=cv(this),d=Hd(t,void 0);let h=!0;try{o=s(d),h=!1}finally{h?Ld(c):Bd(c)}return uv(c,r),fv(o,c)}else if(!t||typeof t!="object"){if(o=s(t),o===void 0&&(o=t),o===N_&&(o=void 0),this.autoFreeze_&&yh(o,!0),r){const c=[],d=[];Ss("Patches").generateReplacementPatches_(t,o,c,d),r(c,d)}return o}else Cn(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(d,...h)=>this.produceWithPatches(d,m=>t(m,...h));let r,o;return[this.produce(t,s,(d,h)=>{r=d,o=h}),r,o]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){ui(i)||Cn(8),bs(i)&&(i=YE(i));const t=cv(this),s=Hd(i,void 0);return s[nn].isManual_=!0,Bd(t),s}finishDraft(i,t){const s=i&&i[nn];(!s||!s.isManual_)&&Cn(9);const{scope_:r}=s;return uv(r,t),fv(void 0,r)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let s;for(s=t.length-1;s>=0;s--){const o=t[s];if(o.path.length===0&&o.op==="replace"){i=o.value;break}}s>-1&&(t=t.slice(s+1));const r=Ss("Patches").applyPatches_;return bs(i)?r(i,t):this.produce(i,o=>r(o,t))}};function Hd(i,t){const s=Du(i)?Ss("MapSet").proxyMap_(i,t):Nu(i)?Ss("MapSet").proxySet_(i,t):jE(i,t);return(t?t.scope_:k_()).drafts_.push(s),s}function YE(i){return bs(i)||Cn(10,i),z_(i)}function z_(i){if(!ui(i)||Ou(i))return i;const t=i[nn];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=Ud(i,t.scope_.immer_.useStrictShallowCopy_)}else s=Ud(i,!0);return eu(s,(r,o)=>{M_(s,r,z_(o))}),t&&(t.finalized_=!1),s}var sn=new qE,U_=sn.produce;sn.produceWithPatches.bind(sn);sn.setAutoFreeze.bind(sn);sn.setUseStrictShallowCopy.bind(sn);sn.applyPatches.bind(sn);sn.createDraft.bind(sn);sn.finishDraft.bind(sn);function L_(i){return({dispatch:s,getState:r})=>o=>c=>typeof c=="function"?c(s,r,i):o(c)}var GE=L_(),VE=L_,QE=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Jo:Jo.apply(null,arguments)};function hv(i,t){function s(...r){if(t){let o=t(...r);if(!o)throw new Error(ai(0));return{type:i,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:i,payload:r[0]}}return s.toString=()=>`${i}`,s.type=i,s.match=r=>ME(r)&&r.type===i,s}var B_=class Gr extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gr.prototype)}static get[Symbol.species](){return Gr}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gr(...t[0].concat(this)):new Gr(...t.concat(this))}};function gv(i){return ui(i)?U_(i,()=>{}):i}function qo(i,t,s){return i.has(t)?i.get(t):i.set(t,s(t)).get(t)}function XE(i){return typeof i=="boolean"}var KE=()=>function(t){const{thunk:s=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:c=!0}=t??{};let d=new B_;return s&&(XE(s)?d.push(GE):d.push(VE(s.extraArgument))),d},PE="RTK_autoBatch",mv=i=>t=>{setTimeout(t,i)},FE=(i={type:"raf"})=>t=>(...s)=>{const r=t(...s);let o=!0,c=!1,d=!1;const h=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:mv(10):i.type==="callback"?i.queueNotification:mv(i.timeout),g=()=>{d=!1,c&&(c=!1,h.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const v=()=>o&&y(),b=r.subscribe(v);return h.add(y),()=>{b(),h.delete(y)}},dispatch(y){var v;try{return o=!((v=y==null?void 0:y.meta)!=null&&v[PE]),c=!o,c&&(d||(d=!0,m(g))),r.dispatch(y)}finally{o=!0}}})},ZE=i=>function(s){const{autoBatch:r=!0}=s??{};let o=new B_(i);return r&&o.push(FE(typeof r=="object"?r:void 0)),o};function WE(i){const t=KE(),{reducer:s=void 0,middleware:r,devTools:o=!0,preloadedState:c=void 0,enhancers:d=void 0}=i||{};let h;if(typeof s=="function")h=s;else if(ph(s))h=NE(s);else throw new Error(ai(1));let m;typeof r=="function"?m=r(t):m=t();let g=Jo;o&&(g=QE({trace:!1,...typeof o=="object"&&o}));const y=OE(...m),v=ZE(y);let b=typeof d=="function"?d(v):v();const T=g(...b);return D_(h,c,T)}function j_(i){const t={},s=[];let r;const o={addCase(c,d){const h=typeof c=="string"?c:c.type;if(!h)throw new Error(ai(28));if(h in t)throw new Error(ai(29));return t[h]=d,o},addMatcher(c,d){return s.push({matcher:c,reducer:d}),o},addDefaultCase(c){return r=c,o}};return i(o),[t,s,r]}function $E(i){return typeof i=="function"}function JE(i,t){let[s,r,o]=j_(t),c;if($E(i))c=()=>gv(i());else{const h=gv(i);c=()=>h}function d(h=c(),m){let g=[s[m.type],...r.filter(({matcher:y})=>y(m)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[o]),g.reduce((y,v)=>{if(v)if(bs(y)){const T=v(y,m);return T===void 0?y:T}else{if(ui(y))return U_(y,b=>v(b,m));{const b=v(y,m);if(b===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return y},h)}return d.getInitialState=c,d}var eC=Symbol.for("rtk-slice-createasyncthunk");function tC(i,t){return`${i}/${t}`}function nC({creators:i}={}){var s;const t=(s=i==null?void 0:i.asyncThunk)==null?void 0:s[eC];return function(o){const{name:c,reducerPath:d=c}=o;if(!c)throw new Error(ai(11));const h=(typeof o.reducers=="function"?o.reducers(sC()):o.reducers)||{},m=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(Y,H){const q=typeof Y=="string"?Y:Y.type;if(!q)throw new Error(ai(12));if(q in g.sliceCaseReducersByType)throw new Error(ai(13));return g.sliceCaseReducersByType[q]=H,y},addMatcher(Y,H){return g.sliceMatchers.push({matcher:Y,reducer:H}),y},exposeAction(Y,H){return g.actionCreators[Y]=H,y},exposeCaseReducer(Y,H){return g.sliceCaseReducersByName[Y]=H,y}};m.forEach(Y=>{const H=h[Y],q={reducerName:Y,type:tC(c,Y),createNotation:typeof o.reducers=="function"};rC(H)?oC(q,H,y,t):lC(q,H,y)});function v(){const[Y={},H=[],q=void 0]=typeof o.extraReducers=="function"?j_(o.extraReducers):[o.extraReducers],Z={...Y,...g.sliceCaseReducersByType};return JE(o.initialState,$=>{for(let ee in Z)$.addCase(ee,Z[ee]);for(let ee of g.sliceMatchers)$.addMatcher(ee.matcher,ee.reducer);for(let ee of H)$.addMatcher(ee.matcher,ee.reducer);q&&$.addDefaultCase(q)})}const b=Y=>Y,T=new Map,O=new WeakMap;let z;function L(Y,H){return z||(z=v()),z(Y,H)}function X(){return z||(z=v()),z.getInitialState()}function F(Y,H=!1){function q($){let ee=$[Y];return typeof ee>"u"&&H&&(ee=qo(O,q,X)),ee}function Z($=b){const ee=qo(T,H,()=>new WeakMap);return qo(ee,$,()=>{const W={};for(const[ue,ye]of Object.entries(o.selectors??{}))W[ue]=iC(ye,$,()=>qo(O,$,X),H);return W})}return{reducerPath:Y,getSelectors:Z,get selectors(){return Z(q)},selectSlice:q}}const G={name:c,reducer:L,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:X,...F(d),injectInto(Y,{reducerPath:H,...q}={}){const Z=H??d;return Y.inject({reducerPath:Z,reducer:L},q),{...G,...F(Z,!0)}}};return G}}function iC(i,t,s,r){function o(c,...d){let h=t(c);return typeof h>"u"&&r&&(h=s()),i(h,...d)}return o.unwrapped=i,o}var H_=nC();function sC(){function i(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:i}}function lC({type:i,reducerName:t,createNotation:s},r,o){let c,d;if("reducer"in r){if(s&&!aC(r))throw new Error(ai(17));c=r.reducer,d=r.prepare}else c=r;o.addCase(i,c).exposeCaseReducer(t,c).exposeAction(t,d?hv(i,d):hv(i))}function rC(i){return i._reducerDefinitionType==="asyncThunk"}function aC(i){return i._reducerDefinitionType==="reducerWithPrepare"}function oC({type:i,reducerName:t},s,r,o){if(!o)throw new Error(ai(18));const{payloadCreator:c,fulfilled:d,pending:h,rejected:m,settled:g,options:y}=s,v=o(i,c,y);r.exposeAction(t,v),d&&r.addCase(v.fulfilled,d),h&&r.addCase(v.pending,h),m&&r.addCase(v.rejected,m),g&&r.addMatcher(v.settled,g),r.exposeCaseReducer(t,{fulfilled:d||Yo,pending:h||Yo,rejected:m||Yo,settled:g||Yo})}function Yo(){}function ai(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const uC={columns:{},tasks:{},columnOrder:[],loading:!1,error:null},q_=H_({name:"board",initialState:uC,reducers:{setLoading:(i,t)=>{i.loading=t.payload},setError:(i,t)=>{i.error=t.payload},setBoardData:(i,t)=>{const{columns:s,tasks:r,columnOrder:o}=t.payload;i.columns=s||{},i.tasks=r||{},i.columnOrder=o||[]},addColumn:(i,t)=>{const s=t.payload;i.columns[s.id]=s,i.columnOrder.push(s.id)},updateColumn:(i,t)=>{const{id:s,title:r}=t.payload;i.columns[s]&&(i.columns[s].title=r)},deleteColumn:(i,t)=>{var o;const s=t.payload;(((o=i.columns[s])==null?void 0:o.taskIds)||[]).forEach(c=>{delete i.tasks[c]}),delete i.columns[s],i.columnOrder=i.columnOrder.filter(c=>c!==s)},addTask:(i,t)=>{const{task:s,columnId:r}=t.payload;i.tasks[s.id]=s,i.columns[r]&&i.columns[r].taskIds.push(s.id)},updateTask:(i,t)=>{const{id:s,title:r,description:o}=t.payload;i.tasks[s]&&(i.tasks[s].title=r,i.tasks[s].description=o,i.tasks[s].updatedAt=new Date().toISOString())},deleteTask:(i,t)=>{const s=t.payload;Object.keys(i.columns).forEach(r=>{i.columns[r].taskIds=i.columns[r].taskIds.filter(o=>o!==s)}),delete i.tasks[s]},moveTask:(i,t)=>{const{taskId:s,sourceColumnId:r,destinationColumnId:o,sourceIndex:c,destinationIndex:d}=t.payload;i.columns[r]&&i.columns[r].taskIds.splice(c,1),i.columns[o]&&i.columns[o].taskIds.splice(d,0,s)},reorderColumns:(i,t)=>{i.columnOrder=t.payload},reorderTasks:(i,t)=>{const{columnId:s,taskIds:r}=t.payload;i.columns[s]&&(i.columns[s].taskIds=r)}}}),{setLoading:_d,setError:li,setBoardData:cC,addColumn:YN,updateColumn:GN,deleteColumn:VN,addTask:QN,updateTask:XN,deleteTask:KN,moveTask:PN,reorderColumns:FN,reorderTasks:ZN}=q_.actions,fC=q_.reducer,dC=()=>{const i=["red","blue","green","yellow","purple","pink","indigo","teal"];return i[Math.floor(Math.random()*i.length)]},hC=()=>`user_${Math.random().toString(36).substr(2,9)}`,gC={currentUser:{id:hC(),name:`User ${Math.floor(Math.random()*1e3)}`,color:dC(),isOnline:!0},onlineUsers:{},totalUsers:0},Y_=H_({name:"user",initialState:gC,reducers:{setCurrentUser:(i,t)=>{i.currentUser={...i.currentUser,...t.payload}},setOnlineUsers:(i,t)=>{i.onlineUsers=t.payload,i.totalUsers=Object.keys(t.payload).length},addOnlineUser:(i,t)=>{const s=t.payload;i.onlineUsers[s.id]=s,i.totalUsers=Object.keys(i.onlineUsers).length},removeOnlineUser:(i,t)=>{const s=t.payload;delete i.onlineUsers[s],i.totalUsers=Object.keys(i.onlineUsers).length},updateUserPresence:(i,t)=>{const{userId:s,isOnline:r}=t.payload;i.onlineUsers[s]&&(i.onlineUsers[s].isOnline=r)}}}),{setCurrentUser:WN,setOnlineUsers:mC,addOnlineUser:$N,removeOnlineUser:JN,updateUserPresence:e2}=Y_.actions,pC=Y_.reducer,yC=WE({reducer:{board:fC,user:pC},middleware:i=>i({serializableCheck:{ignoredActions:["persist/PERSIST"]}})});var Vr=w_();function vC(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return A.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const Mu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kl(i){const t=Object.prototype.toString.call(i);return t==="[object Window]"||t==="[object global]"}function _h(i){return"nodeType"in i}function Lt(i){var t,s;return i?kl(i)?i:_h(i)&&(t=(s=i.ownerDocument)==null?void 0:s.defaultView)!=null?t:window:window}function bh(i){const{Document:t}=Lt(i);return i instanceof t}function ga(i){return kl(i)?!1:i instanceof Lt(i).HTMLElement}function G_(i){return i instanceof Lt(i).SVGElement}function Il(i){return i?kl(i)?i.document:_h(i)?bh(i)?i:ga(i)||G_(i)?i.ownerDocument:document:document:document}const An=Mu?A.useLayoutEffect:A.useEffect;function ku(i){const t=A.useRef(i);return An(()=>{t.current=i}),A.useCallback(function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function _C(){const i=A.useRef(null),t=A.useCallback((r,o)=>{i.current=setInterval(r,o)},[]),s=A.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[t,s]}function na(i,t){t===void 0&&(t=[i]);const s=A.useRef(i);return An(()=>{s.current!==i&&(s.current=i)},t),s}function ma(i,t){const s=A.useRef();return A.useMemo(()=>{const r=i(s.current);return s.current=r,r},[...t])}function iu(i){const t=ku(i),s=A.useRef(null),r=A.useCallback(o=>{o!==s.current&&(t==null||t(o,s.current)),s.current=o},[]);return[s,r]}function su(i){const t=A.useRef();return A.useEffect(()=>{t.current=i},[i]),t.current}let bd={};function pa(i,t){return A.useMemo(()=>{if(t)return t;const s=bd[i]==null?0:bd[i]+1;return bd[i]=s,i+"-"+s},[i,t])}function V_(i){return function(t){for(var s=arguments.length,r=new Array(s>1?s-1:0),o=1;o<s;o++)r[o-1]=arguments[o];return r.reduce((c,d)=>{const h=Object.entries(d);for(const[m,g]of h){const y=c[m];y!=null&&(c[m]=y+i*g)}return c},{...t})}}const bl=V_(1),ia=V_(-1);function bC(i){return"clientX"in i&&"clientY"in i}function Iu(i){if(!i)return!1;const{KeyboardEvent:t}=Lt(i.target);return t&&i instanceof t}function SC(i){if(!i)return!1;const{TouchEvent:t}=Lt(i.target);return t&&i instanceof t}function lu(i){if(SC(i)){if(i.touches&&i.touches.length){const{clientX:t,clientY:s}=i.touches[0];return{x:t,y:s}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:t,clientY:s}=i.changedTouches[0];return{x:t,y:s}}}return bC(i)?{x:i.clientX,y:i.clientY}:null}const Vi=Object.freeze({Translate:{toString(i){if(!i)return;const{x:t,y:s}=i;return"translate3d("+(t?Math.round(t):0)+"px, "+(s?Math.round(s):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:t,scaleY:s}=i;return"scaleX("+t+") scaleY("+s+")"}},Transform:{toString(i){if(i)return[Vi.Translate.toString(i),Vi.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:t,duration:s,easing:r}=i;return t+" "+s+"ms "+r}}}),pv="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function EC(i){return i.matches(pv)?i:i.querySelector(pv)}const CC={display:"none"};function TC(i){let{id:t,value:s}=i;return Ke.createElement("div",{id:t,style:CC},s)}function wC(i){let{id:t,announcement:s,ariaLiveType:r="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ke.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},s)}function xC(){const[i,t]=A.useState("");return{announce:A.useCallback(r=>{r!=null&&t(r)},[]),announcement:i}}const Q_=A.createContext(null);function AC(i){const t=A.useContext(Q_);A.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(i)},[i,t])}function RC(){const[i]=A.useState(()=>new Set),t=A.useCallback(r=>(i.add(r),()=>i.delete(r)),[i]);return[A.useCallback(r=>{let{type:o,event:c}=r;i.forEach(d=>{var h;return(h=d[o])==null?void 0:h.call(d,c)})},[i]),t]}const DC={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},NC={onDragStart(i){let{active:t}=i;return"Picked up draggable item "+t.id+"."},onDragOver(i){let{active:t,over:s}=i;return s?"Draggable item "+t.id+" was moved over droppable area "+s.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(i){let{active:t,over:s}=i;return s?"Draggable item "+t.id+" was dropped over droppable area "+s.id:"Draggable item "+t.id+" was dropped."},onDragCancel(i){let{active:t}=i;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function OC(i){let{announcements:t=NC,container:s,hiddenTextDescribedById:r,screenReaderInstructions:o=DC}=i;const{announce:c,announcement:d}=xC(),h=pa("DndLiveRegion"),[m,g]=A.useState(!1);if(A.useEffect(()=>{g(!0)},[]),AC(A.useMemo(()=>({onDragStart(v){let{active:b}=v;c(t.onDragStart({active:b}))},onDragMove(v){let{active:b,over:T}=v;t.onDragMove&&c(t.onDragMove({active:b,over:T}))},onDragOver(v){let{active:b,over:T}=v;c(t.onDragOver({active:b,over:T}))},onDragEnd(v){let{active:b,over:T}=v;c(t.onDragEnd({active:b,over:T}))},onDragCancel(v){let{active:b,over:T}=v;c(t.onDragCancel({active:b,over:T}))}}),[c,t])),!m)return null;const y=Ke.createElement(Ke.Fragment,null,Ke.createElement(TC,{id:r,value:o.draggable}),Ke.createElement(wC,{id:h,announcement:d}));return s?Vr.createPortal(y,s):y}var ct;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function ru(){}function yv(i,t){return A.useMemo(()=>({sensor:i,options:t??{}}),[i,t])}function MC(){for(var i=arguments.length,t=new Array(i),s=0;s<i;s++)t[s]=arguments[s];return A.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Rn=Object.freeze({x:0,y:0});function kC(i,t){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function IC(i,t){const s=lu(i);if(!s)return"0 0";const r={x:(s.x-t.left)/t.width*100,y:(s.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function zC(i,t){let{data:{value:s}}=i,{data:{value:r}}=t;return s-r}function UC(i,t){let{data:{value:s}}=i,{data:{value:r}}=t;return r-s}function vv(i){let{left:t,top:s,height:r,width:o}=i;return[{x:t,y:s},{x:t+o,y:s},{x:t,y:s+r},{x:t+o,y:s+r}]}function X_(i,t){if(!i||i.length===0)return null;const[s]=i;return s[t]}const K_=i=>{let{collisionRect:t,droppableRects:s,droppableContainers:r}=i;const o=vv(t),c=[];for(const d of r){const{id:h}=d,m=s.get(h);if(m){const g=vv(m),y=o.reduce((b,T,O)=>b+kC(g[O],T),0),v=Number((y/4).toFixed(4));c.push({id:h,data:{droppableContainer:d,value:v}})}}return c.sort(zC)};function LC(i,t){const s=Math.max(t.top,i.top),r=Math.max(t.left,i.left),o=Math.min(t.left+t.width,i.left+i.width),c=Math.min(t.top+t.height,i.top+i.height),d=o-r,h=c-s;if(r<o&&s<c){const m=t.width*t.height,g=i.width*i.height,y=d*h,v=y/(m+g-y);return Number(v.toFixed(4))}return 0}const BC=i=>{let{collisionRect:t,droppableRects:s,droppableContainers:r}=i;const o=[];for(const c of r){const{id:d}=c,h=s.get(d);if(h){const m=LC(h,t);m>0&&o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(UC)};function jC(i,t,s){return{...i,scaleX:t&&s?t.width/s.width:1,scaleY:t&&s?t.height/s.height:1}}function P_(i,t){return i&&t?{x:i.left-t.left,y:i.top-t.top}:Rn}function HC(i){return function(s){for(var r=arguments.length,o=new Array(r>1?r-1:0),c=1;c<r;c++)o[c-1]=arguments[c];return o.reduce((d,h)=>({...d,top:d.top+i*h.y,bottom:d.bottom+i*h.y,left:d.left+i*h.x,right:d.right+i*h.x}),{...s})}}const qC=HC(1);function F_(i){if(i.startsWith("matrix3d(")){const t=i.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(i.startsWith("matrix(")){const t=i.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YC(i,t,s){const r=F_(t);if(!r)return i;const{scaleX:o,scaleY:c,x:d,y:h}=r,m=i.left-d-(1-o)*parseFloat(s),g=i.top-h-(1-c)*parseFloat(s.slice(s.indexOf(" ")+1)),y=o?i.width/o:i.width,v=c?i.height/c:i.height;return{width:y,height:v,top:g,right:m+y,bottom:g+v,left:m}}const GC={ignoreTransform:!1};function zl(i,t){t===void 0&&(t=GC);let s=i.getBoundingClientRect();if(t.ignoreTransform){const{transform:g,transformOrigin:y}=Lt(i).getComputedStyle(i);g&&(s=YC(s,g,y))}const{top:r,left:o,width:c,height:d,bottom:h,right:m}=s;return{top:r,left:o,width:c,height:d,bottom:h,right:m}}function _v(i){return zl(i,{ignoreTransform:!0})}function VC(i){const t=i.innerWidth,s=i.innerHeight;return{top:0,left:0,right:t,bottom:s,width:t,height:s}}function QC(i,t){return t===void 0&&(t=Lt(i).getComputedStyle(i)),t.position==="fixed"}function XC(i,t){t===void 0&&(t=Lt(i).getComputedStyle(i));const s=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=t[o];return typeof c=="string"?s.test(c):!1})}function zu(i,t){const s=[];function r(o){if(t!=null&&s.length>=t||!o)return s;if(bh(o)&&o.scrollingElement!=null&&!s.includes(o.scrollingElement))return s.push(o.scrollingElement),s;if(!ga(o)||G_(o)||s.includes(o))return s;const c=Lt(i).getComputedStyle(o);return o!==i&&XC(o,c)&&s.push(o),QC(o,c)?s:r(o.parentNode)}return i?r(i):s}function Z_(i){const[t]=zu(i,1);return t??null}function Sd(i){return!Mu||!i?null:kl(i)?i:_h(i)?bh(i)||i===Il(i).scrollingElement?window:ga(i)?i:null:null}function W_(i){return kl(i)?i.scrollX:i.scrollLeft}function $_(i){return kl(i)?i.scrollY:i.scrollTop}function qd(i){return{x:W_(i),y:$_(i)}}var vt;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(vt||(vt={}));function J_(i){return!Mu||!i?!1:i===document.scrollingElement}function eb(i){const t={x:0,y:0},s=J_(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},r={x:i.scrollWidth-s.width,y:i.scrollHeight-s.height},o=i.scrollTop<=t.y,c=i.scrollLeft<=t.x,d=i.scrollTop>=r.y,h=i.scrollLeft>=r.x;return{isTop:o,isLeft:c,isBottom:d,isRight:h,maxScroll:r,minScroll:t}}const KC={x:.2,y:.2};function PC(i,t,s,r,o){let{top:c,left:d,right:h,bottom:m}=s;r===void 0&&(r=10),o===void 0&&(o=KC);const{isTop:g,isBottom:y,isLeft:v,isRight:b}=eb(i),T={x:0,y:0},O={x:0,y:0},z={height:t.height*o.y,width:t.width*o.x};return!g&&c<=t.top+z.height?(T.y=vt.Backward,O.y=r*Math.abs((t.top+z.height-c)/z.height)):!y&&m>=t.bottom-z.height&&(T.y=vt.Forward,O.y=r*Math.abs((t.bottom-z.height-m)/z.height)),!b&&h>=t.right-z.width?(T.x=vt.Forward,O.x=r*Math.abs((t.right-z.width-h)/z.width)):!v&&d<=t.left+z.width&&(T.x=vt.Backward,O.x=r*Math.abs((t.left+z.width-d)/z.width)),{direction:T,speed:O}}function FC(i){if(i===document.scrollingElement){const{innerWidth:c,innerHeight:d}=window;return{top:0,left:0,right:c,bottom:d,width:c,height:d}}const{top:t,left:s,right:r,bottom:o}=i.getBoundingClientRect();return{top:t,left:s,right:r,bottom:o,width:i.clientWidth,height:i.clientHeight}}function tb(i){return i.reduce((t,s)=>bl(t,qd(s)),Rn)}function ZC(i){return i.reduce((t,s)=>t+W_(s),0)}function WC(i){return i.reduce((t,s)=>t+$_(s),0)}function nb(i,t){if(t===void 0&&(t=zl),!i)return;const{top:s,left:r,bottom:o,right:c}=t(i);Z_(i)&&(o<=0||c<=0||s>=window.innerHeight||r>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const $C=[["x",["left","right"],ZC],["y",["top","bottom"],WC]];class Sh{constructor(t,s){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=zu(s),o=tb(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[c,d,h]of $C)for(const m of d)Object.defineProperty(this,m,{get:()=>{const g=h(r),y=o[c]-g;return this.rect[m]+y},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Qr{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(s=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...s)})},this.target=t}add(t,s,r){var o;(o=this.target)==null||o.addEventListener(t,s,r),this.listeners.push([t,s,r])}}function JC(i){const{EventTarget:t}=Lt(i);return i instanceof t?i:Il(i)}function Ed(i,t){const s=Math.abs(i.x),r=Math.abs(i.y);return typeof t=="number"?Math.sqrt(s**2+r**2)>t:"x"in t&&"y"in t?s>t.x&&r>t.y:"x"in t?s>t.x:"y"in t?r>t.y:!1}var mn;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(mn||(mn={}));function bv(i){i.preventDefault()}function eT(i){i.stopPropagation()}var Se;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Se||(Se={}));const ib={start:[Se.Space,Se.Enter],cancel:[Se.Esc],end:[Se.Space,Se.Enter,Se.Tab]},tT=(i,t)=>{let{currentCoordinates:s}=t;switch(i.code){case Se.Right:return{...s,x:s.x+25};case Se.Left:return{...s,x:s.x-25};case Se.Down:return{...s,y:s.y+25};case Se.Up:return{...s,y:s.y-25}}};class Eh{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:s}}=t;this.props=t,this.listeners=new Qr(Il(s)),this.windowListeners=new Qr(Lt(s)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mn.Resize,this.handleCancel),this.windowListeners.add(mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:s}=this.props,r=t.node.current;r&&nb(r),s(Rn)}handleKeyDown(t){if(Iu(t)){const{active:s,context:r,options:o}=this.props,{keyboardCodes:c=ib,coordinateGetter:d=tT,scrollBehavior:h="smooth"}=o,{code:m}=t;if(c.end.includes(m)){this.handleEnd(t);return}if(c.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:g}=r.current,y=g?{x:g.left,y:g.top}:Rn;this.referenceCoordinates||(this.referenceCoordinates=y);const v=d(t,{active:s,context:r.current,currentCoordinates:y});if(v){const b=ia(v,y),T={x:0,y:0},{scrollableAncestors:O}=r.current;for(const z of O){const L=t.code,{isTop:X,isRight:F,isLeft:G,isBottom:Y,maxScroll:H,minScroll:q}=eb(z),Z=FC(z),$={x:Math.min(L===Se.Right?Z.right-Z.width/2:Z.right,Math.max(L===Se.Right?Z.left:Z.left+Z.width/2,v.x)),y:Math.min(L===Se.Down?Z.bottom-Z.height/2:Z.bottom,Math.max(L===Se.Down?Z.top:Z.top+Z.height/2,v.y))},ee=L===Se.Right&&!F||L===Se.Left&&!G,W=L===Se.Down&&!Y||L===Se.Up&&!X;if(ee&&$.x!==v.x){const ue=z.scrollLeft+b.x,ye=L===Se.Right&&ue<=H.x||L===Se.Left&&ue>=q.x;if(ye&&!b.y){z.scrollTo({left:ue,behavior:h});return}ye?T.x=z.scrollLeft-ue:T.x=L===Se.Right?z.scrollLeft-H.x:z.scrollLeft-q.x,T.x&&z.scrollBy({left:-T.x,behavior:h});break}else if(W&&$.y!==v.y){const ue=z.scrollTop+b.y,ye=L===Se.Down&&ue<=H.y||L===Se.Up&&ue>=q.y;if(ye&&!b.x){z.scrollTo({top:ue,behavior:h});return}ye?T.y=z.scrollTop-ue:T.y=L===Se.Down?z.scrollTop-H.y:z.scrollTop-q.y,T.y&&z.scrollBy({top:-T.y,behavior:h});break}}this.handleMove(t,bl(ia(v,this.referenceCoordinates),T))}}}handleMove(t,s){const{onMove:r}=this.props;t.preventDefault(),r(s)}handleEnd(t){const{onEnd:s}=this.props;t.preventDefault(),this.detach(),s()}handleCancel(t){const{onCancel:s}=this.props;t.preventDefault(),this.detach(),s()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Eh.activators=[{eventName:"onKeyDown",handler:(i,t,s)=>{let{keyboardCodes:r=ib,onActivation:o}=t,{active:c}=s;const{code:d}=i.nativeEvent;if(r.start.includes(d)){const h=c.activatorNode.current;return h&&i.target!==h?!1:(i.preventDefault(),o==null||o({event:i.nativeEvent}),!0)}return!1}}];function Sv(i){return!!(i&&"distance"in i)}function Ev(i){return!!(i&&"delay"in i)}class Ch{constructor(t,s,r){var o;r===void 0&&(r=JC(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=s;const{event:c}=t,{target:d}=c;this.props=t,this.events=s,this.document=Il(d),this.documentListeners=new Qr(this.document),this.listeners=new Qr(r),this.windowListeners=new Qr(Lt(d)),this.initialCoordinates=(o=lu(c))!=null?o:Rn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:s,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(mn.Resize,this.handleCancel),this.windowListeners.add(mn.DragStart,bv),this.windowListeners.add(mn.VisibilityChange,this.handleCancel),this.windowListeners.add(mn.ContextMenu,bv),this.documentListeners.add(mn.Keydown,this.handleKeydown),s){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ev(s)){this.timeoutId=setTimeout(this.handleStart,s.delay),this.handlePending(s);return}if(Sv(s)){this.handlePending(s);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,s){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,s)}handleStart(){const{initialCoordinates:t}=this,{onStart:s}=this.props;t&&(this.activated=!0,this.documentListeners.add(mn.Click,eT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mn.SelectionChange,this.removeTextSelection),s(t))}handleMove(t){var s;const{activated:r,initialCoordinates:o,props:c}=this,{onMove:d,options:{activationConstraint:h}}=c;if(!o)return;const m=(s=lu(t))!=null?s:Rn,g=ia(o,m);if(!r&&h){if(Sv(h)){if(h.tolerance!=null&&Ed(g,h.tolerance))return this.handleCancel();if(Ed(g,h.distance))return this.handleStart()}if(Ev(h)&&Ed(g,h.tolerance))return this.handleCancel();this.handlePending(h,g);return}t.cancelable&&t.preventDefault(),d(m)}handleEnd(){const{onAbort:t,onEnd:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleCancel(){const{onAbort:t,onCancel:s}=this.props;this.detach(),this.activated||t(this.props.active),s()}handleKeydown(t){t.code===Se.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const nT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Th extends Ch{constructor(t){const{event:s}=t,r=Il(s.target);super(t,nT,r)}}Th.activators=[{eventName:"onPointerDown",handler:(i,t)=>{let{nativeEvent:s}=i,{onActivation:r}=t;return!s.isPrimary||s.button!==0?!1:(r==null||r({event:s}),!0)}}];const iT={move:{name:"mousemove"},end:{name:"mouseup"}};var Yd;(function(i){i[i.RightClick=2]="RightClick"})(Yd||(Yd={}));class sT extends Ch{constructor(t){super(t,iT,Il(t.event.target))}}sT.activators=[{eventName:"onMouseDown",handler:(i,t)=>{let{nativeEvent:s}=i,{onActivation:r}=t;return s.button===Yd.RightClick?!1:(r==null||r({event:s}),!0)}}];const Cd={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class lT extends Ch{constructor(t){super(t,Cd)}static setup(){return window.addEventListener(Cd.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Cd.move.name,t)};function t(){}}}lT.activators=[{eventName:"onTouchStart",handler:(i,t)=>{let{nativeEvent:s}=i,{onActivation:r}=t;const{touches:o}=s;return o.length>1?!1:(r==null||r({event:s}),!0)}}];var Xr;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(Xr||(Xr={}));var au;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(au||(au={}));function rT(i){let{acceleration:t,activator:s=Xr.Pointer,canScroll:r,draggingRect:o,enabled:c,interval:d=5,order:h=au.TreeOrder,pointerCoordinates:m,scrollableAncestors:g,scrollableAncestorRects:y,delta:v,threshold:b}=i;const T=oT({delta:v,disabled:!c}),[O,z]=_C(),L=A.useRef({x:0,y:0}),X=A.useRef({x:0,y:0}),F=A.useMemo(()=>{switch(s){case Xr.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case Xr.DraggableRect:return o}},[s,o,m]),G=A.useRef(null),Y=A.useCallback(()=>{const q=G.current;if(!q)return;const Z=L.current.x*X.current.x,$=L.current.y*X.current.y;q.scrollBy(Z,$)},[]),H=A.useMemo(()=>h===au.TreeOrder?[...g].reverse():g,[h,g]);A.useEffect(()=>{if(!c||!g.length||!F){z();return}for(const q of H){if((r==null?void 0:r(q))===!1)continue;const Z=g.indexOf(q),$=y[Z];if(!$)continue;const{direction:ee,speed:W}=PC(q,$,F,t,b);for(const ue of["x","y"])T[ue][ee[ue]]||(W[ue]=0,ee[ue]=0);if(W.x>0||W.y>0){z(),G.current=q,O(Y,d),L.current=W,X.current=ee;return}}L.current={x:0,y:0},X.current={x:0,y:0},z()},[t,Y,r,z,c,d,JSON.stringify(F),JSON.stringify(T),O,g,H,y,JSON.stringify(b)])}const aT={x:{[vt.Backward]:!1,[vt.Forward]:!1},y:{[vt.Backward]:!1,[vt.Forward]:!1}};function oT(i){let{delta:t,disabled:s}=i;const r=su(t);return ma(o=>{if(s||!r||!o)return aT;const c={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[vt.Backward]:o.x[vt.Backward]||c.x===-1,[vt.Forward]:o.x[vt.Forward]||c.x===1},y:{[vt.Backward]:o.y[vt.Backward]||c.y===-1,[vt.Forward]:o.y[vt.Forward]||c.y===1}}},[s,t,r])}function uT(i,t){const s=t!=null?i.get(t):void 0,r=s?s.node.current:null;return ma(o=>{var c;return t==null?null:(c=r??o)!=null?c:null},[r,t])}function cT(i,t){return A.useMemo(()=>i.reduce((s,r)=>{const{sensor:o}=r,c=o.activators.map(d=>({eventName:d.eventName,handler:t(d.handler,r)}));return[...s,...c]},[]),[i,t])}var sa;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(sa||(sa={}));var Gd;(function(i){i.Optimized="optimized"})(Gd||(Gd={}));const Cv=new Map;function fT(i,t){let{dragging:s,dependencies:r,config:o}=t;const[c,d]=A.useState(null),{frequency:h,measure:m,strategy:g}=o,y=A.useRef(i),v=L(),b=na(v),T=A.useCallback(function(X){X===void 0&&(X=[]),!b.current&&d(F=>F===null?X:F.concat(X.filter(G=>!F.includes(G))))},[b]),O=A.useRef(null),z=ma(X=>{if(v&&!s)return Cv;if(!X||X===Cv||y.current!==i||c!=null){const F=new Map;for(let G of i){if(!G)continue;if(c&&c.length>0&&!c.includes(G.id)&&G.rect.current){F.set(G.id,G.rect.current);continue}const Y=G.node.current,H=Y?new Sh(m(Y),Y):null;G.rect.current=H,H&&F.set(G.id,H)}return F}return X},[i,c,s,v,m]);return A.useEffect(()=>{y.current=i},[i]),A.useEffect(()=>{v||T()},[s,v]),A.useEffect(()=>{c&&c.length>0&&d(null)},[JSON.stringify(c)]),A.useEffect(()=>{v||typeof h!="number"||O.current!==null||(O.current=setTimeout(()=>{T(),O.current=null},h))},[h,v,T,...r]),{droppableRects:z,measureDroppableContainers:T,measuringScheduled:c!=null};function L(){switch(g){case sa.Always:return!1;case sa.BeforeDragging:return s;default:return!s}}}function wh(i,t){return ma(s=>i?s||(typeof t=="function"?t(i):i):null,[t,i])}function dT(i,t){return wh(i,t)}function hT(i){let{callback:t,disabled:s}=i;const r=ku(t),o=A.useMemo(()=>{if(s||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(r)},[r,s]);return A.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Uu(i){let{callback:t,disabled:s}=i;const r=ku(t),o=A.useMemo(()=>{if(s||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(r)},[s]);return A.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function gT(i){return new Sh(zl(i),i)}function Tv(i,t,s){t===void 0&&(t=gT);const[r,o]=A.useState(null);function c(){o(m=>{if(!i)return null;if(i.isConnected===!1){var g;return(g=m??s)!=null?g:null}const y=t(i);return JSON.stringify(m)===JSON.stringify(y)?m:y})}const d=hT({callback(m){if(i)for(const g of m){const{type:y,target:v}=g;if(y==="childList"&&v instanceof HTMLElement&&v.contains(i)){c();break}}}}),h=Uu({callback:c});return An(()=>{c(),i?(h==null||h.observe(i),d==null||d.observe(document.body,{childList:!0,subtree:!0})):(h==null||h.disconnect(),d==null||d.disconnect())},[i]),r}function mT(i){const t=wh(i);return P_(i,t)}const wv=[];function pT(i){const t=A.useRef(i),s=ma(r=>i?r&&r!==wv&&i&&t.current&&i.parentNode===t.current.parentNode?r:zu(i):wv,[i]);return A.useEffect(()=>{t.current=i},[i]),s}function yT(i){const[t,s]=A.useState(null),r=A.useRef(i),o=A.useCallback(c=>{const d=Sd(c.target);d&&s(h=>h?(h.set(d,qd(d)),new Map(h)):null)},[]);return A.useEffect(()=>{const c=r.current;if(i!==c){d(c);const h=i.map(m=>{const g=Sd(m);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,qd(g)]):null}).filter(m=>m!=null);s(h.length?new Map(h):null),r.current=i}return()=>{d(i),d(c)};function d(h){h.forEach(m=>{const g=Sd(m);g==null||g.removeEventListener("scroll",o)})}},[o,i]),A.useMemo(()=>i.length?t?Array.from(t.values()).reduce((c,d)=>bl(c,d),Rn):tb(i):Rn,[i,t])}function xv(i,t){t===void 0&&(t=[]);const s=A.useRef(null);return A.useEffect(()=>{s.current=null},t),A.useEffect(()=>{const r=i!==Rn;r&&!s.current&&(s.current=i),!r&&s.current&&(s.current=null)},[i]),s.current?ia(i,s.current):Rn}function vT(i){A.useEffect(()=>{if(!Mu)return;const t=i.map(s=>{let{sensor:r}=s;return r.setup==null?void 0:r.setup()});return()=>{for(const s of t)s==null||s()}},i.map(t=>{let{sensor:s}=t;return s}))}function _T(i,t){return A.useMemo(()=>i.reduce((s,r)=>{let{eventName:o,handler:c}=r;return s[o]=d=>{c(d,t)},s},{}),[i,t])}function sb(i){return A.useMemo(()=>i?VC(i):null,[i])}const Av=[];function bT(i,t){t===void 0&&(t=zl);const[s]=i,r=sb(s?Lt(s):null),[o,c]=A.useState(Av);function d(){c(()=>i.length?i.map(m=>J_(m)?r:new Sh(t(m),m)):Av)}const h=Uu({callback:d});return An(()=>{h==null||h.disconnect(),d(),i.forEach(m=>h==null?void 0:h.observe(m))},[i]),o}function lb(i){if(!i)return null;if(i.children.length>1)return i;const t=i.children[0];return ga(t)?t:i}function ST(i){let{measure:t}=i;const[s,r]=A.useState(null),o=A.useCallback(g=>{for(const{target:y}of g)if(ga(y)){r(v=>{const b=t(y);return v?{...v,width:b.width,height:b.height}:b});break}},[t]),c=Uu({callback:o}),d=A.useCallback(g=>{const y=lb(g);c==null||c.disconnect(),y&&(c==null||c.observe(y)),r(y?t(y):null)},[t,c]),[h,m]=iu(d);return A.useMemo(()=>({nodeRef:h,rect:s,setRef:m}),[s,h,m])}const ET=[{sensor:Th,options:{}},{sensor:Eh,options:{}}],CT={current:{}},Fo={draggable:{measure:_v},droppable:{measure:_v,strategy:sa.WhileDragging,frequency:Gd.Optimized},dragOverlay:{measure:zl}};class Kr extends Map{get(t){var s;return t!=null&&(s=super.get(t))!=null?s:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:s}=t;return!s})}getNodeFor(t){var s,r;return(s=(r=this.get(t))==null?void 0:r.node.current)!=null?s:void 0}}const TT={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Kr,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ru},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fo,measureDroppableContainers:ru,windowRect:null,measuringScheduled:!1},rb={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ru,draggableNodes:new Map,over:null,measureDroppableContainers:ru},ya=A.createContext(rb),ab=A.createContext(TT);function wT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Kr}}}function xT(i,t){switch(t.type){case ct.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ct.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:t.coordinates.x-i.draggable.initialCoordinates.x,y:t.coordinates.y-i.draggable.initialCoordinates.y}}};case ct.DragEnd:case ct.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:s}=t,{id:r}=s,o=new Kr(i.droppable.containers);return o.set(r,s),{...i,droppable:{...i.droppable,containers:o}}}case ct.SetDroppableDisabled:{const{id:s,key:r,disabled:o}=t,c=i.droppable.containers.get(s);if(!c||r!==c.key)return i;const d=new Kr(i.droppable.containers);return d.set(s,{...c,disabled:o}),{...i,droppable:{...i.droppable,containers:d}}}case ct.UnregisterDroppable:{const{id:s,key:r}=t,o=i.droppable.containers.get(s);if(!o||r!==o.key)return i;const c=new Kr(i.droppable.containers);return c.delete(s),{...i,droppable:{...i.droppable,containers:c}}}default:return i}}function AT(i){let{disabled:t}=i;const{active:s,activatorEvent:r,draggableNodes:o}=A.useContext(ya),c=su(r),d=su(s==null?void 0:s.id);return A.useEffect(()=>{if(!t&&!r&&c&&d!=null){if(!Iu(c)||document.activeElement===c.target)return;const h=o.get(d);if(!h)return;const{activatorNode:m,node:g}=h;if(!m.current&&!g.current)return;requestAnimationFrame(()=>{for(const y of[m.current,g.current]){if(!y)continue;const v=EC(y);if(v){v.focus();break}}})}},[r,t,o,d,c]),null}function ob(i,t){let{transform:s,...r}=t;return i!=null&&i.length?i.reduce((o,c)=>c({transform:o,...r}),s):s}function RT(i){return A.useMemo(()=>({draggable:{...Fo.draggable,...i==null?void 0:i.draggable},droppable:{...Fo.droppable,...i==null?void 0:i.droppable},dragOverlay:{...Fo.dragOverlay,...i==null?void 0:i.dragOverlay}}),[i==null?void 0:i.draggable,i==null?void 0:i.droppable,i==null?void 0:i.dragOverlay])}function DT(i){let{activeNode:t,measure:s,initialRect:r,config:o=!0}=i;const c=A.useRef(!1),{x:d,y:h}=typeof o=="boolean"?{x:o,y:o}:o;An(()=>{if(!d&&!h||!t){c.current=!1;return}if(c.current||!r)return;const g=t==null?void 0:t.node.current;if(!g||g.isConnected===!1)return;const y=s(g),v=P_(y,r);if(d||(v.x=0),h||(v.y=0),c.current=!0,Math.abs(v.x)>0||Math.abs(v.y)>0){const b=Z_(g);b&&b.scrollBy({top:v.y,left:v.x})}},[t,d,h,r,s])}const Lu=A.createContext({...Rn,scaleX:1,scaleY:1});var Bi;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Bi||(Bi={}));const NT=A.memo(function(t){var s,r,o,c;let{id:d,accessibility:h,autoScroll:m=!0,children:g,sensors:y=ET,collisionDetection:v=BC,measuring:b,modifiers:T,...O}=t;const z=A.useReducer(xT,void 0,wT),[L,X]=z,[F,G]=RC(),[Y,H]=A.useState(Bi.Uninitialized),q=Y===Bi.Initialized,{draggable:{active:Z,nodes:$,translate:ee},droppable:{containers:W}}=L,ue=Z!=null?$.get(Z):null,ye=A.useRef({initial:null,translated:null}),Ce=A.useMemo(()=>{var Ze;return Z!=null?{id:Z,data:(Ze=ue==null?void 0:ue.data)!=null?Ze:CT,rect:ye}:null},[Z,ue]),Ue=A.useRef(null),[De,M]=A.useState(null),[V,se]=A.useState(null),ve=na(O,Object.values(O)),E=pa("DndDescribedBy",d),j=A.useMemo(()=>W.getEnabled(),[W]),K=RT(b),{droppableRects:P,measureDroppableContainers:te,measuringScheduled:he}=fT(j,{dragging:q,dependencies:[ee.x,ee.y],config:K.droppable}),ne=uT($,Z),ft=A.useMemo(()=>V?lu(V):null,[V]),Te=Gl(),dt=dT(ne,K.draggable.measure);DT({activeNode:Z!=null?$.get(Z):null,config:Te.layoutShiftCompensation,initialRect:dt,measure:K.draggable.measure});const we=Tv(ne,K.draggable.measure,dt),Nn=Tv(ne?ne.parentElement:null),Bt=A.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:P,draggableNodes:$,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),On=W.getNodeFor((s=Bt.current.over)==null?void 0:s.id),Xt=ST({measure:K.dragOverlay.measure}),di=(r=Xt.nodeRef.current)!=null?r:ne,hi=q?(o=Xt.rect)!=null?o:we:null,Kt=!!(Xt.nodeRef.current&&Xt.rect),Ca=mT(Kt?null:we),Ds=sb(di?Lt(di):null),yn=pT(q?On??ne:null),qn=bT(yn),Ns=ob(T,{transform:{x:ee.x-Ca.x,y:ee.y-Ca.y,scaleX:1,scaleY:1},activatorEvent:V,active:Ce,activeNodeRect:we,containerNodeRect:Nn,draggingNodeRect:hi,over:Bt.current.over,overlayNodeRect:Xt.rect,scrollableAncestors:yn,scrollableAncestorRects:qn,windowRect:Ds}),Yl=ft?bl(ft,ee):null,Ta=yT(yn),Wu=xv(Ta),Fi=xv(Ta,[we]),nt=bl(Ns,Wu),kt=hi?qC(hi,Ns):null,lt=Ce&&kt?v({active:Ce,collisionRect:kt,droppableRects:P,droppableContainers:j,pointerCoordinates:Yl}):null,wa=X_(lt,"id"),[Mn,xa]=A.useState(null),Os=Kt?Ns:bl(Ns,Fi),Ms=jC(Os,(c=Mn==null?void 0:Mn.rect)!=null?c:null,we),vn=A.useRef(null),Zi=A.useCallback((Ze,It)=>{let{sensor:Rt,options:_n}=It;if(Ue.current==null)return;const Dt=$.get(Ue.current);if(!Dt)return;const Ct=Ze.nativeEvent,Pt=new Rt({active:Ue.current,activeNode:Dt,event:Ct,options:_n,context:Bt,onAbort(je){if(!$.get(je))return;const{onDragAbort:Ve}=ve.current,Nt={id:je};Ve==null||Ve(Nt),F({type:"onDragAbort",event:Nt})},onPending(je,Ge,Ve,Nt){if(!$.get(je))return;const{onDragPending:$i}=ve.current,kn={id:je,constraint:Ge,initialCoordinates:Ve,offset:Nt};$i==null||$i(kn),F({type:"onDragPending",event:kn})},onStart(je){const Ge=Ue.current;if(Ge==null)return;const Ve=$.get(Ge);if(!Ve)return;const{onDragStart:Nt}=ve.current,Yn={activatorEvent:Ct,active:{id:Ge,data:Ve.data,rect:ye}};Vr.unstable_batchedUpdates(()=>{Nt==null||Nt(Yn),H(Bi.Initializing),X({type:ct.DragStart,initialCoordinates:je,active:Ge}),F({type:"onDragStart",event:Yn}),M(vn.current),se(Ct)})},onMove(je){X({type:ct.DragMove,coordinates:je})},onEnd:gi(ct.DragEnd),onCancel:gi(ct.DragCancel)});vn.current=Pt;function gi(je){return async function(){const{active:Ve,collisions:Nt,over:Yn,scrollAdjustedTranslate:$i}=Bt.current;let kn=null;if(Ve&&$i){const{cancelDrop:mi}=ve.current;kn={activatorEvent:Ct,active:Ve,collisions:Nt,delta:$i,over:Yn},je===ct.DragEnd&&typeof mi=="function"&&await Promise.resolve(mi(kn))&&(je=ct.DragCancel)}Ue.current=null,Vr.unstable_batchedUpdates(()=>{X({type:je}),H(Bi.Uninitialized),xa(null),M(null),se(null),vn.current=null;const mi=je===ct.DragEnd?"onDragEnd":"onDragCancel";if(kn){const Gn=ve.current[mi];Gn==null||Gn(kn),F({type:mi,event:kn})}})}}},[$]),Wi=A.useCallback((Ze,It)=>(Rt,_n)=>{const Dt=Rt.nativeEvent,Ct=$.get(_n);if(Ue.current!==null||!Ct||Dt.dndKit||Dt.defaultPrevented)return;const Pt={active:Ct};Ze(Rt,It.options,Pt)===!0&&(Dt.dndKit={capturedBy:It.sensor},Ue.current=_n,Zi(Rt,It))},[$,Zi]),Aa=cT(y,Wi);vT(y),An(()=>{we&&Y===Bi.Initializing&&H(Bi.Initialized)},[we,Y]),A.useEffect(()=>{const{onDragMove:Ze}=ve.current,{active:It,activatorEvent:Rt,collisions:_n,over:Dt}=Bt.current;if(!It||!Rt)return;const Ct={active:It,activatorEvent:Rt,collisions:_n,delta:{x:nt.x,y:nt.y},over:Dt};Vr.unstable_batchedUpdates(()=>{Ze==null||Ze(Ct),F({type:"onDragMove",event:Ct})})},[nt.x,nt.y]),A.useEffect(()=>{const{active:Ze,activatorEvent:It,collisions:Rt,droppableContainers:_n,scrollAdjustedTranslate:Dt}=Bt.current;if(!Ze||Ue.current==null||!It||!Dt)return;const{onDragOver:Ct}=ve.current,Pt=_n.get(wa),gi=Pt&&Pt.rect.current?{id:Pt.id,rect:Pt.rect.current,data:Pt.data,disabled:Pt.disabled}:null,je={active:Ze,activatorEvent:It,collisions:Rt,delta:{x:Dt.x,y:Dt.y},over:gi};Vr.unstable_batchedUpdates(()=>{xa(gi),Ct==null||Ct(je),F({type:"onDragOver",event:je})})},[wa]),An(()=>{Bt.current={activatorEvent:V,active:Ce,activeNode:ne,collisionRect:kt,collisions:lt,droppableRects:P,draggableNodes:$,draggingNode:di,draggingNodeRect:hi,droppableContainers:W,over:Mn,scrollableAncestors:yn,scrollAdjustedTranslate:nt},ye.current={initial:hi,translated:kt}},[Ce,ne,lt,kt,$,di,hi,P,W,Mn,yn,nt]),rT({...Te,delta:ee,draggingRect:kt,pointerCoordinates:Yl,scrollableAncestors:yn,scrollableAncestorRects:qn});const Ra=A.useMemo(()=>({active:Ce,activeNode:ne,activeNodeRect:we,activatorEvent:V,collisions:lt,containerNodeRect:Nn,dragOverlay:Xt,draggableNodes:$,droppableContainers:W,droppableRects:P,over:Mn,measureDroppableContainers:te,scrollableAncestors:yn,scrollableAncestorRects:qn,measuringConfiguration:K,measuringScheduled:he,windowRect:Ds}),[Ce,ne,we,V,lt,Nn,Xt,$,W,P,Mn,te,yn,qn,K,he,Ds]),Da=A.useMemo(()=>({activatorEvent:V,activators:Aa,active:Ce,activeNodeRect:we,ariaDescribedById:{draggable:E},dispatch:X,draggableNodes:$,over:Mn,measureDroppableContainers:te}),[V,Aa,Ce,we,X,E,$,Mn,te]);return Ke.createElement(Q_.Provider,{value:G},Ke.createElement(ya.Provider,{value:Da},Ke.createElement(ab.Provider,{value:Ra},Ke.createElement(Lu.Provider,{value:Ms},g)),Ke.createElement(AT,{disabled:(h==null?void 0:h.restoreFocus)===!1})),Ke.createElement(OC,{...h,hiddenTextDescribedById:E}));function Gl(){const Ze=(De==null?void 0:De.autoScrollEnabled)===!1,It=typeof m=="object"?m.enabled===!1:m===!1,Rt=q&&!Ze&&!It;return typeof m=="object"?{...m,enabled:Rt}:{enabled:Rt}}}),OT=A.createContext(null),Rv="button",MT="Draggable";function kT(i){let{id:t,data:s,disabled:r=!1,attributes:o}=i;const c=pa(MT),{activators:d,activatorEvent:h,active:m,activeNodeRect:g,ariaDescribedById:y,draggableNodes:v,over:b}=A.useContext(ya),{role:T=Rv,roleDescription:O="draggable",tabIndex:z=0}=o??{},L=(m==null?void 0:m.id)===t,X=A.useContext(L?Lu:OT),[F,G]=iu(),[Y,H]=iu(),q=_T(d,t),Z=na(s);An(()=>(v.set(t,{id:t,key:c,node:F,activatorNode:Y,data:Z}),()=>{const ee=v.get(t);ee&&ee.key===c&&v.delete(t)}),[v,t]);const $=A.useMemo(()=>({role:T,tabIndex:z,"aria-disabled":r,"aria-pressed":L&&T===Rv?!0:void 0,"aria-roledescription":O,"aria-describedby":y.draggable}),[r,T,z,L,O,y.draggable]);return{active:m,activatorEvent:h,activeNodeRect:g,attributes:$,isDragging:L,listeners:r?void 0:q,node:F,over:b,setNodeRef:G,setActivatorNodeRef:H,transform:X}}function ub(){return A.useContext(ab)}const IT="Droppable",zT={timeout:25};function cb(i){let{data:t,disabled:s=!1,id:r,resizeObserverConfig:o}=i;const c=pa(IT),{active:d,dispatch:h,over:m,measureDroppableContainers:g}=A.useContext(ya),y=A.useRef({disabled:s}),v=A.useRef(!1),b=A.useRef(null),T=A.useRef(null),{disabled:O,updateMeasurementsFor:z,timeout:L}={...zT,...o},X=na(z??r),F=A.useCallback(()=>{if(!v.current){v.current=!0;return}T.current!=null&&clearTimeout(T.current),T.current=setTimeout(()=>{g(Array.isArray(X.current)?X.current:[X.current]),T.current=null},L)},[L]),G=Uu({callback:F,disabled:O||!d}),Y=A.useCallback(($,ee)=>{G&&(ee&&(G.unobserve(ee),v.current=!1),$&&G.observe($))},[G]),[H,q]=iu(Y),Z=na(t);return A.useEffect(()=>{!G||!H.current||(G.disconnect(),v.current=!1,G.observe(H.current))},[H,G]),A.useEffect(()=>(h({type:ct.RegisterDroppable,element:{id:r,key:c,disabled:s,node:H,rect:b,data:Z}}),()=>h({type:ct.UnregisterDroppable,key:c,id:r})),[r]),A.useEffect(()=>{s!==y.current.disabled&&(h({type:ct.SetDroppableDisabled,id:r,key:c,disabled:s}),y.current.disabled=s)},[r,c,s,h]),{active:d,rect:b,isOver:(m==null?void 0:m.id)===r,node:H,over:m,setNodeRef:q}}function UT(i){let{animation:t,children:s}=i;const[r,o]=A.useState(null),[c,d]=A.useState(null),h=su(s);return!s&&!r&&h&&o(h),An(()=>{if(!c)return;const m=r==null?void 0:r.key,g=r==null?void 0:r.props.id;if(m==null||g==null){o(null);return}Promise.resolve(t(g,c)).then(()=>{o(null)})},[t,r,c]),Ke.createElement(Ke.Fragment,null,s,r?A.cloneElement(r,{ref:d}):null)}const LT={x:0,y:0,scaleX:1,scaleY:1};function BT(i){let{children:t}=i;return Ke.createElement(ya.Provider,{value:rb},Ke.createElement(Lu.Provider,{value:LT},t))}const jT={position:"fixed",touchAction:"none"},HT=i=>Iu(i)?"transform 250ms ease":void 0,qT=A.forwardRef((i,t)=>{let{as:s,activatorEvent:r,adjustScale:o,children:c,className:d,rect:h,style:m,transform:g,transition:y=HT}=i;if(!h)return null;const v=o?g:{...g,scaleX:1,scaleY:1},b={...jT,width:h.width,height:h.height,top:h.top,left:h.left,transform:Vi.Transform.toString(v),transformOrigin:o&&r?IC(r,h):void 0,transition:typeof y=="function"?y(r):y,...m};return Ke.createElement(s,{className:d,style:b,ref:t},c)}),YT=i=>t=>{let{active:s,dragOverlay:r}=t;const o={},{styles:c,className:d}=i;if(c!=null&&c.active)for(const[h,m]of Object.entries(c.active))m!==void 0&&(o[h]=s.node.style.getPropertyValue(h),s.node.style.setProperty(h,m));if(c!=null&&c.dragOverlay)for(const[h,m]of Object.entries(c.dragOverlay))m!==void 0&&r.node.style.setProperty(h,m);return d!=null&&d.active&&s.node.classList.add(d.active),d!=null&&d.dragOverlay&&r.node.classList.add(d.dragOverlay),function(){for(const[m,g]of Object.entries(o))s.node.style.setProperty(m,g);d!=null&&d.active&&s.node.classList.remove(d.active)}},GT=i=>{let{transform:{initial:t,final:s}}=i;return[{transform:Vi.Transform.toString(t)},{transform:Vi.Transform.toString(s)}]},VT={duration:250,easing:"ease",keyframes:GT,sideEffects:YT({styles:{active:{opacity:"0"}}})};function QT(i){let{config:t,draggableNodes:s,droppableContainers:r,measuringConfiguration:o}=i;return ku((c,d)=>{if(t===null)return;const h=s.get(c);if(!h)return;const m=h.node.current;if(!m)return;const g=lb(d);if(!g)return;const{transform:y}=Lt(d).getComputedStyle(d),v=F_(y);if(!v)return;const b=typeof t=="function"?t:XT(t);return nb(m,o.draggable.measure),b({active:{id:c,data:h.data,node:m,rect:o.draggable.measure(m)},draggableNodes:s,dragOverlay:{node:d,rect:o.dragOverlay.measure(g)},droppableContainers:r,measuringConfiguration:o,transform:v})})}function XT(i){const{duration:t,easing:s,sideEffects:r,keyframes:o}={...VT,...i};return c=>{let{active:d,dragOverlay:h,transform:m,...g}=c;if(!t)return;const y={x:h.rect.left-d.rect.left,y:h.rect.top-d.rect.top},v={scaleX:m.scaleX!==1?d.rect.width*m.scaleX/h.rect.width:1,scaleY:m.scaleY!==1?d.rect.height*m.scaleY/h.rect.height:1},b={x:m.x-y.x,y:m.y-y.y,...v},T=o({...g,active:d,dragOverlay:h,transform:{initial:m,final:b}}),[O]=T,z=T[T.length-1];if(JSON.stringify(O)===JSON.stringify(z))return;const L=r==null?void 0:r({active:d,dragOverlay:h,...g}),X=h.node.animate(T,{duration:t,easing:s,fill:"forwards"});return new Promise(F=>{X.onfinish=()=>{L==null||L(),F()}})}}let Dv=0;function KT(i){return A.useMemo(()=>{if(i!=null)return Dv++,Dv},[i])}const PT=Ke.memo(i=>{let{adjustScale:t=!1,children:s,dropAnimation:r,style:o,transition:c,modifiers:d,wrapperElement:h="div",className:m,zIndex:g=999}=i;const{activatorEvent:y,active:v,activeNodeRect:b,containerNodeRect:T,draggableNodes:O,droppableContainers:z,dragOverlay:L,over:X,measuringConfiguration:F,scrollableAncestors:G,scrollableAncestorRects:Y,windowRect:H}=ub(),q=A.useContext(Lu),Z=KT(v==null?void 0:v.id),$=ob(d,{activatorEvent:y,active:v,activeNodeRect:b,containerNodeRect:T,draggingNodeRect:L.rect,over:X,overlayNodeRect:L.rect,scrollableAncestors:G,scrollableAncestorRects:Y,transform:q,windowRect:H}),ee=wh(b),W=QT({config:r,draggableNodes:O,droppableContainers:z,measuringConfiguration:F}),ue=ee?L.setRef:void 0;return Ke.createElement(BT,null,Ke.createElement(UT,{animation:W},v&&Z?Ke.createElement(qT,{key:Z,id:v.id,ref:ue,as:h,activatorEvent:y,adjustScale:t,className:m,transition:c,rect:ee,style:{zIndex:g,...o},transform:$},s):null))});function xh(i,t,s){const r=i.slice();return r.splice(s<0?r.length+s:s,0,r.splice(t,1)[0]),r}function FT(i,t){return i.reduce((s,r,o)=>{const c=t.get(r);return c&&(s[o]=c),s},Array(i.length))}function Go(i){return i!==null&&i>=0}function ZT(i,t){if(i===t)return!0;if(i.length!==t.length)return!1;for(let s=0;s<i.length;s++)if(i[s]!==t[s])return!1;return!0}function WT(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const fb=i=>{let{rects:t,activeIndex:s,overIndex:r,index:o}=i;const c=xh(t,r,s),d=t[o],h=c[o];return!h||!d?null:{x:h.left-d.left,y:h.top-d.top,scaleX:h.width/d.width,scaleY:h.height/d.height}},Vo={scaleX:1,scaleY:1},$T=i=>{var t;let{activeIndex:s,activeNodeRect:r,index:o,rects:c,overIndex:d}=i;const h=(t=c[s])!=null?t:r;if(!h)return null;if(o===s){const g=c[d];return g?{x:0,y:s<d?g.top+g.height-(h.top+h.height):g.top-h.top,...Vo}:null}const m=JT(c,o,s);return o>s&&o<=d?{x:0,y:-h.height-m,...Vo}:o<s&&o>=d?{x:0,y:h.height+m,...Vo}:{x:0,y:0,...Vo}};function JT(i,t,s){const r=i[t],o=i[t-1],c=i[t+1];return r?s<t?o?r.top-(o.top+o.height):c?c.top-(r.top+r.height):0:c?c.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const db="Sortable",hb=Ke.createContext({activeIndex:-1,containerId:db,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:fb,disabled:{draggable:!1,droppable:!1}});function ew(i){let{children:t,id:s,items:r,strategy:o=fb,disabled:c=!1}=i;const{active:d,dragOverlay:h,droppableRects:m,over:g,measureDroppableContainers:y}=ub(),v=pa(db,s),b=h.rect!==null,T=A.useMemo(()=>r.map(q=>typeof q=="object"&&"id"in q?q.id:q),[r]),O=d!=null,z=d?T.indexOf(d.id):-1,L=g?T.indexOf(g.id):-1,X=A.useRef(T),F=!ZT(T,X.current),G=L!==-1&&z===-1||F,Y=WT(c);An(()=>{F&&O&&y(T)},[F,T,O,y]),A.useEffect(()=>{X.current=T},[T]);const H=A.useMemo(()=>({activeIndex:z,containerId:v,disabled:Y,disableTransforms:G,items:T,overIndex:L,useDragOverlay:b,sortedRects:FT(T,m),strategy:o}),[z,v,Y.draggable,Y.droppable,G,T,L,m,b,o]);return Ke.createElement(hb.Provider,{value:H},t)}const tw=i=>{let{id:t,items:s,activeIndex:r,overIndex:o}=i;return xh(s,r,o).indexOf(t)},nw=i=>{let{containerId:t,isSorting:s,wasDragging:r,index:o,items:c,newIndex:d,previousItems:h,previousContainerId:m,transition:g}=i;return!g||!r||h!==c&&o===d?!1:s?!0:d!==o&&t===m},iw={duration:200,easing:"ease"},gb="transform",sw=Vi.Transition.toString({property:gb,duration:0,easing:"linear"}),lw={roleDescription:"sortable"};function rw(i){let{disabled:t,index:s,node:r,rect:o}=i;const[c,d]=A.useState(null),h=A.useRef(s);return An(()=>{if(!t&&s!==h.current&&r.current){const m=o.current;if(m){const g=zl(r.current,{ignoreTransform:!0}),y={x:m.left-g.left,y:m.top-g.top,scaleX:m.width/g.width,scaleY:m.height/g.height};(y.x||y.y)&&d(y)}}s!==h.current&&(h.current=s)},[t,s,r,o]),A.useEffect(()=>{c&&d(null)},[c]),c}function aw(i){let{animateLayoutChanges:t=nw,attributes:s,disabled:r,data:o,getNewIndex:c=tw,id:d,strategy:h,resizeObserverConfig:m,transition:g=iw}=i;const{items:y,containerId:v,activeIndex:b,disabled:T,disableTransforms:O,sortedRects:z,overIndex:L,useDragOverlay:X,strategy:F}=A.useContext(hb),G=ow(r,T),Y=y.indexOf(d),H=A.useMemo(()=>({sortable:{containerId:v,index:Y,items:y},...o}),[v,o,Y,y]),q=A.useMemo(()=>y.slice(y.indexOf(d)),[y,d]),{rect:Z,node:$,isOver:ee,setNodeRef:W}=cb({id:d,data:H,disabled:G.droppable,resizeObserverConfig:{updateMeasurementsFor:q,...m}}),{active:ue,activatorEvent:ye,activeNodeRect:Ce,attributes:Ue,setNodeRef:De,listeners:M,isDragging:V,over:se,setActivatorNodeRef:ve,transform:E}=kT({id:d,data:H,attributes:{...lw,...s},disabled:G.draggable}),j=vC(W,De),K=!!ue,P=K&&!O&&Go(b)&&Go(L),te=!X&&V,he=te&&P?E:null,ft=P?he??(h??F)({rects:z,activeNodeRect:Ce,activeIndex:b,overIndex:L,index:Y}):null,Te=Go(b)&&Go(L)?c({id:d,items:y,activeIndex:b,overIndex:L}):Y,dt=ue==null?void 0:ue.id,we=A.useRef({activeId:dt,items:y,newIndex:Te,containerId:v}),Nn=y!==we.current.items,Bt=t({active:ue,containerId:v,isDragging:V,isSorting:K,id:d,index:Y,items:y,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:g,wasDragging:we.current.activeId!=null}),On=rw({disabled:!Bt,index:Y,node:$,rect:Z});return A.useEffect(()=>{K&&we.current.newIndex!==Te&&(we.current.newIndex=Te),v!==we.current.containerId&&(we.current.containerId=v),y!==we.current.items&&(we.current.items=y)},[K,Te,v,y]),A.useEffect(()=>{if(dt===we.current.activeId)return;if(dt!=null&&we.current.activeId==null){we.current.activeId=dt;return}const di=setTimeout(()=>{we.current.activeId=dt},50);return()=>clearTimeout(di)},[dt]),{active:ue,activeIndex:b,attributes:Ue,data:H,rect:Z,index:Y,newIndex:Te,items:y,isOver:ee,isSorting:K,isDragging:V,listeners:M,node:$,overIndex:L,over:se,setNodeRef:j,setActivatorNodeRef:ve,setDroppableNodeRef:W,setDraggableNodeRef:De,transform:On??ft,transition:Xt()};function Xt(){if(On||Nn&&we.current.newIndex===Y)return sw;if(!(te&&!Iu(ye)||!g)&&(K||Bt))return Vi.Transition.toString({...g,property:gb})}}function ow(i,t){var s,r;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(s=i==null?void 0:i.draggable)!=null?s:t.draggable,droppable:(r=i==null?void 0:i.droppable)!=null?r:t.droppable}}function ou(i){if(!i)return!1;const t=i.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const uw=[Se.Down,Se.Right,Se.Up,Se.Left],cw=(i,t)=>{let{context:{active:s,collisionRect:r,droppableRects:o,droppableContainers:c,over:d,scrollableAncestors:h}}=t;if(uw.includes(i.code)){if(i.preventDefault(),!s||!r)return;const m=[];c.getEnabled().forEach(v=>{if(!v||v!=null&&v.disabled)return;const b=o.get(v.id);if(b)switch(i.code){case Se.Down:r.top<b.top&&m.push(v);break;case Se.Up:r.top>b.top&&m.push(v);break;case Se.Left:r.left>b.left&&m.push(v);break;case Se.Right:r.left<b.left&&m.push(v);break}});const g=K_({collisionRect:r,droppableRects:o,droppableContainers:m});let y=X_(g,"id");if(y===(d==null?void 0:d.id)&&g.length>1&&(y=g[1].id),y!=null){const v=c.get(s.id),b=c.get(y),T=b?o.get(b.id):null,O=b==null?void 0:b.node.current;if(O&&T&&v&&b){const L=zu(O).some((q,Z)=>h[Z]!==q),X=mb(v,b),F=fw(v,b),G=L||!X?{x:0,y:0}:{x:F?r.width-T.width:0,y:F?r.height-T.height:0},Y={x:T.left,y:T.top};return G.x&&G.y?Y:ia(Y,G)}}}};function mb(i,t){return!ou(i)||!ou(t)?!1:i.data.current.sortable.containerId===t.data.current.sortable.containerId}function fw(i,t){return!ou(i)||!ou(t)||!mb(i,t)?!1:i.data.current.sortable.index<t.data.current.sortable.index}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hw=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,r)=>r?r.toUpperCase():s.toLowerCase()),Nv=i=>{const t=hw(i);return t.charAt(0).toUpperCase()+t.slice(1)},pb=(...i)=>i.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim(),gw=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=A.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...h},m)=>A.createElement("svg",{ref:m,...mw,width:t,height:t,stroke:i,strokeWidth:r?Number(s)*24/Number(t):s,className:pb("lucide",o),...!c&&!gw(h)&&{"aria-hidden":"true"},...h},[...d.map(([g,y])=>A.createElement(g,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=(i,t)=>{const s=A.forwardRef(({className:r,...o},c)=>A.createElement(pw,{ref:c,iconNode:t,className:pb(`lucide-${dw(Nv(i))}`,`lucide-${i}`,r),...o}));return s.displayName=Nv(i),s};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],vw=xs("ellipsis",yw);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],bw=xs("grip-vertical",_w);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],yb=xs("pen-line",Sw);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vd=xs("plus",Ew);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],vb=xs("trash-2",Cw);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ww=xs("users",Tw);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_b=xs("x",xw),Aw=()=>{};var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(i,t){if(!i)throw Ul(t)},Ul=function(i){return new Error("Firebase Database ("+bb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=function(i){const t=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},Rw=function(i){const t=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[s++];t[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[s++],d=i[s++],h=i[s++],m=((o&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const c=i[s++],d=i[s++];t[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ah={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,h=d?i[o+1]:0,m=o+2<i.length,g=m?i[o+2]:0,y=c>>2,v=(c&3)<<4|h>>4;let b=(h&15)<<2|g>>6,T=g&63;m||(T=64,d||(b=64)),r.push(s[y],s[v],s[b],s[T])}return r.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Sb(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Rw(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=s[i.charAt(o++)],h=o<i.length?s[i.charAt(o)]:0;++o;const g=o<i.length?s[i.charAt(o)]:64;++o;const v=o<i.length?s[i.charAt(o)]:64;if(++o,c==null||h==null||g==null||v==null)throw new Dw;const b=c<<2|h>>4;if(r.push(b),g!==64){const T=h<<4&240|g>>2;if(r.push(T),v!==64){const O=g<<6&192|v;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Dw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Eb=function(i){const t=Sb(i);return Ah.encodeByteArray(t,!0)},uu=function(i){return Eb(i).replace(/\./g,"")},Qd=function(i){try{return Ah.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(i){return Cb(void 0,i)}function Cb(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const s=t;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const s in t)!t.hasOwnProperty(s)||!Ow(s)||(i[s]=Cb(i[s],t[s]));return i}function Ow(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=()=>Mw().__FIREBASE_DEFAULTS__,Iw=()=>{if(typeof process>"u"||typeof Ov>"u")return;const i=Ov.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zw=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Qd(i[1]);return t&&JSON.parse(t)},Tb=()=>{try{return Aw()||kw()||Iw()||zw()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Uw=i=>{var t,s;return(s=(t=Tb())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[i]},Lw=i=>{const t=Uw(i);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),r]:[t.substring(0,s),r]},wb=()=>{var i;return(i=Tb())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(i){return i.endsWith(".cloudworkstations.dev")}async function Bw(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=t||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uu(JSON.stringify(s)),uu(JSON.stringify(d)),""].join(".")}const Pr={};function Hw(){const i={prod:[],emulator:[]};for(const t of Object.keys(Pr))Pr[t]?i.emulator.push(t):i.prod.push(t);return i}function qw(i){let t=document.getElementById(i),s=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),s=!0),{created:s,element:t}}let Mv=!1;function Yw(i,t){if(typeof window>"u"||typeof document>"u"||!Rh(window.location.host)||Pr[i]===t||Pr[i]||Mv)return;Pr[i]=t;function s(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=Hw().prod.length>0;function d(){const b=document.getElementById(r);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Mv=!0,d()},b}function y(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=qw(r),T=s("text"),O=document.getElementById(T)||document.createElement("span"),z=s("learnmore"),L=document.getElementById(z)||document.createElement("a"),X=s("preprendIcon"),F=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const G=b.element;h(G),y(L,z);const Y=g();m(F,X),G.append(F,O,L,Y),document.body.appendChild(G)}c?(O.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gw())}function Vw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qw(){return bb.NODE_ADMIN===!0}function Xw(){try{return typeof indexedDB=="object"}catch{return!1}}function Kw(){return new Promise((i,t)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="FirebaseError";class va extends Error{constructor(t,s,r){super(s),this.code=t,this.customData=r,this.name=Pw,Object.setPrototypeOf(this,va.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ab.prototype.create)}}class Ab{constructor(t,s,r){this.service=t,this.serviceName=s,this.errors=r}create(t,...s){const r=s[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Fw(c,r):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new va(o,h,r)}}function Fw(i,t){return i.replace(Zw,(s,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const Zw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(i){return JSON.parse(i)}function St(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=function(i){let t={},s={},r={},o="";try{const c=i.split(".");t=la(Qd(c[0])||""),s=la(Qd(c[1])||""),o=c[2],r=s.d||{},delete s.d}catch{}return{header:t,claims:s,data:r,signature:o}},Ww=function(i){const t=Rb(i),s=t.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},$w=function(i){const t=Rb(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function xl(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Xd(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function cu(i,t,s){const r={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=t.call(s,i[o],o,i));return r}function fu(i,t){if(i===t)return!0;const s=Object.keys(i),r=Object.keys(t);for(const o of s){if(!r.includes(o))return!1;const c=i[o],d=t[o];if(kv(c)&&kv(d)){if(!fu(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(i){const t=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,s){s||(s=0);const r=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)r[v]=t.charCodeAt(s)<<24|t.charCodeAt(s+1)<<16|t.charCodeAt(s+2)<<8|t.charCodeAt(s+3),s+=4;else for(let v=0;v<16;v++)r[v]=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3],s+=4;for(let v=16;v<80;v++){const b=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(b<<1|b>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],m=this.chain_[4],g,y;for(let v=0;v<80;v++){v<40?v<20?(g=h^c&(d^h),y=1518500249):(g=c^d^h,y=1859775393):v<60?(g=c&d|h&(c|d),y=2400959708):(g=c^d^h,y=3395469782);const b=(o<<5|o>>>27)+g+m+y+r[v]&4294967295;m=h,h=d,d=(c<<30|c>>>2)&4294967295,c=o,o=b}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,s){if(t==null)return;s===void 0&&(s=t.length);const r=s-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<s;){if(d===0)for(;o<=r;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<s;)if(c[d]=t.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<s;)if(c[d]=t[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=s}digest(){const t=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[r]=this.chain_[o]>>c&255,++r;return t}}function Al(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(i){const t=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,Q(r<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(r)-56320;o=65536+(c<<10)+d}o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):o<65536?(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},Bu=function(i){let t=0;for(let s=0;s<i.length;s++){const r=i.charCodeAt(s);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,s++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(i){return i&&i._delegate?i._delegate:i}class ra{constructor(t,s,r){this.name=t,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const r=new jn;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(sx(t))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=ys){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ys){return this.instances.has(t)}getOptions(t=ys){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&d.resolve(o)}return o}onInit(t,s){var r;const o=this.normalizeInstanceIdentifier(s),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ix(t),options:s}),this.instances.set(t,r),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ys){return this.component?this.component.multipleInstances?t:ys:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ix(i){return i===ys?void 0:i}function sx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new nx(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ye||(Ye={}));const rx={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},ax=Ye.INFO,ox={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},ux=(i,t,...s)=>{if(t<i.logLevel)return;const r=new Date().toISOString(),o=ox[t];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Db{constructor(t){this.name=t,this._logLevel=ax,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...t),this._logHandler(this,Ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...t),this._logHandler(this,Ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...t),this._logHandler(this,Ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...t),this._logHandler(this,Ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...t),this._logHandler(this,Ye.ERROR,...t)}}const cx=(i,t)=>t.some(s=>i instanceof s);let Iv,zv;function fx(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dx(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,Kd=new WeakMap,Ob=new WeakMap,Td=new WeakMap,Dh=new WeakMap;function hx(i){const t=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{s(Hi(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(s=>{s instanceof IDBCursor&&Nb.set(s,i)}).catch(()=>{}),Dh.set(t,i),t}function gx(i){if(Kd.has(i))return;const t=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{s(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Kd.set(i,t)}let Pd={get(i,t,s){if(i instanceof IDBTransaction){if(t==="done")return Kd.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Ob.get(i);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Hi(i[t])},set(i,t,s){return i[t]=s,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function mx(i){Pd=i(Pd)}function px(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const r=i.call(wd(this),t,...s);return Ob.set(r,t.sort?t.sort():[t]),Hi(r)}:dx().includes(i)?function(...t){return i.apply(wd(this),t),Hi(Nb.get(this))}:function(...t){return Hi(i.apply(wd(this),t))}}function yx(i){return typeof i=="function"?px(i):(i instanceof IDBTransaction&&gx(i),cx(i,fx())?new Proxy(i,Pd):i)}function Hi(i){if(i instanceof IDBRequest)return hx(i);if(Td.has(i))return Td.get(i);const t=yx(i);return t!==i&&(Td.set(i,t),Dh.set(t,i)),t}const wd=i=>Dh.get(i);function vx(i,t,{blocked:s,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,t),h=Hi(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Hi(d.result),m.oldVersion,m.newVersion,Hi(d.transaction),m)}),s&&d.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const _x=["get","getKey","getAll","getAllKeys","count"],bx=["put","add","delete","clear"],xd=new Map;function Uv(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const s=t.replace(/FromIndex$/,""),r=t!==s,o=bx.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||_x.includes(s)))return;const c=async function(d,...h){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[s](...h),o&&m.done]))[0]};return xd.set(t,c),c}mx(i=>({...i,get:(t,s,r)=>Uv(t,s)||i.get(t,s,r),has:(t,s)=>!!Uv(t,s)||i.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Ex(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function Ex(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Fd="@firebase/app",Lv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Db("@firebase/app"),Cx="@firebase/app-compat",Tx="@firebase/analytics-compat",wx="@firebase/analytics",xx="@firebase/app-check-compat",Ax="@firebase/app-check",Rx="@firebase/auth",Dx="@firebase/auth-compat",Nx="@firebase/database",Ox="@firebase/data-connect",Mx="@firebase/database-compat",kx="@firebase/functions",Ix="@firebase/functions-compat",zx="@firebase/installations",Ux="@firebase/installations-compat",Lx="@firebase/messaging",Bx="@firebase/messaging-compat",jx="@firebase/performance",Hx="@firebase/performance-compat",qx="@firebase/remote-config",Yx="@firebase/remote-config-compat",Gx="@firebase/storage",Vx="@firebase/storage-compat",Qx="@firebase/firestore",Xx="@firebase/ai",Kx="@firebase/firestore-compat",Px="firebase",Fx="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="[DEFAULT]",Zx={[Fd]:"fire-core",[Cx]:"fire-core-compat",[wx]:"fire-analytics",[Tx]:"fire-analytics-compat",[Ax]:"fire-app-check",[xx]:"fire-app-check-compat",[Rx]:"fire-auth",[Dx]:"fire-auth-compat",[Nx]:"fire-rtdb",[Ox]:"fire-data-connect",[Mx]:"fire-rtdb-compat",[kx]:"fire-fn",[Ix]:"fire-fn-compat",[zx]:"fire-iid",[Ux]:"fire-iid-compat",[Lx]:"fire-fcm",[Bx]:"fire-fcm-compat",[jx]:"fire-perf",[Hx]:"fire-perf-compat",[qx]:"fire-rc",[Yx]:"fire-rc-compat",[Gx]:"fire-gcs",[Vx]:"fire-gcs-compat",[Qx]:"fire-fst",[Kx]:"fire-fst-compat",[Xx]:"fire-vertex","fire-js":"fire-js",[Px]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Map,Wx=new Map,Wd=new Map;function Bv(i,t){try{i.container.addComponent(t)}catch(s){ci.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,s)}}function hu(i){const t=i.name;if(Wd.has(t))return ci.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,i);for(const s of du.values())Bv(s,i);for(const s of Wx.values())Bv(s,i);return!0}function $x(i,t){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(t)}function Jx(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Ab("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,s,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=Fx;function Mb(i,t={}){let s=i;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Zd,automaticDataCollectionEnabled:!0},t),o=r.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(s||(s=wb()),!s)throw qi.create("no-options");const c=du.get(o);if(c){if(fu(s,c.options)&&fu(r,c.config))return c;throw qi.create("duplicate-app",{appName:o})}const d=new lx(o);for(const m of Wd.values())d.addComponent(m);const h=new tA(s,r,d);return du.set(o,h),h}function iA(i=Zd){const t=du.get(i);if(!t&&i===Zd&&wb())return Mb();if(!t)throw qi.create("no-app",{appName:i});return t}function Sl(i,t,s){var r;let o=(r=Zx[i])!==null&&r!==void 0?r:i;s&&(o+=`-${s}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const h=[`Unable to register library "${o}" with version "${t}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&h.push("and"),d&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}hu(new ra(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="firebase-heartbeat-database",lA=1,aa="firebase-heartbeat-store";let Ad=null;function kb(){return Ad||(Ad=vx(sA,lA,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(aa)}catch(s){console.warn(s)}}}}).catch(i=>{throw qi.create("idb-open",{originalErrorMessage:i.message})})),Ad}async function rA(i){try{const s=(await kb()).transaction(aa),r=await s.objectStore(aa).get(Ib(i));return await s.done,r}catch(t){if(t instanceof va)ci.warn(t.message);else{const s=qi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ci.warn(s.message)}}}async function jv(i,t){try{const r=(await kb()).transaction(aa,"readwrite");await r.objectStore(aa).put(t,Ib(i)),await r.done}catch(s){if(s instanceof va)ci.warn(s.message);else{const r=qi.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});ci.warn(r.message)}}}function Ib(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=1024,oA=30;class uA{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new fA(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Hv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>oA){const d=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Hv(),{heartbeatsToSend:r,unsentEntries:o}=cA(this._heartbeatsCache.heartbeats),c=uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return ci.warn(s),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function cA(i,t=aA){const s=[];let r=i.slice();for(const o of i){const c=s.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),qv(s)>t){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),qv(s)>t){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class fA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xw()?Kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await rA(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return jv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return jv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function qv(i){return uu(JSON.stringify({version:2,heartbeats:i})).length}function dA(i){if(i.length===0)return-1;let t=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(i){hu(new ra("platform-logger",t=>new Sx(t),"PRIVATE")),hu(new ra("heartbeat",t=>new uA(t),"PRIVATE")),Sl(Fd,Lv,i),Sl(Fd,Lv,"esm2017"),Sl("fire-js","")}hA("");var Yv={};const Gv="@firebase/database",Vv="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zb="";function gA(i){zb=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,s){s==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),St(s))}get(t){const s=this.domStorage_.getItem(this.prefixedName_(t));return s==null?null:la(s)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,s){s==null?delete this.cache_[t]:this.cache_[t]=s}get(t){return Hn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mA(t)}}catch{}return new pA},_s=Ub("localStorage"),yA=Ub("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new Db("@firebase/database"),vA=function(){let i=1;return function(){return i++}}(),Lb=function(i){const t=tx(i),s=new ex;s.update(t);const r=s.digest();return Ah.encodeByteArray(r)},_a=function(...i){let t="";for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=_a.apply(null,r):typeof r=="object"?t+=St(r):t+=r,t+=" "}return t};let Fr=null,Qv=!0;const _A=function(i,t){Q(!0,"Can't turn on custom loggers persistently."),El.logLevel=Ye.VERBOSE,Fr=El.log.bind(El)},bt=function(...i){if(Qv===!0&&(Qv=!1,Fr===null&&yA.get("logging_enabled")===!0&&_A()),Fr){const t=_a.apply(null,i);Fr(t)}},ba=function(i){return function(...t){bt(i,...t)}},$d=function(...i){const t="FIREBASE INTERNAL ERROR: "+_a(...i);El.error(t)},fi=function(...i){const t=`FIREBASE FATAL ERROR: ${_a(...i)}`;throw El.error(t),new Error(t)},Ut=function(...i){const t="FIREBASE WARNING: "+_a(...i);El.warn(t)},bA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ju=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},SA=function(i){if(document.readyState==="complete")i();else{let t=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Rl="[MIN_NAME]",Es="[MAX_NAME]",As=function(i,t){if(i===t)return 0;if(i===Rl||t===Es)return-1;if(t===Rl||i===Es)return 1;{const s=Xv(i),r=Xv(t);return s!==null?r!==null?s-r===0?i.length-t.length:s-r:-1:r!==null?1:i<t?-1:1}},EA=function(i,t){return i===t?0:i<t?-1:1},jr=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+St(t))},Nh=function(i){if(typeof i!="object"||i===null)return St(i);const t=[];for(const r in i)t.push(r);t.sort();let s="{";for(let r=0;r<t.length;r++)r!==0&&(s+=","),s+=St(t[r]),s+=":",s+=Nh(i[t[r]]);return s+="}",s},Bb=function(i,t){const s=i.length;if(s<=t)return[i];const r=[];for(let o=0;o<s;o+=t)o+t>s?r.push(i.substring(o,s)):r.push(i.substring(o,o+t));return r};function Et(i,t){for(const s in i)i.hasOwnProperty(s)&&t(s,i[s])}const jb=function(i){Q(!ju(i),"Invalid JSON number");const t=11,s=52,r=(1<<t-1)-1;let o,c,d,h,m;i===0?(c=0,d=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),c=h+r,d=Math.round(i*Math.pow(2,s-h)-Math.pow(2,s))):(c=0,d=Math.round(i/Math.pow(2,1-r-s))));const g=[];for(m=s;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(o?1:0),g.reverse();const y=g.join("");let v="";for(m=0;m<64;m+=8){let b=parseInt(y.substr(m,8),2).toString(16);b.length===1&&(b="0"+b),v=v+b}return v.toLowerCase()},CA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wA(i,t){let s="Unknown Error";i==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?s="Client doesn't have permission to access the desired data.":i==="unavailable"&&(s="The service is unavailable");const r=new Error(i+" at "+t._path.toString()+": "+s);return r.code=i.toUpperCase(),r}const xA=new RegExp("^-?(0*)\\d{1,10}$"),AA=-2147483648,RA=2147483647,Xv=function(i){if(xA.test(i)){const t=Number(i);if(t>=AA&&t<=RA)return t}return null},Bl=function(i){try{i()}catch(t){setTimeout(()=>{const s=t.stack||"";throw Ut("Exception was thrown by user callback.",s),t},Math.floor(0))}},DA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zr=function(i,t){const s=setTimeout(i,t);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,s){this.appCheckProvider=s,this.appName=t.name,Jx(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(s,r):s(null)},0)})}addTokenChangeListener(t){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ut(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,s,r){this.appName_=t,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(s=>s&&s.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(s,r):s(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(s=>s.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(s=>s.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ut(t)}}class Zo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}Zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="5",Hb="v",qb="s",Yb="r",Gb="f",Vb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qb="ls",Xb="p",Jd="ac",Kb="websocket",Pb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,s,r,o,c=!1,d="",h=!1,m=!1,g=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${s}`}}function MA(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Zb(i,t,s){Q(typeof t=="string","typeof type must == string"),Q(typeof s=="object","typeof params must == object");let r;if(t===Kb)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Pb)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);MA(i)&&(s.ns=i.namespace);const o=[];return Et(s,(c,d)=>{o.push(c+"="+d)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.counters_={}}incrementCounter(t,s=1){Hn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=s}get(){return Nw(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd={},Dd={};function Mh(i){const t=i.toString();return Rd[t]||(Rd[t]=new kA),Rd[t]}function IA(i,t){const s=i.toString();return Dd[s]||(Dd[s]=t()),Dd[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,s){this.closeAfterResponse=t,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,s){for(this.pendingResponses[t]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Bl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="start",UA="close",LA="pLPCommand",BA="pRTLPCB",Wb="id",$b="pw",Jb="ser",jA="cb",HA="seg",qA="ts",YA="d",GA="dframe",e0=1870,t0=30,VA=e0-t0,QA=25e3,XA=3e4;class vl{constructor(t,s,r,o,c,d,h){this.connId=t,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ba(t),this.stats_=Mh(s),this.urlFn=m=>(this.appCheckToken&&(m[Jd]=this.appCheckToken),Zb(s,Pb,m))}open(t,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new zA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XA)),SA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kh((...c)=>{const[d,h,m,g,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Kv)this.id=h,this.password=m;else if(d===UA)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Kv]="t",r[Jb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[jA]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hb]=Oh,this.transportSessionId&&(r[qb]=this.transportSessionId),this.lastSessionId&&(r[Qb]=this.lastSessionId),this.applicationId&&(r[Xb]=this.applicationId),this.appCheckToken&&(r[Jd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Vb.test(location.hostname)&&(r[Yb]=Gb);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vl.forceAllow_=!0}static forceDisallow(){vl.forceDisallow_=!0}static isAvailable(){return vl.forceAllow_?!0:!vl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CA()&&!TA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const s=St(t);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Eb(s),o=Bb(r,VA);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[GA]="t",r[Wb]=t,r[$b]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const s=St(t).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class kh{constructor(t,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vA(),window[LA+this.uniqueCallbackIdentifier]=t,window[BA+this.uniqueCallbackIdentifier]=s,this.myIFrame=kh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){bt("frame writing exception"),h.stack&&bt(h.stack),bt(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||bt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,s){for(this.myID=t,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Wb]=this.myID,t[$b]=this.myPW,t[Jb]=this.currentSerial;let s=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+t0+r.length<=e0;){const d=this.pendingSegs.shift();r=r+"&"+HA+o+"="+d.seg+"&"+qA+o+"="+d.ts+"&"+YA+o+"="+d.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(t,s,r){this.pendingSegs.push({seg:t,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(QA)),c=()=>{clearTimeout(o),r()};this.addTag(t,c)}addTag(t,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{bt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=16384,PA=45e3;let gu=null;typeof MozWebSocket<"u"?gu=MozWebSocket:typeof WebSocket<"u"&&(gu=WebSocket);class Tn{constructor(t,s,r,o,c,d,h){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ba(this.connId),this.stats_=Mh(s),this.connURL=Tn.connectionURL_(s,d,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(t,s,r,o,c){const d={};return d[Hb]=Oh,typeof location<"u"&&location.hostname&&Vb.test(location.hostname)&&(d[Yb]=Gb),s&&(d[qb]=s),r&&(d[Qb]=r),o&&(d[Jd]=o),c&&(d[Xb]=c),Zb(t,Kb,d)}open(t,s){this.onDisconnect=s,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let r;Qw(),this.mySock=new gu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Tn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&gu!==null&&!Tn.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||_s.get("previous_websocket_failure")===!0}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=la(s);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Q(this.frames===null,"We already have a frame buffer"),t.length<=6){const s=Number(t);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const s=t.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const s=St(t);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Bb(s,KA);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PA))}sendString_(t){try{this.mySock.send(t)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Tn.responsesRequiredToBeHealthy=2;Tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{static get ALL_TRANSPORTS(){return[vl,Tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const s=Tn&&Tn.isAvailable();let r=s&&!Tn.previouslyFailed();if(t.webSocketOnly&&(s||Ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tn];else{const o=this.transports_=[];for(const c of oa.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);oa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}oa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6e4,ZA=5e3,WA=10*1024,$A=100*1024,Nd="t",Pv="d",JA="s",Fv="r",eR="e",Zv="o",Wv="a",$v="n",Jv="p",tR="h";class nR{constructor(t,s,r,o,c,d,h,m,g,y){this.id=t,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ba("c:"+this.id+":"),this.transportManager_=new oa(s),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Zr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>$A?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return s=>{t===this.conn_?this.onConnectionLost_(s):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return s=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(s):t===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(t){const s={t:"d",d:t};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Nd in t){const s=t[Nd];s===Wv?this.upgradeIfSecondaryHealthy_():s===Fv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===Zv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const s=jr("t",t),r=jr("d",t);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$v,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const s=jr("t",t),r=jr("d",t);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const s=jr(Nd,t);if(Pv in t){const r=t[Pv];if(s===tR){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===$v){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===JA?this.onConnectionShutdown_(r):s===Fv?this.onReset_(r):s===eR?$d("Server Error: "+r):s===Zv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$d("Unknown control packet command: "+s)}}onHandshake_(t){const s=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),Oh!==r&&Ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Zr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FA))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,s){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jv,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{put(t,s,r,o){}merge(t,s,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,s,r){}onDisconnectMerge(t,s,r){}onDisconnectCancel(t,s){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t){this.allowedEvents_=t,this.listeners_={},Q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...s){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(t,s,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:s,context:r});const o=this.getInitialEvent(t);o&&s.apply(r,o)}off(t,s,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===s&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(t){Q(this.allowedEvents_.find(s=>s===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends i0{static getInstance(){return new mu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return Q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=32,t_=768;class Me{constructor(t,s){if(s===void 0){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=s}toString(){let t="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(t+="/"+this.pieces_[s]);return t||"/"}}function Re(){return new Me("")}function de(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Qi(i){return i.pieces_.length-i.pieceNum_}function Be(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new Me(i.pieces_,t)}function Ih(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function iR(i){let t="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[s])));return t||"/"}function ua(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function s0(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)t.push(i.pieces_[s]);return new Me(t,0)}function Pe(i,t){const s=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)s.push(i.pieces_[r]);if(t instanceof Me)for(let r=t.pieceNum_;r<t.pieces_.length;r++)s.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new Me(s,0)}function me(i){return i.pieceNum_>=i.pieces_.length}function Vt(i,t){const s=de(i),r=de(t);if(s===null)return t;if(s===r)return Vt(Be(i),Be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function sR(i,t){const s=ua(i,0),r=ua(t,0);for(let o=0;o<s.length&&o<r.length;o++){const c=As(s[o],r[o]);if(c!==0)return c}return s.length===r.length?0:s.length<r.length?-1:1}function zh(i,t){if(Qi(i)!==Qi(t))return!1;for(let s=i.pieceNum_,r=t.pieceNum_;s<=i.pieces_.length;s++,r++)if(i.pieces_[s]!==t.pieces_[r])return!1;return!0}function pn(i,t){let s=i.pieceNum_,r=t.pieceNum_;if(Qi(i)>Qi(t))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==t.pieces_[r])return!1;++s,++r}return!0}class lR{constructor(t,s){this.errorPrefix_=s,this.parts_=ua(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Bu(this.parts_[r]);l0(this)}}function rR(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Bu(t),l0(i)}function aR(i){const t=i.parts_.pop();i.byteLength_-=Bu(t),i.parts_.length>0&&(i.byteLength_-=1)}function l0(i){if(i.byteLength_>t_)throw new Error(i.errorPrefix_+"has a key path longer than "+t_+" bytes ("+i.byteLength_+").");if(i.parts_.length>e_)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e_+") or object contains a cycle "+vs(i))}function vs(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh extends i0{static getInstance(){return new Uh}constructor(){super(["visible"]);let t,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return Q(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr=1e3,oR=60*5*1e3,n_=30*1e3,uR=1.3,cR=3e4,fR="server_kill",i_=3;class oi extends n0{constructor(t,s,r,o,c,d,h,m){if(super(),this.repoInfo_=t,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=oi.nextPersistentConnectionId_++,this.log_=ba("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hr,this.maxReconnectDelay_=oR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Uh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&mu.getInstance().on("online",this.onOnline_,this)}sendRequest(t,s,r){const o=++this.requestNumber_,c={r:o,a:t,b:s};this.log_(St(c)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const s=new jn,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),s.promise}listen(t,s,r,o){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:t,tag:r};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const s=this.outstandingGets_[t];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(t){const s=t.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},d="q";t.tag&&(c.q=s._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,h=>{const m=h.d,g=h.s;oi.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(r,o),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,s){if(t&&typeof t=="object"&&Hn(t,"w")){const r=xl(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',c=s._path.toString();Ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||$w(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=n_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,s=Ww(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const s=t.s,r=t.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(t,s){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,s)}sendUnlisten_(t,s,r,o){this.log_("Unlisten on "+t+" for "+s);const c={p:t},d="n";o&&(c.q=r,c.t=o),this.sendRequest(d,c)}onDisconnectPut(t,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,s,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:s,onComplete:r})}onDisconnectMerge(t,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,s,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:s,onComplete:r})}onDisconnectCancel(t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(t,s,r,o){const c={p:s,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(t,s,r,o){this.putInternal("p",t,s,r,o)}merge(t,s,r,o){this.putInternal("m",t,s,r,o)}putInternal(t,s,r,o,c){this.initConnection_();const d={p:s,d:r};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(t){const s=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(s,r,c=>{this.log_(s+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const s={c:t};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+St(t));const s=t.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,s){this.log_("handleServerMessage",t,s),t==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):t==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):t==="c"?this.onListenRevoked_(s.p,s.q):t==="ac"?this.onAuthRevoked_(s.s,s.d):t==="apc"?this.onAppCheckRevoked_(s.s,s.d):t==="sd"?this.onSecurityDebugPacket_(s):$d("Unrecognized action received from server: "+St(t)+`
Are you using the latest client?`)}onReady_(t,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cR&&(this.reconnectDelay_=Hr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-t);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+oi.nextConnectionId_++,c=this.lastSessionId;let d=!1,h=null;const m=function(){h?h.close():(d=!0,r())},g=function(v){Q(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(v)};this.realtime_={close:m,sendRequest:g};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,b]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);d?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=b&&b.token,h=new nR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,s,r,T=>{Ut(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(fR)},c))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&Ut(v),m())}}}interrupt(t){bt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){bt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Xd(this.interruptReasons_)&&(this.reconnectDelay_=Hr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const s=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const s=this.outstandingPuts_[t];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,s){let r;s?r=s.map(c=>Nh(c)).join("$"):r="default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,s){const r=new Me(t).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(s),c.delete(s),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,s){bt("Auth token revoked: "+t+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=i_&&(this.reconnectDelay_=n_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,s){bt("App check token revoked: "+t+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=i_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const s of t.values())this.sendListen_(s);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let s="js";t["sdk."+s+"."+zb.replace(/\./g,"-")]=1,xb()?t["framework.cordova"]=1:Vw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=mu.getInstance().currentlyOnline();return Xd(this.interruptReasons_)&&t}}oi.nextPersistentConnectionId_=0;oi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t,s){this.name=t,this.node=s}static Wrap(t,s){return new pe(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,s){const r=new pe(Rl,t),o=new pe(Rl,s);return this.compare(r,o)!==0}minPost(){return pe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;class r0 extends Hu{static get __EMPTY_NODE(){return Qo}static set __EMPTY_NODE(t){Qo=t}compare(t,s){return As(t.name,s.name)}isDefinedOn(t){throw Ul("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,s){return!1}minPost(){return pe.MIN}maxPost(){return new pe(Es,Qo)}makePost(t,s){return Q(typeof t=="string","KeyIndex indexValue must always be a string."),new pe(t,Qo)}toString(){return".key"}}const Cl=new r0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,s,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=s?r(t.key,s):1,o&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(t.key,t.value):s={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class _t{constructor(t,s,r,o,c){this.key=t,this.value=s,this.color=r??_t.RED,this.left=o??Qt.EMPTY_NODE,this.right=c??Qt.EMPTY_NODE}copy(t,s,r,o,c){return new _t(t??this.key,s??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,r){let o=this;const c=r(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,s,r),null):c===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,s){let r,o;if(r=this,s(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(t,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}_t.RED=!0;_t.BLACK=!1;class dR{copy(t,s,r,o,c){return this}insert(t,s,r){return new _t(t,s,null)}remove(t,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Qt{constructor(t,s=Qt.EMPTY_NODE){this.comparator_=t,this.root_=s}insert(t,s){return new Qt(this.comparator_,this.root_.insert(t,s,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(t){return new Qt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(t){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(t,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(t){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(t,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,s){return new Xo(this.root_,t,this.comparator_,!1,s)}getReverseIteratorFrom(t,s){return new Xo(this.root_,t,this.comparator_,!0,s)}getReverseIterator(t){return new Xo(this.root_,null,this.comparator_,!0,t)}}Qt.EMPTY_NODE=new dR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(i,t){return As(i.name,t.name)}function Lh(i,t){return As(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh;function gR(i){eh=i}const a0=function(i){return typeof i=="number"?"number:"+jb(i):"string:"+i},o0=function(i){if(i.isLeafNode()){const t=i.val();Q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Hn(t,".sv"),"Priority must be a string or number.")}else Q(i===eh||i.isEmpty(),"priority of unexpected type.");Q(i===eh||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s_;class yt{static set __childrenNodeConstructor(t){s_=t}static get __childrenNodeConstructor(){return s_}constructor(t,s=yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=s,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),o0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new yt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return me(t)?this:de(t)===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,s){return null}updateImmediateChild(t,s){return t===".priority"?this.updatePriority(s):s.isEmpty()&&t!==".priority"?this:yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,s).updatePriority(this.priorityNode_)}updateChild(t,s){const r=de(t);return r===null?s:s.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Qi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(t),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,s){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+a0(this.priorityNode_.val())+":");const s=typeof this.value_;t+=s+":",s==="number"?t+=jb(this.value_):t+=this.value_,this.lazyHash_=Lb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===yt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof yt.__childrenNodeConstructor?-1:(Q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const s=typeof t.value_,r=typeof this.value_,o=yt.VALUE_TYPE_ORDER.indexOf(s),c=yt.VALUE_TYPE_ORDER.indexOf(r);return Q(o>=0,"Unknown leaf type: "+s),Q(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const s=t;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0,c0;function mR(i){u0=i}function pR(i){c0=i}class yR extends Hu{compare(t,s){const r=t.node.getPriority(),o=s.node.getPriority(),c=r.compareTo(o);return c===0?As(t.name,s.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,s){return!t.getPriority().equals(s.getPriority())}minPost(){return pe.MIN}maxPost(){return new pe(Es,new yt("[PRIORITY-POST]",c0))}makePost(t,s){const r=u0(t);return new pe(s,new yt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Fe=new yR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=Math.log(2);class _R{constructor(t){const s=c=>parseInt(Math.log(c)/vR,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=s(t+1),this.current_=this.count-1;const o=r(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pu=function(i,t,s,r){i.sort(t);const o=function(m,g){const y=g-m;let v,b;if(y===0)return null;if(y===1)return v=i[m],b=s?s(v):v,new _t(b,v.node,_t.BLACK,null,null);{const T=parseInt(y/2,10)+m,O=o(m,T),z=o(T+1,g);return v=i[T],b=s?s(v):v,new _t(b,v.node,_t.BLACK,O,z)}},c=function(m){let g=null,y=null,v=i.length;const b=function(O,z){const L=v-O,X=v;v-=O;const F=o(L+1,X),G=i[L],Y=s?s(G):G;T(new _t(Y,G.node,z,null,F))},T=function(O){g?(g.left=O,g=O):(y=O,g=O)};for(let O=0;O<m.count;++O){const z=m.nextBitIsOne(),L=Math.pow(2,m.count-(O+1));z?b(L,_t.BLACK):(b(L,_t.BLACK),b(L,_t.RED))}return y},d=new _R(i.length),h=c(d);return new Qt(r||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const yl={};class ri{static get Default(){return Q(yl&&Fe,"ChildrenNode.ts has not been loaded"),Od=Od||new ri({".priority":yl},{".priority":Fe}),Od}constructor(t,s){this.indexes_=t,this.indexSet_=s}get(t){const s=xl(this.indexes_,t);if(!s)throw new Error("No index defined for "+t);return s instanceof Qt?s:null}hasIndex(t){return Hn(this.indexSet_,t.toString())}addIndex(t,s){Q(t!==Cl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=s.getIterator(pe.Wrap);let d=c.getNext();for(;d;)o=o||t.isDefinedOn(d.node),r.push(d),d=c.getNext();let h;o?h=pu(r,t.getCompare()):h=yl;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const y=Object.assign({},this.indexes_);return y[m]=h,new ri(y,g)}addToIndexes(t,s){const r=cu(this.indexes_,(o,c)=>{const d=xl(this.indexSet_,c);if(Q(d,"Missing index implementation for "+c),o===yl)if(d.isDefinedOn(t.node)){const h=[],m=s.getIterator(pe.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&h.push(g),g=m.getNext();return h.push(t),pu(h,d.getCompare())}else return yl;else{const h=s.get(t.name);let m=o;return h&&(m=m.remove(new pe(t.name,h))),m.insert(t,t.node)}});return new ri(r,this.indexSet_)}removeFromIndexes(t,s){const r=cu(this.indexes_,o=>{if(o===yl)return o;{const c=s.get(t.name);return c?o.remove(new pe(t.name,c)):o}});return new ri(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;class oe{static get EMPTY_NODE(){return qr||(qr=new oe(new Qt(Lh),null,ri.Default))}constructor(t,s,r){this.children_=t,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&o0(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qr}updatePriority(t){return this.children_.isEmpty()?this:new oe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const s=this.children_.get(t);return s===null?qr:s}}getChild(t){const s=de(t);return s===null?this:this.getImmediateChild(s).getChild(Be(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,s){if(Q(s,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(s);{const r=new pe(t,s);let o,c;s.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,s),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?qr:this.priorityNode_;return new oe(o,d,c)}}updateChild(t,s){const r=de(t);if(r===null)return s;{Q(de(t)!==".priority"||Qi(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Be(t),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const s={};let r=0,o=0,c=!0;if(this.forEachChild(Fe,(d,h)=>{s[d]=h.val(t),r++,c&&oe.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!t&&c&&o<2*r){const d=[];for(const h in s)d[h]=s[h];return d}else return t&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+a0(this.getPriority().val())+":"),this.forEachChild(Fe,(s,r)=>{const o=r.hash();o!==""&&(t+=":"+s+":"+o)}),this.lazyHash_=t===""?"":Lb(t)}return this.lazyHash_}getPredecessorChildName(t,s,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new pe(t,s));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const s=this.resolveIndex_(t);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const s=this.getFirstChildName(t);return s?new pe(s,this.children_.get(s)):null}getLastChildName(t){const s=this.resolveIndex_(t);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const s=this.getLastChildName(t);return s?new pe(s,this.children_.get(s)):null}forEachChild(t,s){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,pe.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,pe.Wrap);let c=o.peek();for(;c!=null&&s.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Sa?-1:0}withIndex(t){if(t===Cl||this.indexMap_.hasIndex(t))return this;{const s=this.indexMap_.addIndex(t,this.children_);return new oe(this.children_,this.priorityNode_,s)}}isIndexed(t){return t===Cl||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const s=t;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Fe),o=s.getIterator(Fe);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===Cl?null:this.indexMap_.get(t.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bR extends oe{constructor(){super(new Qt(Lh),oe.EMPTY_NODE,ri.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return oe.EMPTY_NODE}isEmpty(){return!1}}const Sa=new bR;Object.defineProperties(pe,{MIN:{value:new pe(Rl,oe.EMPTY_NODE)},MAX:{value:new pe(Es,Sa)}});r0.__EMPTY_NODE=oe.EMPTY_NODE;yt.__childrenNodeConstructor=oe;gR(Sa);pR(Sa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=!0;function tt(i,t=null){if(i===null)return oe.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),Q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new yt(s,tt(t))}if(!(i instanceof Array)&&SR){const s=[];let r=!1;if(Et(i,(d,h)=>{if(d.substring(0,1)!=="."){const m=tt(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new pe(d,m)))}}),s.length===0)return oe.EMPTY_NODE;const c=pu(s,hR,d=>d.name,Lh);if(r){const d=pu(s,Fe.getCompare());return new oe(c,tt(t),new ri({".priority":d},{".priority":Fe}))}else return new oe(c,tt(t),ri.Default)}else{let s=oe.EMPTY_NODE;return Et(i,(r,o)=>{if(Hn(i,r)&&r.substring(0,1)!=="."){const c=tt(o);(c.isLeafNode()||!c.isEmpty())&&(s=s.updateImmediateChild(r,c))}}),s.updatePriority(tt(t))}}mR(tt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends Hu{constructor(t){super(),this.indexPath_=t,Q(!me(t)&&de(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,s){const r=this.extractChild(t.node),o=this.extractChild(s.node),c=r.compareTo(o);return c===0?As(t.name,s.name):c}makePost(t,s){const r=tt(t),o=oe.EMPTY_NODE.updateChild(this.indexPath_,r);return new pe(s,o)}maxPost(){const t=oe.EMPTY_NODE.updateChild(this.indexPath_,Sa);return new pe(Es,t)}toString(){return ua(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends Hu{compare(t,s){const r=t.node.compareTo(s.node);return r===0?As(t.name,s.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,s){return!t.equals(s)}minPost(){return pe.MIN}maxPost(){return pe.MAX}makePost(t,s){const r=tt(t);return new pe(s,r)}toString(){return".value"}}const TR=new CR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){return{type:"value",snapshotNode:i}}function Dl(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ca(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function fa(i,t,s){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:s}}function wR(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t){this.index_=t}updateChild(t,s,r,o,c,d){Q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(s);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?t.hasChild(s)?d.trackChildChange(ca(s,h)):Q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Dl(s,r)):d.trackChildChange(fa(s,r,h))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(t,s,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Fe,(o,c)=>{s.hasChild(o)||r.trackChildChange(ca(o,c))}),s.isLeafNode()||s.forEachChild(Fe,(o,c)=>{if(t.hasChild(o)){const d=t.getImmediateChild(o);d.equals(c)||r.trackChildChange(fa(o,c,d))}else r.trackChildChange(Dl(o,c))})),s.withIndex(this.index_)}updatePriority(t,s){return t.isEmpty()?oe.EMPTY_NODE:t.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t){this.indexedFilter_=new Bh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=da.getStartPost_(t),this.endPost_=da.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return s&&r}updateChild(t,s,r,o,c,d){return this.matches(new pe(s,r))||(r=oe.EMPTY_NODE),this.indexedFilter_.updateChild(t,s,r,o,c,d)}updateFullNode(t,s,r){s.isLeafNode()&&(s=oe.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const c=this;return s.forEachChild(Fe,(d,h)=>{c.matches(new pe(d,h))||(o=o.updateImmediateChild(d,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,s){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const s=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),s)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const s=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),s)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new da(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,s,r,o,c,d){return this.rangedFilter_.matches(new pe(s,r))||(r=oe.EMPTY_NODE),t.getImmediateChild(s).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,s,r,o,c,d):this.fullLimitUpdateChild_(t,s,r,c,d)}updateFullNode(t,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const h=c.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,s){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,s,r,o,c){let d;if(this.reverse_){const v=this.index_.getCompare();d=(b,T)=>v(T,b)}else d=this.index_.getCompare();const h=t;Q(h.numChildren()===this.limit_,"");const m=new pe(s,r),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(s)){const v=h.getImmediateChild(s);let b=o.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===s||h.hasChild(b.name));)b=o.getChildAfterChild(this.index_,b,this.reverse_);const T=b==null?1:d(b,m);if(y&&!r.isEmpty()&&T>=0)return c!=null&&c.trackChildChange(fa(s,r,v)),h.updateImmediateChild(s,r);{c!=null&&c.trackChildChange(ca(s,v));const z=h.updateImmediateChild(s,oe.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(c!=null&&c.trackChildChange(Dl(b.name,b.node)),z.updateImmediateChild(b.name,b.node)):z}}else return r.isEmpty()?t:y&&d(g,m)>=0?(c!=null&&(c.trackChildChange(ca(g.name,g.node)),c.trackChildChange(Dl(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(g.name,oe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rl}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const t=new jh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function AR(i){return i.loadsAllData()?new Bh(i.getIndex()):i.hasLimit()?new xR(i):new da(i)}function l_(i){const t={};if(i.isDefault())return t;let s;if(i.index_===Fe?s="$priority":i.index_===TR?s="$value":i.index_===Cl?s="$key":(Q(i.index_ instanceof ER,"Unrecognized index type!"),s=i.index_.toString()),t.orderBy=St(s),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";t[r]=St(i.indexStartValue_),i.startNameSet_&&(t[r]+=","+St(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";t[r]=St(i.indexEndValue_),i.endNameSet_&&(t[r]+=","+St(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function r_(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),t.vf=s}return i.index_!==Fe&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends n0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,s){return s!==void 0?"tag$"+s:(Q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,s,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ba("p:rest:"),this.listens_={}}listen(t,s,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=yu.getListenId_(t,r),h={};this.listens_[d]=h;const m=l_(t._queryParams);this.restRequest_(c+".json",m,(g,y)=>{let v=y;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(c,v,!1,r),xl(this.listens_,d)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",o(b,null)}})}unlisten(t,s){const r=yu.getListenId_(t,s);delete this.listens_[r]}get(t){const s=l_(t._queryParams),r=t._path.toString(),o=new jn;return this.restRequest_(r+".json",s,(c,d)=>{let h=d;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(t){}restRequest_(t,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(s.auth=o.accessToken),c&&c.token&&(s.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Jw(s);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=la(h.responseText)}catch{Ut("Failed to parse JSON response for "+d+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&Ut("Got unsuccessful REST response for "+d+" Status: "+h.status),r(h.status);r=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,s){this.rootNode_=this.rootNode_.updateChild(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(){return{value:null,children:new Map}}function jl(i,t,s){if(me(t))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,s);else{const r=de(t);i.children.has(r)||i.children.set(r,vu());const o=i.children.get(r);t=Be(t),jl(o,t,s)}}function th(i,t){if(me(t))return i.value=null,i.children.clear(),!0;if(i.value!==null){if(i.value.isLeafNode())return!1;{const s=i.value;return i.value=null,s.forEachChild(Fe,(r,o)=>{jl(i,new Me(r),o)}),th(i,t)}}else if(i.children.size>0){const s=de(t);return t=Be(t),i.children.has(s)&&th(i.children.get(s),t)&&i.children.delete(s),i.children.size===0}else return!0}function nh(i,t,s){i.value!==null?s(t,i.value):DR(i,(r,o)=>{const c=new Me(t.toString()+"/"+r);nh(o,c,s)})}function DR(i,t){i.children.forEach((s,r)=>{t(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),s=Object.assign({},t);return this.last_&&Et(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=10*1e3,OR=30*1e3,MR=5*60*1e3;class kR{constructor(t,s){this.server_=s,this.statsToReport_={},this.statsListener_=new NR(t);const r=a_+(OR-a_)*Math.random();Zr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),s={};let r=!1;Et(t,(o,c)=>{c>0&&Hn(this.statsToReport_,o)&&(s[o]=c,r=!0)}),r&&this.server_.reportStats(s),Zr(this.reportStats_.bind(this),Math.floor(Math.random()*2*MR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wn||(wn={}));function Hh(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t,s,r){this.path=t,this.affectedTree=s,this.revert=r,this.type=wn.ACK_USER_WRITE,this.source=Hh()}operationForChild(t){if(me(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Me(t));return new _u(Re(),s,this.revert)}}else return Q(de(this.path)===t,"operationForChild called for unrelated child."),new _u(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,s){this.source=t,this.path=s,this.type=wn.LISTEN_COMPLETE}operationForChild(t){return me(this.path)?new ha(this.source,Re()):new ha(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,s,r){this.source=t,this.path=s,this.snap=r,this.type=wn.OVERWRITE}operationForChild(t){return me(this.path)?new Cs(this.source,Re(),this.snap.getImmediateChild(t)):new Cs(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,s,r){this.source=t,this.path=s,this.children=r,this.type=wn.MERGE}operationForChild(t){if(me(this.path)){const s=this.children.subtree(new Me(t));return s.isEmpty()?null:s.value?new Cs(this.source,Re(),s.value):new Nl(this.source,Re(),s)}else return Q(de(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Nl(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,s,r){this.node_=t,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(me(t))return this.isFullyInitialized()&&!this.filtered_;const s=de(t);return this.isCompleteForChild(s)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zR(i,t,s,r){const o=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(wR(d.childName,d.snapshotNode))}),Yr(i,o,"child_removed",t,r,s),Yr(i,o,"child_added",t,r,s),Yr(i,o,"child_moved",c,r,s),Yr(i,o,"child_changed",t,r,s),Yr(i,o,"value",t,r,s),o}function Yr(i,t,s,r,o,c){const d=r.filter(h=>h.type===s);d.sort((h,m)=>LR(i,h,m)),d.forEach(h=>{const m=UR(i,h,c);o.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(m,i.query_))})})}function UR(i,t,s){return t.type==="value"||t.type==="child_removed"||(t.prevName=s.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function LR(i,t,s){if(t.childName==null||s.childName==null)throw Ul("Should only compare child_ events.");const r=new pe(t.childName,t.snapshotNode),o=new pe(s.childName,s.snapshotNode);return i.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(i,t){return{eventCache:i,serverCache:t}}function Wr(i,t,s,r){return qu(new Ts(t,s,r),i.serverCache)}function d0(i,t,s,r){return qu(i.eventCache,new Ts(t,s,r))}function ih(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ws(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md;const BR=()=>(Md||(Md=new Qt(EA)),Md);class qe{static fromObject(t){let s=new qe(null);return Et(t,(r,o)=>{s=s.set(new Me(r),o)}),s}constructor(t,s=BR()){this.value=t,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,s){if(this.value!=null&&s(this.value))return{path:Re(),value:this.value};if(me(t))return null;{const r=de(t),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Be(t),s);return c!=null?{path:Pe(new Me(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(me(t))return this;{const s=de(t),r=this.children.get(s);return r!==null?r.subtree(Be(t)):new qe(null)}}set(t,s){if(me(t))return new qe(s,this.children);{const r=de(t),c=(this.children.get(r)||new qe(null)).set(Be(t),s),d=this.children.insert(r,c);return new qe(this.value,d)}}remove(t){if(me(t))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const s=de(t),r=this.children.get(s);if(r){const o=r.remove(Be(t));let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),this.value===null&&c.isEmpty()?new qe(null):new qe(this.value,c)}else return this}}get(t){if(me(t))return this.value;{const s=de(t),r=this.children.get(s);return r?r.get(Be(t)):null}}setTree(t,s){if(me(t))return s;{const r=de(t),c=(this.children.get(r)||new qe(null)).setTree(Be(t),s);let d;return c.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,c),new qe(this.value,d)}}fold(t){return this.fold_(Re(),t)}fold_(t,s){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Pe(t,o),s)}),s(t,this.value,r)}findOnPath(t,s){return this.findOnPath_(t,Re(),s)}findOnPath_(t,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(me(t))return null;{const c=de(t),d=this.children.get(c);return d?d.findOnPath_(Be(t),Pe(s,c),r):null}}foreachOnPath(t,s){return this.foreachOnPath_(t,Re(),s)}foreachOnPath_(t,s,r){if(me(t))return this;{this.value&&r(s,this.value);const o=de(t),c=this.children.get(o);return c?c.foreachOnPath_(Be(t),Pe(s,o),r):new qe(null)}}foreach(t){this.foreach_(Re(),t)}foreach_(t,s){this.children.inorderTraversal((r,o)=>{o.foreach_(Pe(t,r),s)}),this.value&&s(t,this.value)}foreachChild(t){this.children.inorderTraversal((s,r)=>{r.value&&t(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.writeTree_=t}static empty(){return new xn(new qe(null))}}function $r(i,t,s){if(me(t))return new xn(new qe(s));{const r=i.writeTree_.findRootMostValueAndPath(t);if(r!=null){const o=r.path;let c=r.value;const d=Vt(o,t);return c=c.updateChild(d,s),new xn(i.writeTree_.set(o,c))}else{const o=new qe(s),c=i.writeTree_.setTree(t,o);return new xn(c)}}}function sh(i,t,s){let r=i;return Et(s,(o,c)=>{r=$r(r,Pe(t,o),c)}),r}function o_(i,t){if(me(t))return xn.empty();{const s=i.writeTree_.setTree(t,new qe(null));return new xn(s)}}function lh(i,t){return Rs(i,t)!=null}function Rs(i,t){const s=i.writeTree_.findRootMostValueAndPath(t);return s!=null?i.writeTree_.get(s.path).getChild(Vt(s.path,t)):null}function u_(i){const t=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Fe,(r,o)=>{t.push(new pe(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&t.push(new pe(r,o.value))}),t}function Yi(i,t){if(me(t))return i;{const s=Rs(i,t);return s!=null?new xn(new qe(s)):new xn(i.writeTree_.subtree(t))}}function rh(i){return i.writeTree_.isEmpty()}function Ol(i,t){return h0(Re(),i.writeTree_,t)}function h0(i,t,s){if(t.value!=null)return s.updateChild(i,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(Q(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):s=h0(Pe(i,o),c,s)}),!s.getChild(i).isEmpty()&&r!==null&&(s=s.updateChild(Pe(i,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i,t){return y0(t,i)}function jR(i,t,s,r,o){Q(r>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:t,snap:s,writeId:r,visible:o}),o&&(i.visibleWrites=$r(i.visibleWrites,t,s)),i.lastWriteId=r}function HR(i,t,s,r){Q(r>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:s,writeId:r,visible:!0}),i.visibleWrites=sh(i.visibleWrites,t,s),i.lastWriteId=r}function qR(i,t){for(let s=0;s<i.allWrites.length;s++){const r=i.allWrites[s];if(r.writeId===t)return r}return null}function YR(i,t){const s=i.allWrites.findIndex(h=>h.writeId===t);Q(s>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[s];i.allWrites.splice(s,1);let o=r.visible,c=!1,d=i.allWrites.length-1;for(;o&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=s&&GR(h,r.path)?o=!1:pn(r.path,h.path)&&(c=!0)),d--}if(o){if(c)return VR(i),!0;if(r.snap)i.visibleWrites=o_(i.visibleWrites,r.path);else{const h=r.children;Et(h,m=>{i.visibleWrites=o_(i.visibleWrites,Pe(r.path,m))})}return!0}else return!1}function GR(i,t){if(i.snap)return pn(i.path,t);for(const s in i.children)if(i.children.hasOwnProperty(s)&&pn(Pe(i.path,s),t))return!0;return!1}function VR(i){i.visibleWrites=g0(i.allWrites,QR,Re()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function QR(i){return i.visible}function g0(i,t,s){let r=xn.empty();for(let o=0;o<i.length;++o){const c=i[o];if(t(c)){const d=c.path;let h;if(c.snap)pn(s,d)?(h=Vt(s,d),r=$r(r,h,c.snap)):pn(d,s)&&(h=Vt(d,s),r=$r(r,Re(),c.snap.getChild(h)));else if(c.children){if(pn(s,d))h=Vt(s,d),r=sh(r,h,c.children);else if(pn(d,s))if(h=Vt(d,s),me(h))r=sh(r,Re(),c.children);else{const m=xl(c.children,de(h));if(m){const g=m.getChild(Be(h));r=$r(r,Re(),g)}}}else throw Ul("WriteRecord should have .snap or .children")}}return r}function m0(i,t,s,r,o){if(!r&&!o){const c=Rs(i.visibleWrites,t);if(c!=null)return c;{const d=Yi(i.visibleWrites,t);if(rh(d))return s;if(s==null&&!lh(d,Re()))return null;{const h=s||oe.EMPTY_NODE;return Ol(d,h)}}}else{const c=Yi(i.visibleWrites,t);if(!o&&rh(c))return s;if(!o&&s==null&&!lh(c,Re()))return null;{const d=function(g){return(g.visible||o)&&(!r||!~r.indexOf(g.writeId))&&(pn(g.path,t)||pn(t,g.path))},h=g0(i.allWrites,d,t),m=s||oe.EMPTY_NODE;return Ol(h,m)}}}function XR(i,t,s){let r=oe.EMPTY_NODE;const o=Rs(i.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Fe,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(s){const c=Yi(i.visibleWrites,t);return s.forEachChild(Fe,(d,h)=>{const m=Ol(Yi(c,new Me(d)),h);r=r.updateImmediateChild(d,m)}),u_(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const c=Yi(i.visibleWrites,t);return u_(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function KR(i,t,s,r,o){Q(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Pe(t,s);if(lh(i.visibleWrites,c))return null;{const d=Yi(i.visibleWrites,c);return rh(d)?o.getChild(s):Ol(d,o.getChild(s))}}function PR(i,t,s,r){const o=Pe(t,s),c=Rs(i.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(s)){const d=Yi(i.visibleWrites,o);return Ol(d,r.getNode().getImmediateChild(s))}else return null}function FR(i,t){return Rs(i.visibleWrites,t)}function ZR(i,t,s,r,o,c,d){let h;const m=Yi(i.visibleWrites,t),g=Rs(m,Re());if(g!=null)h=g;else if(s!=null)h=Ol(m,s);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const y=[],v=d.getCompare(),b=c?h.getReverseIteratorFrom(r,d):h.getIteratorFrom(r,d);let T=b.getNext();for(;T&&y.length<o;)v(T,r)!==0&&y.push(T),T=b.getNext();return y}else return[]}function WR(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}function bu(i,t,s,r){return m0(i.writeTree,i.treePath,t,s,r)}function Vh(i,t){return XR(i.writeTree,i.treePath,t)}function c_(i,t,s,r){return KR(i.writeTree,i.treePath,t,s,r)}function Su(i,t){return FR(i.writeTree,Pe(i.treePath,t))}function $R(i,t,s,r,o,c){return ZR(i.writeTree,i.treePath,t,s,r,o,c)}function Qh(i,t,s){return PR(i.writeTree,i.treePath,t,s)}function p0(i,t){return y0(Pe(i.treePath,t),i.writeTree)}function y0(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.changeMap=new Map}trackChildChange(t){const s=t.type,r=t.childName;Q(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(s==="child_added"&&c==="child_removed")this.changeMap.set(r,fa(r,t.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&c==="child_changed")this.changeMap.set(r,ca(r,o.oldSnap));else if(s==="child_changed"&&c==="child_added")this.changeMap.set(r,Dl(r,t.snapshotNode));else if(s==="child_changed"&&c==="child_changed")this.changeMap.set(r,fa(r,t.snapshotNode,o.oldSnap));else throw Ul("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{getCompleteChild(t){return null}getChildAfterChild(t,s,r){return null}}const v0=new eD;class Xh{constructor(t,s,r=null){this.writes_=t,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(t){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(t))return s.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qh(this.writes_,t,r)}}getChildAfterChild(t,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ws(this.viewCache_),c=$R(this.writes_,o,s,1,r,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i){return{filter:i}}function nD(i,t){Q(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Q(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function iD(i,t,s,r,o){const c=new JR;let d,h;if(s.type===wn.OVERWRITE){const g=s;g.source.fromUser?d=ah(i,t,g.path,g.snap,r,o,c):(Q(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!me(g.path),d=Eu(i,t,g.path,g.snap,r,o,h,c))}else if(s.type===wn.MERGE){const g=s;g.source.fromUser?d=lD(i,t,g.path,g.children,r,o,c):(Q(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),d=oh(i,t,g.path,g.children,r,o,h,c))}else if(s.type===wn.ACK_USER_WRITE){const g=s;g.revert?d=oD(i,t,g.path,r,o,c):d=rD(i,t,g.path,g.affectedTree,r,o,c)}else if(s.type===wn.LISTEN_COMPLETE)d=aD(i,t,s.path,r,c);else throw Ul("Unknown operation type: "+s.type);const m=c.getChanges();return sD(t,d,m),{viewCache:d,changes:m}}function sD(i,t,s){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=ih(i);(s.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&s.push(f0(ih(t)))}}function _0(i,t,s,r,o,c){const d=t.eventCache;if(Su(r,s)!=null)return t;{let h,m;if(me(s))if(Q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ws(t),y=g instanceof oe?g:oe.EMPTY_NODE,v=Vh(r,y);h=i.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const g=bu(r,ws(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=de(s);if(g===".priority"){Q(Qi(s)===1,"Can't have a priority with additional path components");const y=d.getNode();m=t.serverCache.getNode();const v=c_(r,s,y,m);v!=null?h=i.filter.updatePriority(y,v):h=d.getNode()}else{const y=Be(s);let v;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const b=c_(r,s,d.getNode(),m);b!=null?v=d.getNode().getImmediateChild(g).updateChild(y,b):v=d.getNode().getImmediateChild(g)}else v=Qh(r,g,t.serverCache);v!=null?h=i.filter.updateChild(d.getNode(),g,v,y,o,c):h=d.getNode()}}return Wr(t,h,d.isFullyInitialized()||me(s),i.filter.filtersNodes())}}function Eu(i,t,s,r,o,c,d,h){const m=t.serverCache;let g;const y=d?i.filter:i.filter.getIndexedFilter();if(me(s))g=y.updateFullNode(m.getNode(),r,null);else if(y.filtersNodes()&&!m.isFiltered()){const T=m.getNode().updateChild(s,r);g=y.updateFullNode(m.getNode(),T,null)}else{const T=de(s);if(!m.isCompleteForPath(s)&&Qi(s)>1)return t;const O=Be(s),L=m.getNode().getImmediateChild(T).updateChild(O,r);T===".priority"?g=y.updatePriority(m.getNode(),L):g=y.updateChild(m.getNode(),T,L,O,v0,null)}const v=d0(t,g,m.isFullyInitialized()||me(s),y.filtersNodes()),b=new Xh(o,v,c);return _0(i,v,s,o,b,h)}function ah(i,t,s,r,o,c,d){const h=t.eventCache;let m,g;const y=new Xh(o,t,c);if(me(s))g=i.filter.updateFullNode(t.eventCache.getNode(),r,d),m=Wr(t,g,!0,i.filter.filtersNodes());else{const v=de(s);if(v===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),r),m=Wr(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=Be(s),T=h.getNode().getImmediateChild(v);let O;if(me(b))O=r;else{const z=y.getCompleteChild(v);z!=null?Ih(b)===".priority"&&z.getChild(s0(b)).isEmpty()?O=z:O=z.updateChild(b,r):O=oe.EMPTY_NODE}if(T.equals(O))m=t;else{const z=i.filter.updateChild(h.getNode(),v,O,b,y,d);m=Wr(t,z,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function f_(i,t){return i.eventCache.isCompleteForChild(t)}function lD(i,t,s,r,o,c,d){let h=t;return r.foreach((m,g)=>{const y=Pe(s,m);f_(t,de(y))&&(h=ah(i,h,y,g,o,c,d))}),r.foreach((m,g)=>{const y=Pe(s,m);f_(t,de(y))||(h=ah(i,h,y,g,o,c,d))}),h}function d_(i,t,s){return s.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function oh(i,t,s,r,o,c,d,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;me(s)?g=r:g=new qe(null).setTree(s,r);const y=t.serverCache.getNode();return g.children.inorderTraversal((v,b)=>{if(y.hasChild(v)){const T=t.serverCache.getNode().getImmediateChild(v),O=d_(i,T,b);m=Eu(i,m,new Me(v),O,o,c,d,h)}}),g.children.inorderTraversal((v,b)=>{const T=!t.serverCache.isCompleteForChild(v)&&b.value===null;if(!y.hasChild(v)&&!T){const O=t.serverCache.getNode().getImmediateChild(v),z=d_(i,O,b);m=Eu(i,m,new Me(v),z,o,c,d,h)}}),m}function rD(i,t,s,r,o,c,d){if(Su(o,s)!=null)return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(r.value!=null){if(me(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return Eu(i,t,s,m.getNode().getChild(s),o,c,h,d);if(me(s)){let g=new qe(null);return m.getNode().forEachChild(Cl,(y,v)=>{g=g.set(new Me(y),v)}),oh(i,t,s,g,o,c,h,d)}else return t}else{let g=new qe(null);return r.foreach((y,v)=>{const b=Pe(s,y);m.isCompleteForPath(b)&&(g=g.set(y,m.getNode().getChild(b)))}),oh(i,t,s,g,o,c,h,d)}}function aD(i,t,s,r,o){const c=t.serverCache,d=d0(t,c.getNode(),c.isFullyInitialized()||me(s),c.isFiltered());return _0(i,d,s,r,v0,o)}function oD(i,t,s,r,o,c){let d;if(Su(r,s)!=null)return t;{const h=new Xh(r,t,o),m=t.eventCache.getNode();let g;if(me(s)||de(s)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=bu(r,ws(t));else{const v=t.serverCache.getNode();Q(v instanceof oe,"serverChildren would be complete if leaf node"),y=Vh(r,v)}y=y,g=i.filter.updateFullNode(m,y,c)}else{const y=de(s);let v=Qh(r,y,t.serverCache);v==null&&t.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?g=i.filter.updateChild(m,y,v,Be(s),h,c):t.eventCache.getNode().hasChild(y)?g=i.filter.updateChild(m,y,oe.EMPTY_NODE,Be(s),h,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=bu(r,ws(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||Su(r,Re())!=null,Wr(t,g,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,s){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Bh(r.getIndex()),c=AR(r);this.processor_=tD(c);const d=s.serverCache,h=s.eventCache,m=o.updateFullNode(oe.EMPTY_NODE,d.getNode(),null),g=c.updateFullNode(oe.EMPTY_NODE,h.getNode(),null),y=new Ts(m,d.isFullyInitialized(),o.filtersNodes()),v=new Ts(g,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=qu(v,y),this.eventGenerator_=new IR(this.query_)}get query(){return this.query_}}function cD(i){return i.viewCache_.serverCache.getNode()}function fD(i,t){const s=ws(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!me(t)&&!s.getImmediateChild(de(t)).isEmpty())?s.getChild(t):null}function h_(i){return i.eventRegistrations_.length===0}function dD(i,t){i.eventRegistrations_.push(t)}function g_(i,t,s){const r=[];if(s){Q(t==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(s,o);d&&r.push(d)})}if(t){let o=[];for(let c=0;c<i.eventRegistrations_.length;++c){const d=i.eventRegistrations_[c];if(!d.matches(t))o.push(d);else if(t.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return r}function m_(i,t,s,r){t.type===wn.MERGE&&t.source.queryId!==null&&(Q(ws(i.viewCache_),"We should always have a full cache before handling merges"),Q(ih(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,c=iD(i.processor_,o,t,s,r);return nD(i.processor_,c.viewCache),Q(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,b0(i,c.changes,c.viewCache.eventCache.getNode(),null)}function hD(i,t){const s=i.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Fe,(c,d)=>{r.push(Dl(c,d))}),s.isFullyInitialized()&&r.push(f0(s.getNode())),b0(i,r,s.getNode(),t)}function b0(i,t,s,r){const o=r?[r]:i.eventRegistrations_;return zR(i.eventGenerator_,t,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;class gD{constructor(){this.views=new Map}}function mD(i){Q(!Cu,"__referenceConstructor has already been defined"),Cu=i}function pD(){return Q(Cu,"Reference.ts has not been loaded"),Cu}function yD(i){return i.views.size===0}function Kh(i,t,s,r){const o=t.source.queryId;if(o!==null){const c=i.views.get(o);return Q(c!=null,"SyncTree gave us an op for an invalid query."),m_(c,t,s,r)}else{let c=[];for(const d of i.views.values())c=c.concat(m_(d,t,s,r));return c}}function vD(i,t,s,r,o){const c=t._queryIdentifier,d=i.views.get(c);if(!d){let h=bu(s,o?r:null),m=!1;h?m=!0:r instanceof oe?(h=Vh(s,r),m=!1):(h=oe.EMPTY_NODE,m=!1);const g=qu(new Ts(h,m,!1),new Ts(r,o,!1));return new uD(t,g)}return d}function _D(i,t,s,r,o,c){const d=vD(i,t,r,o,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,d),dD(d,s),hD(d,s)}function bD(i,t,s,r){const o=t._queryIdentifier,c=[];let d=[];const h=Xi(i);if(o==="default")for(const[m,g]of i.views.entries())d=d.concat(g_(g,s,r)),h_(g)&&(i.views.delete(m),g.query._queryParams.loadsAllData()||c.push(g.query));else{const m=i.views.get(o);m&&(d=d.concat(g_(m,s,r)),h_(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return h&&!Xi(i)&&c.push(new(pD())(t._repo,t._path)),{removed:c,events:d}}function S0(i){const t=[];for(const s of i.views.values())s.query._queryParams.loadsAllData()||t.push(s);return t}function Tl(i,t){let s=null;for(const r of i.views.values())s=s||fD(r,t);return s}function E0(i,t){if(t._queryParams.loadsAllData())return Yu(i);{const r=t._queryIdentifier;return i.views.get(r)}}function C0(i,t){return E0(i,t)!=null}function Xi(i){return Yu(i)!=null}function Yu(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu;function SD(i){Q(!Tu,"__referenceConstructor has already been defined"),Tu=i}function ED(){return Q(Tu,"Reference.ts has not been loaded"),Tu}let CD=1;class p_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=WR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function T0(i,t,s,r,o){return jR(i.pendingWriteTree_,t,s,r,o),o?Hl(i,new Cs(Hh(),t,s)):[]}function TD(i,t,s,r){HR(i.pendingWriteTree_,t,s,r);const o=qe.fromObject(s);return Hl(i,new Nl(Hh(),t,o))}function ji(i,t,s=!1){const r=qR(i.pendingWriteTree_,t);if(YR(i.pendingWriteTree_,t)){let c=new qe(null);return r.snap!=null?c=c.set(Re(),!0):Et(r.children,d=>{c=c.set(new Me(d),!0)}),Hl(i,new _u(r.path,c,s))}else return[]}function Gu(i,t,s){return Hl(i,new Cs(qh(),t,s))}function wD(i,t,s){const r=qe.fromObject(s);return Hl(i,new Nl(qh(),t,r))}function xD(i,t){return Hl(i,new ha(qh(),t))}function AD(i,t,s){const r=Fh(i,s);if(r){const o=Zh(r),c=o.path,d=o.queryId,h=Vt(c,t),m=new ha(Yh(d),h);return Wh(i,c,m)}else return[]}function uh(i,t,s,r,o=!1){const c=t._path,d=i.syncPointTree_.get(c);let h=[];if(d&&(t._queryIdentifier==="default"||C0(d,t))){const m=bD(d,t,s,r);yD(d)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const g=m.removed;if(h=m.events,!o){const y=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,v=i.syncPointTree_.findOnPath(c,(b,T)=>Xi(T));if(y&&!v){const b=i.syncPointTree_.subtree(c);if(!b.isEmpty()){const T=ND(b);for(let O=0;O<T.length;++O){const z=T[O],L=z.query,X=A0(i,z);i.listenProvider_.startListening(Jr(L),wu(i,L),X.hashFn,X.onComplete)}}}!v&&g.length>0&&!r&&(y?i.listenProvider_.stopListening(Jr(t),null):g.forEach(b=>{const T=i.queryToTagMap.get(Vu(b));i.listenProvider_.stopListening(Jr(b),T)}))}OD(i,g)}return h}function RD(i,t,s,r){const o=Fh(i,r);if(o!=null){const c=Zh(o),d=c.path,h=c.queryId,m=Vt(d,t),g=new Cs(Yh(h),m,s);return Wh(i,d,g)}else return[]}function DD(i,t,s,r){const o=Fh(i,r);if(o){const c=Zh(o),d=c.path,h=c.queryId,m=Vt(d,t),g=qe.fromObject(s),y=new Nl(Yh(h),m,g);return Wh(i,d,y)}else return[]}function y_(i,t,s,r=!1){const o=t._path;let c=null,d=!1;i.syncPointTree_.foreachOnPath(o,(b,T)=>{const O=Vt(b,o);c=c||Tl(T,O),d=d||Xi(T)});let h=i.syncPointTree_.get(o);h?(d=d||Xi(h),c=c||Tl(h,Re())):(h=new gD,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;c!=null?m=!0:(m=!1,c=oe.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((T,O)=>{const z=Tl(O,Re());z&&(c=c.updateImmediateChild(T,z))}));const g=C0(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=Vu(t);Q(!i.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=MD();i.queryToTagMap.set(b,T),i.tagToQueryMap.set(T,b)}const y=Gh(i.pendingWriteTree_,o);let v=_D(h,t,s,y,c,m);if(!g&&!d&&!r){const b=E0(h,t);v=v.concat(kD(i,t,b))}return v}function Ph(i,t,s){const o=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(d,h)=>{const m=Vt(d,t),g=Tl(h,m);if(g)return g});return m0(o,t,c,s,!0)}function Hl(i,t){return w0(t,i.syncPointTree_,null,Gh(i.pendingWriteTree_,Re()))}function w0(i,t,s,r){if(me(i.path))return x0(i,t,s,r);{const o=t.get(Re());s==null&&o!=null&&(s=Tl(o,Re()));let c=[];const d=de(i.path),h=i.operationForChild(d),m=t.children.get(d);if(m&&h){const g=s?s.getImmediateChild(d):null,y=p0(r,d);c=c.concat(w0(h,m,g,y))}return o&&(c=c.concat(Kh(o,i,r,s))),c}}function x0(i,t,s,r){const o=t.get(Re());s==null&&o!=null&&(s=Tl(o,Re()));let c=[];return t.children.inorderTraversal((d,h)=>{const m=s?s.getImmediateChild(d):null,g=p0(r,d),y=i.operationForChild(d);y&&(c=c.concat(x0(y,h,m,g)))}),o&&(c=c.concat(Kh(o,i,r,s))),c}function A0(i,t){const s=t.query,r=wu(i,s);return{hashFn:()=>(cD(t)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?AD(i,s._path,r):xD(i,s._path);{const c=wA(o,s);return uh(i,s,null,c)}}}}function wu(i,t){const s=Vu(t);return i.queryToTagMap.get(s)}function Vu(i){return i._path.toString()+"$"+i._queryIdentifier}function Fh(i,t){return i.tagToQueryMap.get(t)}function Zh(i){const t=i.indexOf("$");return Q(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new Me(i.substr(0,t))}}function Wh(i,t,s){const r=i.syncPointTree_.get(t);Q(r,"Missing sync point for query tag that we're tracking");const o=Gh(i.pendingWriteTree_,t);return Kh(r,s,o,null)}function ND(i){return i.fold((t,s,r)=>{if(s&&Xi(s))return[Yu(s)];{let o=[];return s&&(o=S0(s)),Et(r,(c,d)=>{o=o.concat(d)}),o}})}function Jr(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(ED())(i._repo,i._path):i}function OD(i,t){for(let s=0;s<t.length;++s){const r=t[s];if(!r._queryParams.loadsAllData()){const o=Vu(r),c=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(c)}}}function MD(){return CD++}function kD(i,t,s){const r=t._path,o=wu(i,t),c=A0(i,s),d=i.listenProvider_.startListening(Jr(t),o,c.hashFn,c.onComplete),h=i.syncPointTree_.subtree(r);if(o)Q(!Xi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((g,y,v)=>{if(!me(g)&&y&&Xi(y))return[Yu(y).query];{let b=[];return y&&(b=b.concat(S0(y).map(T=>T.query))),Et(v,(T,O)=>{b=b.concat(O)}),b}});for(let g=0;g<m.length;++g){const y=m[g];i.listenProvider_.stopListening(Jr(y),wu(i,y))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){this.node_=t}getImmediateChild(t){const s=this.node_.getImmediateChild(t);return new $h(s)}node(){return this.node_}}class Jh{constructor(t,s){this.syncTree_=t,this.path_=s}getImmediateChild(t){const s=Pe(this.path_,t);return new Jh(this.syncTree_,s)}node(){return Ph(this.syncTree_,this.path_)}}const ID=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},v_=function(i,t,s){if(!i||typeof i!="object")return i;if(Q(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return zD(i[".sv"],t,s);if(typeof i[".sv"]=="object")return UD(i[".sv"],t);Q(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},zD=function(i,t,s){switch(i){case"timestamp":return s.timestamp;default:Q(!1,"Unexpected server value: "+i)}},UD=function(i,t,s){i.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const o=t.node();if(Q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const d=o.getValue();return typeof d!="number"?r:d+r},R0=function(i,t,s,r){return eg(t,new Jh(s,i),r)},D0=function(i,t,s){return eg(i,new $h(t),s)};function eg(i,t,s){const r=i.getPriority().val(),o=v_(r,t.getImmediateChild(".priority"),s);let c;if(i.isLeafNode()){const d=i,h=v_(d.getValue(),t,s);return h!==d.getValue()||o!==d.getPriority().val()?new yt(h,tt(o)):i}else{const d=i;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new yt(o))),d.forEachChild(Fe,(h,m)=>{const g=eg(m,t.getImmediateChild(h),s);g!==m&&(c=c.updateImmediateChild(h,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t="",s=null,r={children:{},childCount:0}){this.name=t,this.parent=s,this.node=r}}function ng(i,t){let s=t instanceof Me?t:new Me(t),r=i,o=de(s);for(;o!==null;){const c=xl(r.node.children,o)||{children:{},childCount:0};r=new tg(o,r,c),s=Be(s),o=de(s)}return r}function ql(i){return i.node.value}function N0(i,t){i.node.value=t,ch(i)}function O0(i){return i.node.childCount>0}function LD(i){return ql(i)===void 0&&!O0(i)}function Qu(i,t){Et(i.node.children,(s,r)=>{t(new tg(s,i,r))})}function M0(i,t,s,r){s&&t(i),Qu(i,o=>{M0(o,t,!0)})}function BD(i,t,s){let r=i.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ea(i){return new Me(i.parent===null?i.name:Ea(i.parent)+"/"+i.name)}function ch(i){i.parent!==null&&jD(i.parent,i.name,i)}function jD(i,t,s){const r=LD(s),o=Hn(i.node.children,t);r&&o?(delete i.node.children[t],i.node.childCount--,ch(i)):!r&&!o&&(i.node.children[t]=s.node,i.node.childCount++,ch(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/[\[\].#$\/\u0000-\u001F\u007F]/,qD=/[\[\].#$\u0000-\u001F\u007F]/,kd=10*1024*1024,ig=function(i){return typeof i=="string"&&i.length!==0&&!HD.test(i)},k0=function(i){return typeof i=="string"&&i.length!==0&&!qD.test(i)},YD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),k0(i)},I0=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!ju(i)||i&&typeof i=="object"&&Hn(i,".sv")},fh=function(i,t,s,r){Xu(Al(i,"value"),t,s)},Xu=function(i,t,s){const r=s instanceof Me?new lR(s,i):s;if(t===void 0)throw new Error(i+"contains undefined "+vs(r));if(typeof t=="function")throw new Error(i+"contains a function "+vs(r)+" with contents = "+t.toString());if(ju(t))throw new Error(i+"contains "+t.toString()+" "+vs(r));if(typeof t=="string"&&t.length>kd/3&&Bu(t)>kd)throw new Error(i+"contains a string greater than "+kd+" utf8 bytes "+vs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(Et(t,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!ig(d)))throw new Error(i+" contains an invalid key ("+d+") "+vs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rR(r,d),Xu(i,h,r),aR(r)}),o&&c)throw new Error(i+' contains ".value" child '+vs(r)+" in addition to actual children.")}},GD=function(i,t){let s,r;for(s=0;s<t.length;s++){r=t[s];const c=ua(r);for(let d=0;d<c.length;d++)if(!(c[d]===".priority"&&d===c.length-1)){if(!ig(c[d]))throw new Error(i+"contains an invalid key ("+c[d]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(sR);let o=null;for(s=0;s<t.length;s++){if(r=t[s],o!==null&&pn(o,r))throw new Error(i+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}},z0=function(i,t,s,r){const o=Al(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];Et(t,(d,h)=>{const m=new Me(d);if(Xu(o,h,Pe(s,m)),Ih(m)===".priority"&&!I0(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),GD(o,c)},VD=function(i,t,s){if(ju(t))throw new Error(Al(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!I0(t))throw new Error(Al(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},U0=function(i,t,s,r){if(!k0(s))throw new Error(Al(i,t)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},QD=function(i,t,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),U0(i,t,s)},_l=function(i,t){if(de(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},XD=function(i,t){const s=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ig(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!YD(s))throw new Error(Al(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ku(i,t){let s=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();s!==null&&!zh(c,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:c}),s.events.push(o)}s&&i.eventLists_.push(s)}function L0(i,t,s){Ku(i,s),B0(i,r=>zh(r,t))}function Dn(i,t,s){Ku(i,s),B0(i,r=>pn(r,t)||pn(t,r))}function B0(i,t){i.recursionDepth_++;let s=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];if(o){const c=o.path;t(c)?(PD(i.eventLists_[r]),i.eventLists_[r]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function PD(i){for(let t=0;t<i.events.length;t++){const s=i.events[t];if(s!==null){i.events[t]=null;const r=s.getEventRunner();Fr&&bt("event: "+s.toString()),Bl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="repo_interrupt",ZD=25;class WD{constructor(t,s,r,o){this.repoInfo_=t,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new KD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vu(),this.transactionQueueTree_=new tg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $D(i,t,s){if(i.stats_=Mh(i.repoInfo_),i.forceRestClient_||DA())i.server_=new yu(i.repoInfo_,(r,o,c,d)=>{__(i,r,o,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>b_(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{St(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new oi(i.repoInfo_,t,(r,o,c,d)=>{__(i,r,o,c,d)},r=>{b_(i,r)},r=>{eN(i,r)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=IA(i.repoInfo_,()=>new kR(i.stats_,i.server_)),i.infoData_=new RR,i.infoSyncTree_=new p_({startListening:(r,o,c,d)=>{let h=[];const m=i.infoData_.getNode(r._path);return m.isEmpty()||(h=Gu(i.infoSyncTree_,r._path,m),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),sg(i,"connected",!1),i.serverSyncTree_=new p_({startListening:(r,o,c,d)=>(i.server_.listen(r,c,o,(h,m)=>{const g=d(h,m);Dn(i.eventQueue_,r._path,g)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}function JD(i){const s=i.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Pu(i){return ID({timestamp:JD(i)})}function __(i,t,s,r,o){i.dataUpdateCount++;const c=new Me(t);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,s):s;let d=[];if(o)if(r){const m=cu(s,g=>tt(g));d=DD(i.serverSyncTree_,c,m,o)}else{const m=tt(s);d=RD(i.serverSyncTree_,c,m,o)}else if(r){const m=cu(s,g=>tt(g));d=wD(i.serverSyncTree_,c,m)}else{const m=tt(s);d=Gu(i.serverSyncTree_,c,m)}let h=c;d.length>0&&(h=Ml(i,c)),Dn(i.eventQueue_,h,d)}function b_(i,t){sg(i,"connected",t),t===!1&&iN(i)}function eN(i,t){Et(t,(s,r)=>{sg(i,s,r)})}function sg(i,t,s){const r=new Me("/.info/"+t),o=tt(s);i.infoData_.updateSnapshot(r,o);const c=Gu(i.infoSyncTree_,r,o);Dn(i.eventQueue_,r,c)}function lg(i){return i.nextWriteId_++}function tN(i,t,s,r,o){Fu(i,"set",{path:t.toString(),value:s,priority:r});const c=Pu(i),d=tt(s,r),h=Ph(i.serverSyncTree_,t),m=D0(d,h,c),g=lg(i),y=T0(i.serverSyncTree_,t,m,g,!0);Ku(i.eventQueue_,y),i.server_.put(t.toString(),d.val(!0),(b,T)=>{const O=b==="ok";O||Ut("set at "+t+" failed: "+b);const z=ji(i.serverSyncTree_,g,!O);Dn(i.eventQueue_,t,z),Ki(i,o,b,T)});const v=ag(i,t);Ml(i,v),Dn(i.eventQueue_,v,[])}function nN(i,t,s,r){Fu(i,"update",{path:t.toString(),value:s});let o=!0;const c=Pu(i),d={};if(Et(s,(h,m)=>{o=!1,d[h]=R0(Pe(t,h),tt(m),i.serverSyncTree_,c)}),o)bt("update() called with empty data.  Don't do anything."),Ki(i,r,"ok",void 0);else{const h=lg(i),m=TD(i.serverSyncTree_,t,d,h);Ku(i.eventQueue_,m),i.server_.merge(t.toString(),s,(g,y)=>{const v=g==="ok";v||Ut("update at "+t+" failed: "+g);const b=ji(i.serverSyncTree_,h,!v),T=b.length>0?Ml(i,t):t;Dn(i.eventQueue_,T,b),Ki(i,r,g,y)}),Et(s,g=>{const y=ag(i,Pe(t,g));Ml(i,y)}),Dn(i.eventQueue_,t,[])}}function iN(i){Fu(i,"onDisconnectEvents");const t=Pu(i),s=vu();nh(i.onDisconnect_,Re(),(o,c)=>{const d=R0(o,c,i.serverSyncTree_,t);jl(s,o,d)});let r=[];nh(s,Re(),(o,c)=>{r=r.concat(Gu(i.serverSyncTree_,o,c));const d=ag(i,o);Ml(i,d)}),i.onDisconnect_=vu(),Dn(i.eventQueue_,Re(),r)}function sN(i,t,s){i.server_.onDisconnectCancel(t.toString(),(r,o)=>{r==="ok"&&th(i.onDisconnect_,t),Ki(i,s,r,o)})}function S_(i,t,s,r){const o=tt(s);i.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{c==="ok"&&jl(i.onDisconnect_,t,o),Ki(i,r,c,d)})}function lN(i,t,s,r,o){const c=tt(s,r);i.server_.onDisconnectPut(t.toString(),c.val(!0),(d,h)=>{d==="ok"&&jl(i.onDisconnect_,t,c),Ki(i,o,d,h)})}function rN(i,t,s,r){if(Xd(s)){bt("onDisconnect().update() called with empty data.  Don't do anything."),Ki(i,r,"ok",void 0);return}i.server_.onDisconnectMerge(t.toString(),s,(o,c)=>{o==="ok"&&Et(s,(d,h)=>{const m=tt(h);jl(i.onDisconnect_,Pe(t,d),m)}),Ki(i,r,o,c)})}function aN(i,t,s){let r;de(t._path)===".info"?r=y_(i.infoSyncTree_,t,s):r=y_(i.serverSyncTree_,t,s),L0(i.eventQueue_,t._path,r)}function dh(i,t,s){let r;de(t._path)===".info"?r=uh(i.infoSyncTree_,t,s):r=uh(i.serverSyncTree_,t,s),L0(i.eventQueue_,t._path,r)}function oN(i){i.persistentConnection_&&i.persistentConnection_.interrupt(FD)}function Fu(i,...t){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),bt(s,...t)}function Ki(i,t,s,r){t&&Bl(()=>{if(s==="ok")t(null);else{const o=(s||"error").toUpperCase();let c=o;r&&(c+=": "+r);const d=new Error(c);d.code=o,t(d)}})}function j0(i,t,s){return Ph(i.serverSyncTree_,t,s)||oe.EMPTY_NODE}function rg(i,t=i.transactionQueueTree_){if(t||Zu(i,t),ql(t)){const s=q0(i,t);Q(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&uN(i,Ea(t),s)}else O0(t)&&Qu(t,s=>{rg(i,s)})}function uN(i,t,s){const r=s.map(g=>g.currentWriteId),o=j0(i,t,r);let c=o;const d=o.hash();for(let g=0;g<s.length;g++){const y=s[g];Q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=Vt(t,y.path);c=c.updateChild(v,y.currentOutputSnapshotRaw)}const h=c.val(!0),m=t;i.server_.put(m.toString(),h,g=>{Fu(i,"transaction put response",{path:m.toString(),status:g});let y=[];if(g==="ok"){const v=[];for(let b=0;b<s.length;b++)s[b].status=2,y=y.concat(ji(i.serverSyncTree_,s[b].currentWriteId)),s[b].onComplete&&v.push(()=>s[b].onComplete(null,!0,s[b].currentOutputSnapshotResolved)),s[b].unwatcher();Zu(i,ng(i.transactionQueueTree_,t)),rg(i,i.transactionQueueTree_),Dn(i.eventQueue_,t,y);for(let b=0;b<v.length;b++)Bl(v[b])}else{if(g==="datastale")for(let v=0;v<s.length;v++)s[v].status===3?s[v].status=4:s[v].status=0;else{Ut("transaction at "+m.toString()+" failed: "+g);for(let v=0;v<s.length;v++)s[v].status=4,s[v].abortReason=g}Ml(i,t)}},d)}function Ml(i,t){const s=H0(i,t),r=Ea(s),o=q0(i,s);return cN(i,o,r),r}function cN(i,t,s){if(t.length===0)return;const r=[];let o=[];const d=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],g=Vt(s,m.path);let y=!1,v;if(Q(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(ji(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=ZD)y=!0,v="maxretry",o=o.concat(ji(i.serverSyncTree_,m.currentWriteId,!0));else{const b=j0(i,m.path,d);m.currentInputSnapshot=b;const T=t[h].update(b.val());if(T!==void 0){Xu("transaction failed: Data returned ",T,m.path);let O=tt(T);typeof T=="object"&&T!=null&&Hn(T,".priority")||(O=O.updatePriority(b.getPriority()));const L=m.currentWriteId,X=Pu(i),F=D0(O,b,X);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=F,m.currentWriteId=lg(i),d.splice(d.indexOf(L),1),o=o.concat(T0(i.serverSyncTree_,m.path,F,m.currentWriteId,m.applyLocally)),o=o.concat(ji(i.serverSyncTree_,L,!0))}else y=!0,v="nodata",o=o.concat(ji(i.serverSyncTree_,m.currentWriteId,!0))}Dn(i.eventQueue_,s,o),o=[],y&&(t[h].status=2,function(b){setTimeout(b,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(v==="nodata"?r.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):r.push(()=>t[h].onComplete(new Error(v),!1,null))))}Zu(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)Bl(r[h]);rg(i,i.transactionQueueTree_)}function H0(i,t){let s,r=i.transactionQueueTree_;for(s=de(t);s!==null&&ql(r)===void 0;)r=ng(r,s),t=Be(t),s=de(t);return r}function q0(i,t){const s=[];return Y0(i,t,s),s.sort((r,o)=>r.order-o.order),s}function Y0(i,t,s){const r=ql(t);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Qu(t,o=>{Y0(i,o,s)})}function Zu(i,t){const s=ql(t);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,N0(t,s.length>0?s:void 0)}Qu(t,r=>{Zu(i,r)})}function ag(i,t){const s=Ea(H0(i,t)),r=ng(i.transactionQueueTree_,t);return BD(r,o=>{Id(i,o)}),Id(i,r),M0(r,o=>{Id(i,o)}),s}function Id(i,t){const s=ql(t);if(s){const r=[];let o=[],c=-1;for(let d=0;d<s.length;d++)s[d].status===3||(s[d].status===1?(Q(c===d-1,"All SENT items should be at beginning of queue."),c=d,s[d].status=3,s[d].abortReason="set"):(Q(s[d].status===0,"Unexpected transaction status in abort"),s[d].unwatcher(),o=o.concat(ji(i.serverSyncTree_,s[d].currentWriteId,!0)),s[d].onComplete&&r.push(s[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?N0(t,void 0):s.length=c+1,Dn(i.eventQueue_,Ea(t),o);for(let d=0;d<r.length;d++)Bl(r[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(i){let t="";const s=i.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function dN(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ut(`Invalid query segment '${s}' in query '${i}'`)}return t}const E_=function(i,t){const s=hN(i),r=s.namespace;s.domain==="firebase.com"&&fi(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||bA();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new Fb(s.host,s.secure,r,o,t,"",r!==s.subdomain),path:new Me(s.pathString)}},hN=function(i){let t="",s="",r="",o="",c="",d=!0,h="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let y=i.indexOf("/");y===-1&&(y=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),t=i.substring(0,Math.min(y,v)),y<v&&(o=fN(i.substring(y,v)));const b=dN(i.substring(Math.min(i.length,v)));g=t.indexOf(":"),g>=0?(d=h==="https"||h==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const T=t.slice(0,g);if(T.toLowerCase()==="localhost")s="localhost";else if(T.split(".").length<=2)s=T;else{const O=t.indexOf(".");r=t.substring(0,O).toLowerCase(),s=t.substring(O+1),c=r}"ns"in b&&(c=b.ns)}return{host:t,port:m,domain:s,subdomain:r,secure:d,scheme:h,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t,s,r,o){this.eventType=t,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+St(this.snapshot.exportVal())}}class mN{constructor(t,s,r){this.eventRegistration=t,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(t,s){this.snapshotCallback=t,this.cancelCallback=s}onValue(t,s){this.snapshotCallback.call(null,t,s)}onCancel(t){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t,s){this._repo=t,this._path=s}cancel(){const t=new jn;return sN(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){_l("OnDisconnect.remove",this._path);const t=new jn;return S_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){_l("OnDisconnect.set",this._path),fh("OnDisconnect.set",t,this._path);const s=new jn;return S_(this._repo,this._path,t,s.wrapCallback(()=>{})),s.promise}setWithPriority(t,s){_l("OnDisconnect.setWithPriority",this._path),fh("OnDisconnect.setWithPriority",t,this._path),VD("OnDisconnect.setWithPriority",s);const r=new jn;return lN(this._repo,this._path,t,s,r.wrapCallback(()=>{})),r.promise}update(t){_l("OnDisconnect.update",this._path),z0("OnDisconnect.update",t,this._path);const s=new jn;return rN(this._repo,this._path,t,s.wrapCallback(()=>{})),s.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,s,r,o){this._repo=t,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return me(this._path)?null:Ih(this._path)}get ref(){return new Pi(this._repo,this._path)}get _queryIdentifier(){const t=r_(this._queryParams),s=Nh(t);return s==="{}"?"default":s}get _queryObject(){return r_(this._queryParams)}isEqual(t){if(t=Ll(t),!(t instanceof og))return!1;const s=this._repo===t._repo,r=zh(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+iR(this._path)}}class Pi extends og{constructor(t,s){super(t,s,new jh,!1)}get parent(){const t=s0(this._path);return t===null?null:new Pi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class xu{constructor(t,s,r){this._node=t,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const s=new Me(t),r=hh(this.ref,t);return new xu(this._node.getChild(s),r,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>t(new xu(o,hh(this.ref,r),Fe)))}hasChild(t){const s=new Me(t);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ot(i,t){return i=Ll(i),i._checkNotDeleted("ref"),t!==void 0?hh(i._root,t):i._root}function hh(i,t){return i=Ll(i),de(i._path)===null?QD("child","path",t):U0("child","path",t),new Pi(i._repo,Pe(i._path,t))}function vN(i){return i=Ll(i),new yN(i._repo,i._path)}function C_(i){return _l("remove",i._path),gn(i,null)}function gn(i,t){i=Ll(i),_l("set",i._path),fh("set",t,i._path);const s=new jn;return tN(i._repo,i._path,t,null,s.wrapCallback(()=>{})),s.promise}function _N(i,t){z0("update",t,i._path);const s=new jn;return nN(i._repo,i._path,t,s.wrapCallback(()=>{})),s.promise}class ug{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,s){const r=s._queryParams.getIndex();return new gN("value",this,new xu(t.snapshotNode,new Pi(s._repo,s._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,s){return this.callbackContext.hasCancelCallback?new mN(this,t,s):null}matches(t){return t instanceof ug?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function bN(i,t,s,r,o){let c;if(typeof r=="object"&&(c=void 0,o=r),typeof r=="function"&&(c=r),o&&o.onlyOnce){const m=s,g=(y,v)=>{dh(i._repo,i,h),m(y,v)};g.userCallback=s.userCallback,g.context=s.context,s=g}const d=new pN(s,c||void 0),h=new ug(d);return aN(i._repo,i,h),()=>dh(i._repo,i,h)}function Ko(i,t,s,r){return bN(i,"value",t,s,r)}function T_(i,t,s){dh(i._repo,i,null)}mD(Pi);SD(Pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="FIREBASE_DATABASE_EMULATOR_HOST",gh={};let EN=!1;function CN(i,t,s,r){const o=t.lastIndexOf(":"),c=t.substring(0,o),d=Rh(c);i.repoInfo_=new Fb(t,d,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(i.authTokenProvider_=r)}function TN(i,t,s,r,o){let c=r||i.options.databaseURL;c===void 0&&(i.options.projectId||fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=E_(c,o),h=d.repoInfo,m;typeof process<"u"&&Yv&&(m=Yv[SN]),m?(c=`http://${m}?ns=${h.namespace}`,d=E_(c,o),h=d.repoInfo):d.repoInfo.secure;const g=new OA(i.name,i.options,t);XD("Invalid Firebase Database URL",d),me(d.path)||fi("Database URL must point to the root of a Firebase Database (not including a child path).");const y=xN(h,i,g,new NA(i,s));return new AN(y,i)}function wN(i,t){const s=gh[t];(!s||s[i.key]!==i)&&fi(`Database ${t}(${i.repoInfo_}) has already been deleted.`),oN(i),delete s[i.key]}function xN(i,t,s,r){let o=gh[t.name];o||(o={},gh[t.name]=o);let c=o[i.toURLString()];return c&&fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new WD(i,EN,s,r),o[i.toURLString()]=c,c}class AN{constructor(t,s){this._repoInternal=t,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($D(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pi(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&fi("Cannot call "+t+" on a deleted database.")}}function RN(i=iA(),t){const s=$x(i,"database").getImmediate({identifier:t});if(!s._instanceStarted){const r=Lw("database");r&&DN(s,...r)}return s}function DN(i,t,s,r={}){i=Ll(i),i._checkNotDeleted("useEmulator");const o=`${t}:${s}`,c=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&fu(r,c.repoInfo_.emulatorOptions))return;fi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&fi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Zo(Zo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:jw(r.mockUserToken,i.app.options.projectId);d=new Zo(h)}Rh(t)&&(Bw(t),Yw("Database",!0)),CN(c,o,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(i){gA(nA),hu(new ra("database",(t,{instanceIdentifier:s})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return TN(r,o,c,s)},"PUBLIC").setMultipleInstances(!0)),Sl(Gv,Vv,i),Sl(Gv,Vv,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={".sv":"timestamp"};function Po(){return ON}oi.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};oi.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};NN();var MN="firebase",kN="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl(MN,kN,"app");const IN={apiKey:"AIzaSyBiJeRLoF6FpIfIRUBC7KIf2GUMz_LqfrQ",authDomain:"collaborative-task-board-b565a.firebaseapp.com",databaseURL:"https://collaborative-task-board-b565a-default-rtdb.firebaseio.com/",projectId:"collaborative-task-board-b565a",storageBucket:"collaborative-task-board-b565a.firebasestorage.app",messagingSenderId:"14301316328",appId:"1:14301316328:web:1d84fd0b1e9891e1ef755d"},zN=Mb(IN),ut=RN(zN);class UN{constructor(){this.boardRef=ot(ut,"board"),this.usersRef=ot(ut,"users"),this.presenceRef=ot(ut,"presence")}async createColumn(t){try{const s=ot(ut,`board/columns/${t.id}`);await gn(s,t);const r=ot(ut,"board/columnOrder"),o=await this.getColumnOrder();return await gn(r,[...o,t.id]),t}catch(s){throw s}}async updateColumn(t,s){try{const r=ot(ut,`board/columns/${t}`);return await gn(r,s),s}catch(r){throw r}}async deleteColumn(t){try{const s=ot(ut,`board/columns/${t}`);await C_(s);const r=ot(ut,"board/columnOrder"),c=(await this.getColumnOrder()).filter(d=>d!==t);return await gn(r,c),t}catch(s){throw s}}async reorderTasksInColumn(t,s){const r=ot(ut,`board/columns/${t}/taskIds`);await gn(r,s)}async createTask(t,s){try{const r=ot(ut,`board/tasks/${t.id}`);await gn(r,t);const o=ot(ut,`board/columns/${s}/taskIds`),c=await this.getColumnTasks(s);return await gn(o,[...c,t.id]),t}catch(r){throw r}}async updateTask(t,s){try{const r=ot(ut,`board/tasks/${t}`),o={...s,updatedAt:Po()};return await gn(r,o),o}catch(r){throw r}}async deleteTask(t,s){try{const r=ot(ut,`board/tasks/${t}`);await C_(r);const o=ot(ut,`board/columns/${s}/taskIds`),d=(await this.getColumnTasks(s)).filter(h=>h!==t);return await gn(o,d),t}catch(r){throw r}}async moveTask(t,s,r,o,c){try{const d=await this.getColumnTasks(s),h=s===r?[...d]:await this.getColumnTasks(r),m=d.filter((b,T)=>T!==o),g=[...h.slice(0,c),t,...h.slice(c)],y={};y[`board/columns/${s}/taskIds`]=m,s!==r&&(y[`board/columns/${r}/taskIds`]=g);const v=ot(ut);return await _N(v,y),{taskId:t,sourceColumnId:s,destinationColumnId:r}}catch(d){throw d}}async setUserOnline(t){try{const s=ot(ut,`presence/${t.id}`);return await gn(s,{...t,isOnline:!0,lastSeen:Po()}),vN(s).set({...t,isOnline:!1,lastSeen:Po()}),t}catch(s){throw s}}async setUserOffline(t){try{const s=typeof t=="string"?t:t==null?void 0:t.id;if(!s)throw new Error("Invalid userId");const r=ot(ut,`presence/${s}`);return await gn(r,{isOnline:!1,lastSeen:Po()}),s}catch(s){throw s}}subscribeToBoardChanges(t){Ko(this.boardRef,s=>{const r=s.val();t(r)})}subscribeToPresenceChanges(t){Ko(this.presenceRef,s=>{const r=s.val()||{};t(r)})}unsubscribeFromBoardChanges(){T_(this.boardRef)}unsubscribeFromPresenceChanges(){T_(this.presenceRef)}async getColumnOrder(){return new Promise(t=>{const s=ot(ut,"board/columnOrder");Ko(s,r=>{const o=r.val()||[];t(o)},{onlyOnce:!0})})}async getColumnTasks(t){return new Promise(s=>{const r=ot(ut,`board/columns/${t}/taskIds`);Ko(r,o=>{const c=o.val()||[];s(c)},{onlyOnce:!0})})}}const Gt=new UN,LN=()=>{const i=R_(),{columns:t,tasks:s,columnOrder:r}=Wo(c=>c.board),o=Wo(c=>c.user.currentUser);return A.useEffect(()=>(i(_d(!0)),(async()=>{try{Gt.subscribeToBoardChanges(d=>{d&&i(cC({columns:d.columns||{},tasks:d.tasks||{},columnOrder:d.columnOrder||[]})),i(_d(!1))}),Gt.subscribeToPresenceChanges(d=>{i(mC(d))}),await Gt.setUserOnline(o)}catch(d){i(li(d.message)),i(_d(!1))}})(),()=>{Gt.unsubscribeFromBoardChanges(),Gt.unsubscribeFromPresenceChanges(),Gt.setUserOffline(o).catch(console.error)}),[i,o]),{columns:t,tasks:s,columnOrder:r}},cg=()=>{const i=R_();return{createColumn:async g=>{try{const y={id:`column_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:g,taskIds:[],createdAt:new Date().toISOString()};return await Gt.createColumn(y),y}catch(y){throw i(li(y.message)),y}},updateColumn:async(g,y)=>{try{const v={id:g,title:y,taskIds:[],updatedAt:new Date().toISOString()};return await Gt.updateColumn(g,v),v}catch(v){throw i(li(v.message)),v}},deleteColumn:async g=>{try{return await Gt.deleteColumn(g),g}catch(y){throw i(li(y.message)),y}},createTask:async(g,y,v="")=>{try{const b={id:`task_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,title:y,description:v,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return await Gt.createTask(b,g),b}catch(b){throw i(li(b.message)),b}},updateTask:async(g,y,v)=>{try{const b={id:g,title:y,description:v,updatedAt:new Date().toISOString()};return await Gt.updateTask(g,b),b}catch(b){throw i(li(b.message)),b}},deleteTask:async(g,y)=>{try{return await Gt.deleteTask(g,y),g}catch(v){throw i(li(v.message)),v}},reorderTasksInColumn:async(g,y)=>{try{await Gt.reorderTasksInColumn(g,y)}catch(v){throw i(li(v.message)),v}},moveTask:async(g,y,v,b,T)=>{try{return await Gt.moveTask(g,y,v,b,T),{taskId:g,sourceColumnId:y,destinationColumnId:v,sourceIndex:b,destinationIndex:T}}catch(O){throw i(li(O.message)),O}}}},G0=({task:i,columnId:t})=>{const[s,r]=A.useState(!1),[o,c]=A.useState(i.title),[d,h]=A.useState(i.description||""),[m,g]=A.useState(!1),{updateTask:y,deleteTask:v}=cg(),{attributes:b,listeners:T,setNodeRef:O,transform:z,transition:L,isDragging:X}=aw({id:i.id}),F={transform:Vi.Transform.toString(z),transition:L,opacity:X?.5:1},G=async()=>{if(o.trim())try{await y(i.id,o.trim(),d.trim()),r(!1),g(!1)}catch(q){console.error("Failed to update task:",q)}},Y=async()=>{try{await v(i.id,t),g(!1)}catch(q){console.error("Failed to delete task:",q)}},H=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return k.jsxs(k.Fragment,{children:[k.jsx("div",{ref:O,style:F,className:`mb-2 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer ${X?"rotate-2 scale-105":""}`,children:k.jsxs("div",{className:"p-3",children:[k.jsxs("div",{className:"flex items-start justify-between",children:[k.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[k.jsx("div",{...b,...T,className:"cursor-grab hover:cursor-grabbing p-1 text-gray-400 hover:text-gray-600",children:k.jsx(bw,{className:"h-4 w-4"})}),k.jsx("h3",{className:"font-medium text-sm flex-1 break-words",children:i.title})]}),k.jsx("button",{onClick:()=>g(!0),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:k.jsx(yb,{className:"h-3 w-3"})})]}),i.description&&k.jsx("div",{className:"mt-2",children:k.jsx("p",{className:"text-xs text-gray-600 break-words",children:i.description})}),k.jsx("div",{className:"mt-2",children:k.jsxs("div",{className:"text-xs text-gray-400",children:[i.updatedAt!==i.createdAt?"Updated":"Created",": ",H(i.updatedAt||i.createdAt)]})})]})}),m&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold",children:"Edit Task"}),k.jsx("button",{onClick:()=>g(!1),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:k.jsx(_b,{className:"h-4 w-4"})})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),k.jsx("input",{type:"text",value:o,onChange:q=>c(q.target.value),placeholder:"Task title",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),k.jsx("textarea",{value:d,onChange:q=>h(q.target.value),placeholder:"Task description (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsxs("button",{onClick:Y,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[k.jsx(vb,{className:"h-4 w-4 mr-2"}),"Delete"]}),k.jsxs("div",{className:"space-x-2",children:[k.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),k.jsx("button",{onClick:G,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Save"})]})]})]})]})})]})},BN=({column:i,tasks:t})=>{var ee;const[s,r]=A.useState(!1),[o,c]=A.useState(""),[d,h]=A.useState(""),[m,g]=A.useState(!1),[y,v]=A.useState(i.title),[b,T]=A.useState(!1),{createTask:O,updateColumn:z,deleteColumn:L}=cg(),{setNodeRef:X,isOver:F}=cb({id:i.id}),G=(ee=i.taskIds)==null?void 0:ee.map(W=>t[W]).filter(Boolean),Y=async()=>{if(o.trim())try{await O(i.id,o.trim(),d.trim()),c(""),h(""),r(!1)}catch(W){console.error("Failed to create task:",W)}},H=async()=>{if(y.trim())try{await z(i.id,y.trim()),g(!1),T(!1)}catch(W){console.error("Failed to update column:",W)}},q=async()=>{try{await L(i.id),T(!1)}catch(W){console.error("Failed to delete column:",W)}},Z=()=>{v(i.title),g(!1)},$=(W,ue)=>{W.key==="Enter"?ue():W.key==="Escape"&&(ue===Y?(r(!1),c(""),h("")):ue===H&&Z())};return k.jsxs(k.Fragment,{children:[k.jsxs("div",{ref:X,className:`w-80 h-fit max-h-96 flex flex-col bg-white border border-gray-200 rounded-lg shadow-sm ${F?"ring-2 ring-blue-400":""}`,children:[k.jsx("div",{className:"p-4 border-b border-gray-200",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("h2",{className:"font-semibold text-gray-800",children:i.title}),k.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:G==null?void 0:G.length})]}),k.jsxs("div",{className:"flex items-center space-x-1",children:[k.jsx("button",{onClick:()=>r(!0),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:k.jsx(Vd,{className:"h-4 w-4"})}),k.jsx("button",{onClick:()=>T(!0),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:k.jsx(vw,{className:"h-4 w-4"})})]})]})}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[s&&k.jsx("div",{className:"mb-3 border-2 border-dashed border-blue-300 rounded-lg p-3",children:k.jsxs("div",{className:"space-y-2",children:[k.jsx("input",{type:"text",value:o,onChange:W=>c(W.target.value),placeholder:"Task title",onKeyDown:W=>$(W,Y),autoFocus:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),k.jsx("textarea",{value:d,onChange:W=>h(W.target.value),placeholder:"Description (optional)",rows:2,onKeyDown:W=>{W.key==="Enter"&&W.ctrlKey?Y():W.key==="Escape"&&(r(!1),c(""),h(""))},className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),k.jsxs("div",{className:"flex justify-end space-x-2",children:[k.jsx("button",{onClick:()=>{r(!1),c(""),h("")},className:"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),k.jsx("button",{onClick:Y,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Task"})]})]})}),Array.isArray(i==null?void 0:i.taskIds)&&i.taskIds.length>0?k.jsx(ew,{items:i.taskIds,strategy:$T,children:Array.isArray(i.taskIds)&&i.taskIds.map(W=>t[W]).filter(W=>W).map(W=>k.jsx(G0,{task:W,columnId:i.id},`${W.id}_${i.id}`))}):k.jsx("div",{className:"text-gray-400 text-sm p-2",children:"No tasks"}),!s&&(G==null?void 0:G.length)===0&&k.jsxs("div",{className:"text-center text-gray-400 py-8",children:[k.jsx("p",{className:"text-sm",children:"No tasks yet"}),k.jsxs("button",{onClick:()=>r(!0),className:"mt-2 px-3 py-1 text-sm text-gray-500 border border-gray-300 rounded-md hover:bg-gray-50 flex items-center mx-auto",children:[k.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Add your first task"]})]})]})]}),b&&k.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:k.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-lg font-semibold",children:"Column Settings"}),k.jsx("button",{onClick:()=>T(!1),className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded",children:k.jsx(_b,{className:"h-4 w-4"})})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsxs("div",{children:[k.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Column Title"}),k.jsx("input",{type:"text",value:y,onChange:W=>v(W.target.value),placeholder:"Column title",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsxs("button",{onClick:q,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:[k.jsx(vb,{className:"h-4 w-4 mr-2"}),"Delete Column"]}),k.jsxs("div",{className:"space-x-2",children:[k.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),k.jsxs("button",{onClick:H,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[k.jsx(yb,{className:"h-4 w-4 mr-2"}),"Update"]})]})]})]})]})})]})},jN=({users:i})=>{const t=Object.values(i||{}).filter(o=>o.isOnline),s=o=>o.split(" ").map(c=>c[0]).join("").toUpperCase().slice(0,2),r=o=>({red:"bg-red-500",blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",purple:"bg-purple-500",pink:"bg-pink-500",indigo:"bg-indigo-500",teal:"bg-teal-500"})[o]||"bg-gray-500";return t.length===0?k.jsx("div",{className:"flex items-center text-gray-500",children:k.jsx("span",{className:"text-sm",children:"No users online"})}):k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"Online:"}),k.jsxs("div",{className:"flex -space-x-2",children:[t.slice(0,5).map((o,c)=>k.jsxs("div",{className:"relative",children:[k.jsx("div",{className:`h-8 w-8 rounded-full border-2 border-white flex items-center justify-center text-white text-xs font-medium ${r(o.color)}`,children:s(o.name)}),k.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-3 w-3 bg-green-400 border-2 border-white rounded-full"})]},o.id)),t.length>5&&k.jsxs("div",{className:"flex items-center justify-center h-8 w-8 bg-gray-200 border-2 border-white rounded-full text-xs font-medium text-gray-600",children:["+",t.length-5]})]}),t.length<=3&&k.jsx("div",{className:"flex flex-col space-y-1 ml-3",children:t.map(o=>k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("div",{className:`h-2 w-2 rounded-full ${r(o.color)}`}),k.jsx("span",{className:"text-xs text-gray-600",children:o.name})]},o.id))})]})},HN=()=>{const[i,t]=A.useState(null),[s,r]=A.useState(!1),[o,c]=A.useState(""),{columns:d,tasks:h,columnOrder:m}=LN(),{createColumn:g,moveTask:y,reorderTasksInColumn:v}=cg(),{loading:b,error:T}=Wo(q=>q.board),{onlineUsers:O,totalUsers:z}=Wo(q=>q.user),L=MC(yv(Th),yv(Eh,{coordinateGetter:cw})),X=async()=>{if(o.trim())try{await g(o.trim()),c(""),r(!1)}catch(q){console.error("Failed to add column:",q)}},F=q=>{t(q.active.id)},G=q=>{const{active:Z,over:$}=q;if(!$)return;const ee=Z.id,W=$.id;if(ee===W||!h[ee])return;const ye=Object.values(d).find(M=>Array.isArray(M.taskIds)&&M.taskIds.includes(ee));let Ce;if(h[W]?Ce=Object.values(d).find(M=>Array.isArray(M.taskIds)&&M.taskIds.includes(W)):Ce=d[W],!ye||!Ce||ye.id===Ce.id)return;const Ue=ye.taskIds.indexOf(ee);let De;h[W]?De=Ce.taskIds.indexOf(W):De=0,y(ee,ye.id,Ce.id,Ue,De)},Y=q=>{const{active:Z,over:$}=q;if(t(null),!$)return;const ee=Z.id,W=$.id;if(ee===W)return;const ue=h[ee],ye=h[W];if(ue&&ye){const Ce=Object.values(d).find(Ue=>Array.isArray(Ue.taskIds)&&Ue.taskIds.includes(ee)&&Ue.taskIds.includes(W));if(Ce){const Ue=Ce.taskIds.indexOf(ee),De=Ce.taskIds.indexOf(W);if(Ue!==De){const M=xh(Ce.taskIds,Ue,De);v(Ce.id,M)}}if(!Ce)return}},H=i?h[i]:null;return b?k.jsx("div",{className:"flex items-center justify-center h-screen",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading board..."})]})}):T?k.jsx("div",{className:"flex items-center justify-center h-screen",children:k.jsxs("div",{className:"text-center text-red-600",children:[k.jsx("p",{className:"text-xl font-semibold",children:"Error loading board"}),k.jsx("p",{className:"mt-2",children:T})]})}):Array.isArray(m)?k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Board"}),k.jsxs("div",{className:"flex items-center space-x-1 px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:[k.jsx(ww,{className:"h-3 w-3"}),k.jsxs("span",{className:"text-sm",children:[z," online"]})]})]}),k.jsx(jN,{users:O})]})}),k.jsx("div",{className:"p-6",children:k.jsxs(NT,{sensors:L,collisionDetection:K_,onDragStart:F,onDragOver:G,onDragEnd:Y,children:[k.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:[m.map(q=>{const Z=d[q];return Z?k.jsx(BN,{column:Z,tasks:h},Z.id):null}),k.jsx("div",{className:"w-80 flex-shrink-0",children:s?k.jsxs("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-4",children:[k.jsx("input",{type:"text",value:o,onChange:q=>c(q.target.value),placeholder:"Column title",onKeyDown:q=>{q.key==="Enter"?X():q.key==="Escape"&&(r(!1),c(""))},autoFocus:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),k.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[k.jsx("button",{onClick:()=>{r(!1),c("")},className:"px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Cancel"}),k.jsx("button",{onClick:X,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Add Column"})]})]}):k.jsxs("button",{onClick:()=>r(!0),className:"w-full h-12 border-dashed border-2 border-gray-300 text-gray-500 hover:text-gray-700 hover:border-gray-400 rounded-lg flex items-center justify-center bg-white",children:[k.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Add Column"]})})]}),k.jsx(PT,{children:H?k.jsx(G0,{task:H,columnId:""}):null})]})})]}):null};function qN(){return k.jsx(EE,{store:yC,children:k.jsx("div",{className:"App min-h-screen bg-gray-50",children:k.jsx(HN,{})})})}aE.createRoot(document.getElementById("root")).render(k.jsx(A.StrictMode,{children:k.jsx(qN,{})}));
